<!doctype html><html lang=en-GB><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=Strict-Transport-Security content="max-age=31536000; includeSubDomains"><meta http-equiv=X-Frame-Options content="SAMEORIGIN"><meta http-equiv=X-Content-Type-Options content="nosniff"><meta http-equiv=Referrer-Policy content="no-referrer-when-downgrade"><meta http-equiv=Content-Security-Policy content="style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net/npm/mermaid/dist/; script-src 'self' 'sha256-GoUI0hA42/W90nTDE3+8IM59Pmj5d7MTNu1m0Qv4C+o=' 'sha256-eg7hiIPJDJy7WtCOgK4mlnMdUDYpX6h90ef9pORicds=' https://cdn.jsdelivr.net/npm/mermaid/dist/ https://www.googletagmanager.com/gtag/js js.hs-scripts.com https://js.hscollectedforms.net/collectedforms.js js.hs-analytics.net https://js.usemessages.com/conversations-embed.js https://js.hsadspixel.net/fb.js js.hs-banner.com https://www.google-analytics.com/analytics.js googleads.g.doubleclick.net;"><link rel=preload as=font href=https://docs.datatrails.ai/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.datatrails.ai/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://docs.datatrails.ai/main.c6d014fb8c7ce54b3fa20c1de175b7712c762183e7469e4ce8756d34cbfa5a47a7ce249bae032414f62dbc50462dae57544f3eb01f9efdae84161628644e70f9.css integrity="sha512-xtAU+4x85Us/ogwd4XW3cSx2IYPnRp5M6HVtNMv6WkenziSbrgMkFPYtvFBGLa5XVE8+sB+e/a6EFhYoZE5w+Q==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Advanced Concepts - DataTrails</title>
<meta name=description content="DataTrails Advanced Concepts"><link rel=canonical href=https://docs.datatrails.ai/platform/overview/advanced-concepts/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/RKVST_WhtLogo_CMYK.svg"><meta name=twitter:title content="Advanced Concepts"><meta name=twitter:description content="DataTrails Advanced Concepts"><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta property="og:title" content="Advanced Concepts"><meta property="og:description" content="DataTrails Advanced Concepts"><meta property="og:type" content="article"><meta property="og:url" content="/platform/overview/advanced-concepts/"><meta property="og:image" content="/RKVST_WhtLogo_CMYK.svg"><meta property="article:published_time" content="2021-06-14T10:57:58+01:00"><meta property="article:modified_time" content="2024-03-19T10:57:58+01:00"><meta property="og:site_name" content="DataTrails"><meta property="article:publisher" content="https://www.facebook.com/"><meta property="article:author" content="https://www.facebook.com/"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/docs.datatrails.ai\/"},{"@type":"ListItem","position":3,"name":"Platform","item":"https:\/\/docs.datatrails.ai\/\/platform\/"},{"@type":"ListItem","position":4,"name":"Overview","item":"https:\/\/docs.datatrails.ai\/\/platform\/overview\/"},{"@type":"ListItem","position":5,"name":"Advanced Concepts","item":"https:\/\/docs.datatrails.ai\/\/platform\/overview\/advanced-concepts\/"}]}</script><meta name=theme-color content="#fff"><link rel=icon type=image/png sizes=32x32 href=https://docs.datatrails.ai/DataTrails_Favicon_32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.datatrails.ai/DataTrails_Favicon_16x16.png><link rel=manifest href=https://docs.datatrails.ai/site.webmanifest><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/9491266.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7K46H3KK7N"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7K46H3KK7N")</script></head><body class="platform single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" style=font-family:Montserrat href=https://www.datatrails.ai>DataTrails</a>
<button id=mode class="btn btn-link order-2 order-md-3" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav main-nav me-auto order-6 order-md-3" style=white-space:nowrap><a href=https://app.datatrails.ai/login target=_blank rel="noopener noreferrer" class="btn btn-link" style=margin-left:20px;font-size:18px role=button>Sign In</a>
<a href=https://app.datatrails.ai/signup target=_blank rel="noopener noreferrer" class="btn btn-primary btn-xs" style=margin-left:10px;font-size:18px;padding-top:9px role=button>Sign Up</a></ul></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2" style=white-space:nowrap><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/>Home</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/>Developers</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/platform/overview/core-concepts/>Platform</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/usecases/authenticity-and-attestation/>Use Cases</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/glossary/common-datatrails-terms/>Glossary</a></li><li class=nav-item><a class=nav-link href=https://support.datatrails.ai>Support</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#overview aria-expanded=true>
Overview</button><div class="collapse show" id=overview><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/core-concepts/>Core Concepts</a></li><li><a class="docs-link rounded active" href=https://docs.datatrails.ai/platform/overview/advanced-concepts/>Advanced Concepts</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/creating-an-asset/>Creating an Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/>Creating an Event Against an Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/>Registering a Document Profile Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/>Registering an Event Against a Document Profile Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/instaproof/>Instaproof</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/public-attestation/>Public Attestation</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#administration aria-expanded=false>
Administration</button><div class=collapse id=administration><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/identity-and-access-management/>Identity and Access Management</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/verified-domain/>Verified Domain</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/>Managing Internal Access to Your Tenant</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/>Managing External Access to Your Tenant</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/dropbox-integration/>Dropbox Integration</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/compliance-policies/>Compliance Policies</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/>Grouping Assets by Location</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#events>Events</a><ul><li><a href=#event-attributes>Event Attributes</a></li><li><a href=#asset-container>Asset Container</a></li><li><a href=#deleting-assets-untracking>Deleting Assets (untracking)</a></li><li><a href=#timestamps-on-events>Timestamps on Events</a></li><li><a href=#user-principals-on-events>User Principals on Events</a></li></ul></li><li><a href=#access-policies>Access Policies</a><ul><li><a href=#public-attestations>Public Attestations</a></li><li><a href=#considerations>Considerations</a></li><li><a href=#access-policy-configuration>Access Policy Configuration</a></li><li><a href=#revoking-access>Revoking Access</a></li></ul></li><li><a href=#attachments--content-integrity-protection>Attachments & Content Integrity Protection</a><ul><li><a href=#assetevent-primary-image>Asset/Event Primary Image</a></li></ul></li><li><a href=#geolocation>Geolocation</a></li><li><a href=#thats-it>That&rsquo;s It</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://docs.datatrails.ai/>Home</a></li><li class=breadcrumb-item><a href=https://docs.datatrails.ai/platform/>Platform</a></li><li class=breadcrumb-item><a href=https://docs.datatrails.ai/platform/overview/>Overview</a></li><li class="breadcrumb-item active" aria-current=page>Advanced Concepts</li></ol></nav><div class=my-n3></div><h1>Advanced Concepts</h1><p class=lead>This section goes into more detail on subjects covered in Core Concepts, introducing some additional concepts.</p><h2 id=events>Events<a href=#events class=anchor aria-hidden=true>#</a></h2><p>The principal objects in the DataTrails platform are <em>Events</em>.
These are the records that represent the collective
<a href=https://docs.datatrails.ai/platform/overview/core-concepts/#the-golden-thread>&lsquo;Golden Thread&rsquo;</a> of evidence contributed by all stakeholders about a particular <em>thing</em>.</p><p>That <em>thing</em> can represent anything: a file, a piece of data, a physical thing or even a business process.
All that&rsquo;s needed is an identifier of the <em>thing</em> to corelate across the Events recorded about the <em>thing</em>.
As long as shared accountability needs to be traced and trustworthy, Events can be recorded about it.
If there are <em>moments that matter</em> they can be committed to the DataTrails immutable audit log.</p><p>What defines a moment that matters? It&rsquo;s all about the use case: if you think you might need to prove something in a multi-party dispute later, chances are you can save a lot of time and stress by committing it to the ledger.
Simply looking and knowing the current state of things isn&rsquo;t enough: sure, it has software version 3.0 now but when was that released? Before the major incident? After the major incident? This morning before the support call? By recording events into an immutable audit trail, questions relating to that fact can be answered.</p><p>DataTrails ensures complete and tamper-proof lineage and provenance for all Asset attributes by enforcing a simple rule:
<em>Events cannot be modified once published! No shredding, tampering or backdating is possible without leaving an undeniable trace in the log.</em></p><h3 id=event-attributes>Event Attributes<a href=#event-attributes class=anchor aria-hidden=true>#</a></h3><p>DataTrails Events are essentially very simple: a collection of <em>attributes</em> that describe the Event.
The power of the system comes from the fact that those attributes come with complete traceable provenance and are guaranteed to appear the same to every stakeholder, creating a single source of truth for shared business processes.</p><p>DataTrails is not opinionated about Event content, meaning attributes can trace anything deemed important to participants.
Much like #hashtags on social media platforms, Event Attributes can be invented by anyone at any time, but once an attribute has been recorded, it will be fully traced from that point on.</p><h3 id=asset-container>Asset Container<a href=#asset-container class=anchor aria-hidden=true>#</a></h3><blockquote class="note callout"><div><strong></strong><p><strong>Note:</strong> Assets will soon be deprecated for a more flexible and powerful concept of <em>Trails</em>.</p><p>The change is subtle, but where Assets only allow Events to be registered against a single thing or theme, Trails will enable Events to be free of any such restriction leading to more natural expression of <em>what happened when</em> or <em>who said what about what</em>.</p><p>To prepare for this change, when writing code integrations be sure to focus on Event attributes and not mutable <code>asset_attributes</code>.
This will ensure best performance and minimal code changes to take advantage of the newer API.
Trails will still support simple properties like types, descriptions and thumbnails for search and grouping purposes.</p></div></blockquote><p>In the current platform, Events are registered into collections called <em>Assets</em>.
<a href=https://docs.datatrails.ai/developers/api-reference/assets-api/>Assets</a> may represent an individual thing, a class of things, or something more abstract like &lsquo;all Events for this day&rsquo;.
As Assets are retired, Events can still be correlated by Trails or Event Attributes.</p><p>Some care should be taken in designing the scheme for this as it will aid in simplifying sharing policies.</p><p>See the
<a href=https://docs.datatrails.ai/developers/templates/>Templates</a> section for domain specific examples.</p><h3 id=deleting-assets-untracking>Deleting Assets (untracking)<a href=#deleting-assets-untracking class=anchor aria-hidden=true>#</a></h3><p>An essential value of storing evidence in DataTrails is that data is always available to stakeholders and cannot be shredded or manipulated later.
Given this, it is not possible to actually delete Assets from the system, but there will be cases where it is desirable to hide Assets in the UI or omit them from default searches or compliance queries (for instance as a result of decommissioning or disposal of the corresponding physical asset).</p><p>To accommodate this need DataTrails separates the Asset estate into 2 classes: tracked Assets (those that are interesting to the system and actively recording events) and untracked Assets (those that are no longer actively interesting).
When for any reason it becomes desirable to remove an Asset, the Asset owner can make it <em>untracked</em> so that it does not appear in lists or searches.</p><blockquote class="caution callout"><div><strong></strong> <strong>Caution:</strong> Untracking an Asset does not remove it or its Event history from the system; all stakeholders who previously had access to the record will continue to have access to the Event history, <em>including</em> the untracking event, if they look for it.</div></blockquote><h3 id=timestamps-on-events>Timestamps on Events<a href=#timestamps-on-events class=anchor aria-hidden=true>#</a></h3><p>Lifecycle events in DataTrails give stakeholders a shared view of “Who did What When to an Artifact".
The “What” is quite straightforward, but the &ldquo;Artifact&rdquo;, “When” and “Who” can be more nuanced.
The Artifact may be referenced by a Trail (preview) or an Event Attribute.</p><p>Once committed to the DataTrails system, each lifecycle Event record carries 3 separate timestamps:</p><ul><li><code>timestamp_declared</code> - an optional user-supplied value that tells when an Event happened.
This is useful for cases where the client system is off-line for a period but the user still wishes to record the accurate time and order of activities (eg inspection rounds in an air-gapped facility).
If unspecified, the system sets timestamp_declared equal to timestamp_accepted (see below).</li><li><code>timestamp_accepted</code> - the time the event was actually received on the DataTrails REST interface.
Set by the system, cannot be changed by the client.</li><li><code>timestamp_committed</code> - the time the event was confirmed distributed to all nodes in the value chain.
Set by the system, cannot be changed by the client.</li></ul><p>Having these 3 fields enables users of DataTrails to accurately reflect what is claimed, while preventing tampering and backdating of entries.</p><h3 id=user-principals-on-events>User Principals on Events<a href=#user-principals-on-events class=anchor aria-hidden=true>#</a></h3><p>Just as with the &ldquo;When&rdquo;, the &ldquo;Who&rdquo; of “Who Did What When to an Artifact" is potentially complicated.
For example, an application or gateway may be acting on behalf of some other real-world user.</p><p>Once committed to the DataTrails system, each lifecycle Event record carries 2 separate user identities:</p><ul><li><code>principal_declared</code> - an optional user-supplied value that tells who performed an Event.
This is useful for cases where the user principal/credential used to authorize the Event does not accurately or usefully reflect the real-world agent (eg a multi-user application with device-based credentials).</li><li><code>principal_accepted</code> - the actual user principal information belonging to the credential used to access the DataTrails REST interface.
Set by the system and retrieved from the authorizing IDP, cannot be changed by the client.</li></ul><p>For more detailed information on Events, and how to implement them, please refer to the
<a href=https://docs.datatrails.ai/developers/api-reference/events-api/>Events API Reference</a>.</p><h2 id=access-policies>Access Policies<a href=#access-policies class=anchor aria-hidden=true>#</a></h2><p>Sharing the right amount of information with your value chain partners is critical to creating a trustworthy shared lineage.
It is important that every participant be able to see and contribute to the management of Events without compromising security, commercial, or private personal information.
For example, competing vendors should not see each other’s information, but both should be able to freely collaborate with their mutual customer or industry regulator.</p><p>In other scenarios, it is desirable to share basic maintenance information with a vendor or external maintenance company, whilst restricting critical operating information such as run cycles and cyber SLAs to a much smaller group.</p><p>DataTrails Access Policies are the method through which this access is defined, allowing Asset owners to collaborate with just the right partners at the right time, sharing as much or as little access to Assets as the needs of the value chain partners dictate.
All transactions are private by default, meaning that only the Asset owner can see and update Asset histories until a sharing policy has been set up.
This ensures ready compliance with important regimes such as GDPR and antitrust regulations, as well as allowing safe and ready collaboration with a large and diverse range of value chain partners in the DataTrails network when required.</p><blockquote class="note callout"><div><strong></strong><p><strong>Note:</strong> To collaborate with a value chain partner you first need to enroll them as a partner in your DataTrails Tenancy by exchanging your public DataTrails Subject Identity with each other, a little like making a new LinkedIn connection or Facebook friend.</p><p>This one-time manual process helps to underpin trust and security in your DataTrails Access Policies by ensuring that the partners represented in them are the ones you expect.</p></div></blockquote><h3 id=public-attestations>Public Attestations<a href=#public-attestations class=anchor aria-hidden=true>#</a></h3><p>While a strict, 1-to-1 relationship might be desirable for some use cases, it is also possible that a recorded asset and associated events are recorded in a more widely accessible way.
With the use of the <em>Public</em> setting for an asset, you can create an access policy which enables anyone to view that asset record.
A viewer of that asset does not have to be registered with DataTrails, and can anonymously use our
<a href=https://docs.datatrails.ai/platform/overview/instaproof>Instaproof</a> service to check the thing they have against the public record in DataTrails.</p><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> Instaproof uses the hash of a file, piece of data or digital artifact to check for associated records with that hash value.
This enables users to quickly check if the thing they have is the correct, unaltered version they are expecting.</div></blockquote><h3 id=considerations>Considerations<a href=#considerations class=anchor aria-hidden=true>#</a></h3><p>As with any system handling large amounts of important data, one must carefully consider the design and scope of Access Policy rules in DataTrails.
Every situation is different, and the DataTrails Access Policy system is flexible and powerful enough to support most situations, but in general it is recommended to follow some basic rules:</p><ul><li>Aim for fewest possible number of policies: This makes it much easier to review and manage access rights.</li><li>Balance complex, highly-specific policies with simple, broad ones: Remember rights granted by policy are additive.</li><li>A single Access Policy can contain several permission groups, so it is possible to define a single filter to cover a particular population of Assets, then apply different rights to different sets of users and partner organizations.
This is often a simpler way to manage access than to create separate Access Policies for each set of users.</li><li>Remember attributes can change: ABAC policies are applied at time of access request, not at time of creation, so changing attributes on an asset may change which access policies apply to it.
This is one of the primary advantages to an ABAC system, but needs to be kept in mind when designing access control processes.</li></ul><h3 id=access-policy-configuration>Access Policy Configuration<a href=#access-policy-configuration class=anchor aria-hidden=true>#</a></h3><p>DataTrails employs a principle called Attribute-Based Access Control (ABAC) for users within an organization who are given
<a href=https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/>internal access to your tenant</a>.
A related concept called Organization-Based Access Control (OBAC) is provided to mediate data sharing between value chain participants who will share
<a href=https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/>external access to their tenants</a>.</p><p>Rather than applying a specific fixed policy to each Asset, or grouping them into rigid hierarchies, Access Policies are defined in terms of the observable properties (or attributes) of Assets and users, and if both match, the policy is applied.
This enables much greater flexibility and expressivity than traditional hierarchical or role-based methods, whilst at the same time reducing complexity in defining sharing in large-scale systems.</p><p>DataTrails Access Policies comprise of 2 main parts:</p><ul><li>Filters: A list of attributes to match on Assets (this defines the scope of the policy)</li><li>Access Permissions: A list of access rights to be granted to users on those matching Assets</li></ul><p>A simple Access Policy may look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// identity and tenant are non-modifiable system info
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;identity&#34;</span><span class=p>:</span> <span class=s2>&#34;access_policies/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tenant&#34;</span><span class=p>:</span> <span class=s2>&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// User-friendly identifiers
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;display_name&#34;</span><span class=p>:</span> <span class=s2>&#34;Sample Policy&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;An Access Policy created for DataTrails user docs&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Filters define which Assets (sets of Events) this Policy applies to
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s2>&#34;filters&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Any image, video, or whitepaper...
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Image&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Video&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Whitepaper&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// ... which is marked either CONFIDENTIAL or SECRET
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.classification=CONFIDENTIAL&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.classification=SECRET&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Permissions define what can be done with the matching Assets
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;access_permissions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Grant access to partner organizations by Subject Identity
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;subjects&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=c1>// The Subject Identity for a known partner eg ACME Co
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=s2>&#34;subjects/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span> 
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Grant access to local users by attribute (eg email address)
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;user_attributes&#34;</span><span class=p>:</span> <span class=p>[</span> 
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;email=bill@synsation.com&#34;</span> <span class=p>]</span> <span class=p>}</span> 
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Asset attributes these users can see
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;asset_attributes_read&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arc_display_name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arc_display_type&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Asset attributes these users can modify
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=c1>// Note modifying Asset attributes in this way is deprecated
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=c1>// and not recommended
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;asset_attributes_write&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which types of Events these users can see
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;event_arc_display_type_read&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Pre-release&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Watermark&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Approve&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which types of Events these users can contribute to the Trail
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;event_arc_display_type_write&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Approve&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Note the include_attributes field is deprecated
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;include_attributes&#34;</span><span class=p>:</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><blockquote class="note callout"><div><strong></strong><p><strong>Note:</strong> Observe that there are 2 lists in the <code>filters</code> which concern different attributes.
The effect of this is to say that an Asset matches the filters if it matches <em>at least one</em> entry from *every list_.
Or in other words, inner lists are <code>OR</code>, while outer lists are <code>AND</code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>Filters</span> <span class=err>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>type=Pump</span><span class=p>,</span> <span class=err>type=Valve</span><span class=p>]</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>vendor=SynsationIndustries</span><span class=p>]</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>location=ChicagoWest</span><span class=p>,</span><span class=err>location=ChicagoEast</span><span class=p>]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p>In the above simplified example, the policy would apply to any Pump or Valve from SynsationIndustries installed in either the ChicagoWest or ChicagoEast sites, but it would not match:</p><ul><li>Other device types from SynsationIndustries;</li><li>Pumps or Valves from any other vendor;</li><li>SynsationIndustries Valves installed in a different location</li></ul></div></blockquote><h3 id=revoking-access>Revoking Access<a href=#revoking-access class=anchor aria-hidden=true>#</a></h3><p>DataTrails adopts a ‘default deny’ approach so access to an Asset Record is only possible if an Access Policy explicitly allows it.</p><p>Revoking access can therefore be achieved in a number of ways, any of which may be more or less appropriate for the circumstances:</p><ul><li>Remove the whole Access Policy</li><li>Change the attributes of the Asset so that it no longer matches the Access Policy (eg change location)</li><li>Change the attributes of the user or subject so that they no longer match the Access Policy (eg change IDP group)</li><li>Turn off the user’s login at the IDP</li></ul><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> As with any fair decentralized system it is not possible to &lsquo;unsee&rsquo; information.
Any change in OBAC access policies <em>including revoking OBAC access to a value chain partner</em> only applies to new information contributed <em>after</em> the policy change.
This ensures continued fair access to the historic evidence base for all legitimate participants whilst also maintaining control of future operations with the Asset owner.</div></blockquote><h2 id=attachments--content-integrity-protection>Attachments & Content Integrity Protection<a href=#attachments--content-integrity-protection class=anchor aria-hidden=true>#</a></h2><p>Creating provenance of artifacts may involve integrity protecting content.
The content may be the subject Artifact, such as a document, an image, media file, an AI Model, or a Virtualized Conversation (vCon).
Or, the content may be supporting evidence to an artifact, such as a Bill of Materials, a security scan result, an x-ray image of a critical pipeline or an AI Model Card.</p><p>In these scenarios, the intent is to record integrity protection of the content to the DataTrails immutable audit log.
In most cases, the content is already stored in an existing content storage system, and shouldn&rsquo;t be duplicated or moved to another location, disrupting the existing workflow.</p><p>Integrity protecting content with DataTrails is achieved by storying cryptographic hashes of the content on the immutable audit log.
By storing cryptographic hashes, the integrity of the content is protected without having to duplicate the content, and avoiding persisting any Personally Identifiable Information that may require removal or redaction.</p><p>In other cases where new storage is needed, DataTrails provides a
<a href=https://docs.datatrails.ai/developers/api-reference/blobs-api/>Blobs API</a> to upload content, which can then be associated with an event through the
<a href=https://docs.datatrails.ai/developers/api-reference/attachments-api/>Attachments API</a>.</p><p>Whether DataTrails Blob storage is used, or existing storage is used, storing cryptographic hashes of the content is achieved by creating Event Attributes for the Hash Algorithm, Content Type and the hash of the content.
For more information, see the the DataTrails
<a href=https://docs.datatrails.ai/developers/templates/>Templates</a> section.</p><h3 id=assetevent-primary-image>Asset/Event Primary Image<a href=#assetevent-primary-image class=anchor aria-hidden=true>#</a></h3><p>Attachments on Assets and Events are named in the <code>arc_display_name</code> property, so that they can be searched and indexed.
Names are arbitrary and may be defined according to the needs of the application, but one name is reserved and interpreted by the DataTrails services: <code>arc_primary_image</code>.
If an Asset has an attachment attribute named <code>arc_primary_image</code>, it will be used by the DataTrails web user interface and other tools as a thumbnail to represent the Asset or Event being viewed.</p><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> Blobs and Attachments cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment.</div></blockquote><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> While Attachments are generally expected to be unique, the same attachment can be applied to multiple assets, such as the case of a process manual PDF.</div></blockquote><h2 id=geolocation>Geolocation<a href=#geolocation class=anchor aria-hidden=true>#</a></h2><p>DataTrails supports <em>GIS coordinates</em> on Events, which enable recording of exactly where an event took place, and when analyzed together can show the movement of an Asset (&ldquo;This was scanned in London, and later sold in Manchester&rdquo;):</p><figure class=border-0><input type=image data-bs-toggle=modal data-bs-target=#gis_tracking img class="img-fluid responsive" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking.png width=3596 height=1896 data-sizes=auto data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" alt=Rectangle><noscript><img class=img-fluid sizes=100vw srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking.png width=3596 height=1896 alt=Rectangle></noscript><figcaption class=figure-caption><em>Tracking Assets with GIS coordinates</em></figcaption></figure><div class="modal fade" id=gis_tracking tabindex=-1 aria-labelledby=gis_tracking aria-hidden=true><div class="modal-dialog modal-xl"><div class=modal-body><img class="img-fluid lazyload responsive" data-sizes=auto src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_100x0_resize_box_3.png data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" width=3596 height=1896 alt=Rectangle></div></div></div><p>If you&rsquo;re wanting to track the movement of an Asset, or record an audit trail of <em>where</em> a particular Event happens, you can add <code>arc_gis_lat</code> and <code>arc_gis_lng</code> attributes to the <code>event_attributes</code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;asset_identity&#34;</span><span class=p>:</span> <span class=s2>&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;behaviour&#34;</span><span class=p>:</span> <span class=s2>&#34;RecordEvidence&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;operation&#34;</span><span class=p>:</span> <span class=s2>&#34;Record&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;event_attributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_display_type&#34;</span><span class=p>:</span> <span class=s2>&#34;Sighting Report&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_description&#34;</span><span class=p>:</span> <span class=s2>&#34;Observed at Fort Mason, San Francisco&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_gis_lat&#34;</span><span class=p>:</span> <span class=s2>&#34;37.807338&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_gis_lng&#34;</span> <span class=p>:</span> <span class=s2>&#34;-122.429286&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>Once applied the GIS coordinates on Events are immutable.</p><h2 id=thats-it>That&rsquo;s It<a href=#thats-it class=anchor aria-hidden=true>#</a></h2><p>These are all the basics of DataTrails.
With this knowledge you can now
<a href=https://docs.datatrails.ai/developers/api-reference/>jump straight into the API</a> or try other topics on the
<a href=https://docs.datatrails.ai/platform/overview/introduction>DataTrails Platform</a>.</p><p class=edit-page></p><div class="docs-navigation d-flex justify-content-between"><a href=https://docs.datatrails.ai/platform/overview/core-concepts/><div class="card my-1"><div class="card-body py-2">&larr; Core Concepts</div></div></a><a class=ms-auto href=https://docs.datatrails.ai/platform/overview/creating-an-asset/><div class="card my-1"><div class="card-body py-2">Creating an Asset &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div><div class="col-lg-8 order-first text-lg-end"><ul class=list-inline><li>Can't find what you're looking for? Search our <a href=https://support.datatrails.ai>Support Knowledgebase</a> or <a href=mailto:support@datatrails.ai>email Support</a></li></ul></div></div></div></footer><script src=https://docs.datatrails.ai/js/bootstrap.min.b4d48dd4d57c29a63a0ea5455b6d5b16f032e551e190ca88c04a0e5dd6b64b01657b3e1f44ff6e670ab72166686b0572f94c18d2f8d14c1a01aaf5f8e28fb345.js integrity="sha512-tNSN1NV8KaY6DqVFW21bFvAy5VHhkMqIwEoOXda2SwFlez4fRP9uZwq3IWZoawVy+UwY0vjRTBoBqvX44o+zRQ==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/js/highlight.min.9f2343bf41a83c327df632236d3b94b6e437d801529a03646f4322daedd07c0455162b232c7cf5bb1b1b7e0d6072ff0dac4ed8afc550127d165a9c482c3ec27c.js integrity="sha512-nyNDv0GoPDJ99jIjbTuUtuQ32AFSmgNkb0Mi2u3QfARVFisjLHz1uxsbfg1gcv8NrE7Yr8VQEn0WWpxILD7CfA==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/main.min.5a11cd173e56732b0a703e2f8ecf68ea541e5db0cfb67389769e34602825b7b2517cd5043ac8da49638c3e5edbeb2706e035cf5a1ab50f79ddff45ab24f6122c.js integrity="sha512-WhHNFz5WcysKcD4vjs9o6lQeXbDPtnOJdp40YCglt7JRfNUEOsjaSWOMPl7b6ycG4DXPWhq1D3nd/0WrJPYSLA==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/index.min.0bfa52b4ba2a9c744c49851d44d51ddc614dc3f6c0dd7f994fb8b9f79a2afddaf7da651cc52d4ab8b29f07cf4d15f41296b66625008db89f529207ac600cf187.js integrity="sha512-C/pStLoqnHRMSYUdRNUd3GFNw/bA3X+ZT7i595oq/dr32mUcxS1KuLKfB89NFfQSlrZmJQCNuJ9SkgesYAzxhw==" crossorigin=anonymous defer></script></body></html>