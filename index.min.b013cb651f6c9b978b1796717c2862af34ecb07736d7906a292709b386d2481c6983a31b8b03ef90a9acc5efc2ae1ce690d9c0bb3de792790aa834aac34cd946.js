var suggestions=document.getElementById("suggestions"),userinput=document.getElementById("userinput");document.addEventListener("keydown",inputFocus);function inputFocus(e){e.keyCode===191&&(e.preventDefault(),userinput.focus()),e.keyCode===27&&(userinput.blur(),suggestions.classList.add("d-none"))}document.addEventListener("click",function(e){var t=suggestions.contains(e.target);t||suggestions.classList.add("d-none")}),document.addEventListener("keydown",suggestionFocus);function suggestionFocus(e){const s=suggestions.querySelectorAll("a"),o=[...s],t=o.indexOf(document.activeElement);let n=0;e.keyCode===38?(e.preventDefault(),n=t>0?t-1:0,s[n].focus()):e.keyCode===40&&(e.preventDefault(),n=t+1<o.length?t+1:t,s[n].focus())}(function(){var e=new FlexSearch.Document({tokenize:"forward",cache:100,document:{id:"id",store:["href","title","description"],index:["title","description","content"]}}),o=[{id:0,href:"https://docs.datatrails.ai/developers/templates/vcons/",title:"vCon Template",description:"Creating DataTrails Events for vCons",content:`<p>vCons safely and securely carry conversations from the network elements that create them to the applications that analyze them, enabling responsible management of the most personal of data.
Recording the current state of a vCon on DataTrails secures the integrity and inclusion of the vCon from tampering or deleting a specific version.</p>
<p><blockquote class="caution callout">
    <div><strong></strong> <a href="https://datatracker.ietf.org/wg/scitt/about/" target="_blank" rel="noopener">IETF SCITT</a> is currently in draft and subject to change.
The following template provides DataTrails Event APIs, enabling production SLA for securing vCons.</div>
  </blockquote>
<blockquote class="caution callout">
    <div><strong></strong> <a href="https://datatracker.ietf.org/wg/vcon/about/" target="_blank" rel="noopener">IETF vCon</a> is currently in draft and subject to change.
The following template references the specific draft version the template applies to.

<a href="https://datatracker.ietf.org/doc/draft-vcon-vcon-container/00/" target="_blank" rel="noopener">vCon Draft 00</a></div>
  </blockquote></p>
<p>The following provides a template for how to secure a vCon on DataTrails.</p>
<h3 id="vcon-event-example">vCon Event Example</h3>
<p>The following example highlights a typical DataTrails Event, based on a vCon:</p>
<p>
<a href="../../api-reference/events-api/">Events API</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon_create&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA-256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_preimage_content_type&#34;</span><span class="p">:</span> <span class="s2">&#34;application/json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;e5e20exxxxxxxxxx78383479f9de138cf71b98b740fd5d7ee3xxxxxxxxxxde05&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_operation&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon_create&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_pipeline&#34;</span><span class="p">:</span> <span class="s2">&#34;create-pipeline&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_pipeline_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-07T16:33:29.004994&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon://xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_draft_version&#34;</span><span class="p">:</span> <span class="s2">&#34;00&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="arc_display_type-required">arc_display_type (REQUIRED)</h3>
<p>Default within DataTrails to categorize events.
<code>arc_display_type</code> is also the default means to 
<a href="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/" target="_blank" rel="noopener">configure permissions</a> for which type of events a client may view and/or edit.</p>
<p>For simplicity in configuring permissions, this property is a duplicate of the 
<a href="#vcon_operation">vcon_operation</a> but could vary in advanced scenarios.</p>
<h3 id="vcon_operation-required">vcon_operation (REQUIRED)</h3>
<p>A DataTrails Event should be created for each completed vCon operation.
For every creation and update to a vCon, a SCITT Statement would seal the vCon, recording it on the ledger for inclusion and verification.
The defined lifecycle events of a vCon will likely evolve with the standard.
For now, the <code>vcon_operation</code> (<code>string</code>) is the placeholder.</p>
<h3 id="payload_hash_alg-required">payload_hash_alg (REQUIRED)</h3>
<p>The hash algorithm used to hash the vCon.
Currently, this is <code>SHA-256</code>, but should be sourced by the vCon object to support agility.</p>
<h3 id="payload_preimage_content_type-required">payload_preimage_content_type (REQUIRED)</h3>
<p>The property name comes from 
<a href="https://datatracker.ietf.org/doc/draft-steele-cose-hash-envelope/" target="_blank" rel="noopener">draft-ietf-cose-hash-envelope</a>, representing the <code>content-type</code> of the vCon, prior to hashing.</p>
<p>
<a href="https://www.ietf.org/archive/id/draft-vcon-vcon-container-00.html#section-5.3.1" target="_blank" rel="noopener">Section 5.3.1 of vCon 00</a> specifies <code>application/vcon</code>.
There is 
<a href="https://github.com/ietf-wg-vcon/draft-ietf-vcon-vcon-container/issues/7" target="_blank" rel="noopener">vcon issue</a>, and discussion for using <code>application/vcon+json</code></p>
<h3 id="payload_hash_value-required">payload_hash_value (REQUIRED)</h3>
<p>The hash of the vCon as it&rsquo;s recorded on DataTrails.</p>
<h3 id="vcon_pipeline-optional">vcon_pipeline (OPTIONAL)</h3>
<p>vCons are processed by workflow pipelines that run multiple steps.
In the 
<a href="https://www.conserver.io/" target="_blank" rel="noopener">conserver model</a>, these are called chains which run one or more links.
For each chain, a vCon is complete and written to the SCITT Ledger to protect its integrity and inclusion.
For debugging purposes, the vCon pipeline may wish to store the name of the pipeline.
This property may prove to be redundant to the 
<a href="#vcon_operation">vcon_operation</a>.</p>
<h3 id="vcon_pipeline_version-optional">vcon_pipeline_version (OPTIONAL)</h3>
<p>The version of the 
<a href="#vcon_pipeline">vcon_pipeline</a>.</p>
<h3 id="vcon_updated_at-required">vcon_updated_at (REQUIRED)</h3>
<p>See 
<a href="https://www.ietf.org/archive/id/draft-ietf-vcon-vcon-container-00.html#name-updated_at" target="_blank" rel="noopener">vCon updated_at</a></p>
<h3 id="subject-required">subject (REQUIRED)</h3>
<p>The 
<a href="https://www.ietf.org/archive/id/draft-ietf-vcon-vcon-container-00.html#name-uuid" target="_blank" rel="noopener">vCon unique identifier</a>.
Subject is used to align with the 
<a href="https://www.ietf.org/archive/id/draft-ietf-scitt-architecture-08.html#:~:text=Subject:" target="_blank" rel="noopener">SCITT Protected Header</a></p>
<h2 id="user-agent-headers">User Agent Headers</h2>
<p>When submitting requests to DataTrails, the following header parameters are required for tracking, independent of authorization.</p>
<h3 id="datatrails-user-agent-required">DataTrails-User-Agent (REQUIRED)</h3>
<p>Diagnostics and tracking for the source of the request.
Typically set to the code or service.
For example: (<code>DataTrails-User-Agent:oss/conserverlink/0.1.0</code>)</p>
<h3 id="datatrails-partner-id-required">DataTrails-Partner-ID (REQUIRED)</h3>
<p>Diagnostics and tracking of the Partner making requests.
This header is independent of the 
<a href="#datatrails-user-agent">DataTrails-User-Agent</a>, as multiple services may be running the same codebase, such as the 
<a href="https://github.com/vcon-dev/vcon-server/" target="_blank" rel="noopener">vCon Conserver</a></p>
<p>For example: (<code>DataTrails-Partner-ID:synsation.io</code>)</p>
`},{id:1,href:"https://docs.datatrails.ai/platform/overview/introduction/",title:"Introduction",description:"Welcome to DataTrails",content:`<p>DataTrails provides Provenance as a Service that continuously proves Who Did What When to all data types.</p>
<p>DataTrails enables enterprises to build trust in data such as documents, images and sound files by ensuring that you know the origin and history of the data that you are using.
This can also be applied to multi-party Assets such as software and physical items allowing you to make sure that processes are fit for purpose to comply with IT controls, corporate policies, and government regulations.</p>
<p>DataTrails permanently records evidence into an <strong>Immutable Audit Trail</strong> to bring the right level of trust in data for faster, confident decisions with lower business risk by combining:</p>
<p><strong>Metadata Governance</strong> - Empower the right people in organizations to set, enforce, and execute complex data sharing policies.</p>
<p><strong>Authenticated Provenance</strong> - Deliver full traceability on all internal and external data sources to speed and assure digital decisions.</p>
<p><strong>Continuous Accountability</strong> - Instantly auditable evidence “Proves Who Did What When” for any shared Asset to delight your GRC team.</p>
<p><strong>Persistent Integrity</strong> - Create a complete, unbroken, and permanent record of shared Event transactions, delivering continuous assurance for faster digital decisions.</p>
<p>DataTrails delivers assured metadata in a single line of code in a way that makes recording and auditing the full lifecycle of a piece of data simple. Any authorized participant (including a user, a software agent or an endpoint device) can register the Events that they are involved in.<br>
Users of the data can see a full picture of the data’s origin and history and by understanding <em>Who Did What When</em>, human actors and software/AI systems can make stronger real-time judgments about the trustworthiness of your data.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#intro" img class="img-fluid responsive" src="/platform/overview/introduction/intro.png" width="1129" height="401" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" src="/platform/overview/introduction/intro.png" width="1129" height="401" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>DataTrails Functionality</em></figcaption>
</figure>





<div class="modal fade" id="intro" tabindex="-1" aria-labelledby="intro" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" width="1129" height="401" alt="Rectangle">
      </div>
  
  </div>
</div></p>
`},{id:2,href:"https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/",title:"Creating Access Tokens Using a Custom Integration",description:"Creating Access Tokens Using a Custom Integration",content:`<p>Non-interactive access to the DataTrails platform is managed by creating <code>Integrations</code> with either a Custom Integration or one of the built-in Integrations. This is done using either the <code>Settings</code> or <code>Integrations</code> menus in the DataTrails UI or by using the App Registrations API directly.
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> App Registration is the old name for a Custom Integration.</div>
  </blockquote></p>
<p><code>Custom Integrations</code> have a <code>CLIENT_ID</code> and a <code>SECRET</code>, these are used to authenticate with DataTrails IAM endpoints using 
<a href="https://jwt.io/introduction/" target="_blank" rel="noopener">JSON Web Tokens</a> (JWT).</p>
<p>DataTrails authentication uses the industry-standard OIDC Client Credentials Flow.</p>
<p>The high level steps are:</p>
<ol>
<li>Create an Integration in the UI</li>
<li>Define access permissions for the Integration in the UI</li>
<li>Request an Access Token using the API</li>
<li>Use the Access Token to make a REST API call to your tenancy.</li>
</ol>
<h2 id="creating-a-custom-integration">Creating a Custom Integration</h2>
<p>If you have already saved a <code>CLIENT_ID</code> and a <code>SECRET</code>, with the correct 
<a href="#grant-permissions-to-custom-integration">permissions applied</a>, skip to 
<a href="#getting-a-token-with-the-custom-integration">Getting a Token With the Custom Integration</a></p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creating App Registrations requires Tenancy <strong>Administrator</strong> privileges.<br>
If <code>Settings</code> or <code>Integrations</code> does not appear in the navigation, see your DataTrails Administrator for access.</div>
  </blockquote>
<h3 id="using-the-datatrails-app-to-create-an-integration-first-time-setup">Using the DataTrails App to Create an Integration (First-Time Setup)</h3>
<ol>
<li>
<p>As an Administrator, open the <a href="https://app.datatrails.ai/" target="_blank">DataTrails App</a></p>
</li>
<li>
<p>Navigate to <code>Integrations</code> on the sidebar</p>
</li>
<li>
<p>This opens <code>Settings</code> with the <code>Integrations</code> tab automatically selected

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#IntegrationsTab" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab.png" width="917" height="449" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab.png" width="917" height="449" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Navigate to Settings, then Integration</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="IntegrationsTab" tabindex="-1" aria-labelledby="IntegrationsTab" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" width="917" height="449" alt="Rectangle">
        </div>
    
    </div>
  </div></p>
</li>
<li>
<p>Click the <code>Custom</code> box to create a Custom Integration</p>
</li>
<li>
<p>Enter any <code>Display Name</code> you&rsquo;d like

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#Confirm" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm.png" width="580" height="546" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm.png" width="580" height="546" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Completed Web Registration</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="Confirm" tabindex="-1" aria-labelledby="Confirm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" width="580" height="546" alt="Rectangle">
        </div>
    
    </div>
  </div>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Optionally add any <code>Custom claims</code> at this step by clicking the <code>+ Add</code> button.<br>In this context, claims are pieces of information that are asserted in a JSON Web Token (JWT). <em>Registered</em> claims are name/value pairs that are defined by the JWT standard, <em>Custom</em> claims are not defined and can have any name/value combination.</p>
<p>Ensure the <code>Name</code> <em>does not start</em> with <code>jit_</code> or <code>arc_</code> (DataTrails reserved names) or use any other well-known reserved claims.</p>
<p>See 
<a href="https://auth0.com/docs/security/tokens/json-web-tokens/json-web-token-claims#reserved-claims" target="_blank" rel="noopener">here</a> for more information on JWT Claims</p>
</div>
  </blockquote></p>
</li>
<li>
<p>Once complete, click <code>Confirm</code> to complete the custom integration</p>
</li>
<li>
<p>You will then be presented with the <code>CLIENT_ID</code> and <code>SECRET</code> required by the archivist token endpoint


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordClientIDandSecret" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret.png" width="1242" height="170" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret.png" width="1242" height="170" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Record your Client ID and Secret</em></figcaption>
</figure>





<div class="modal fade" id="RecordClientIDandSecret" tabindex="-1" aria-labelledby="RecordClientIDandSecret" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" width="1242" height="170" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> Save the <code>CLIENT_ID</code> and <code>SECRET</code> to a password manager or secret management service as the <code>SECRET</code> can <strong>not</strong> be viewed again. A new <code>SECRET</code> can be regenerated in the Integration configuration screen but this replaces and invalidates the previous <code>SECRET</code>.</div>
  </blockquote></p>
</li>
</ol>
<h3 id="grant-access-permissions-to-your-custom-integration">Grant Access Permissions to your Custom Integration</h3>
<p>In this section we will give your Custom Integration permission to access the Assets, their attributes, and Events that have been recorded in your tenancy.</p>
<p>Integrations are secured by default, with no read or write permissions within your DataTrails Tenancy. This is is important because the alternative would be to allow read/write access to all Assets and Events by default which opens the risk that an application could be maliciously altered to make changes that would not be permitted by the Tenancy Administrator.</p>
<p>The steps below show how to create and assign an Access Policy to control the ability to create and read DataTrails information.<br>For convenience we will grant full access rights to the customer integration in this example. Please see 
<a href="/platform/administration/sharing-access-inside-your-tenant/">this article</a> for information on setting up more finely controlled access.</p>
<ol>
<li>Navigate to <code>Access Policies</code> on the sidebar

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage.png" width="1525" height="369" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage.png" width="1525" height="369" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Access Policies</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" width="1525" height="369" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click <code>CREATE POLICY</code>, setting the <code>Name</code> and <code>Asset Types</code>=<code>*</code> for all types
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Asset types can be filtered as needed. List existing <code>Asset Types</code> by typing at least two characters of a known type</div>
  </blockquote>

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm.png" width="996" height="578" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm.png" width="996" height="578" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Create Access Policy Form</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" width="996" height="578" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click <code>Permissions</code> to set a scope for the policy</li>
<li>Set Actors to the <code>CLIENT_ID</code> of the Custom Integration
<ul>
<li><code>User</code></li>
<li><code>Subject Identifier</code></li>
<li>Paste the <code>CLIENT_ID</code> from the previous step

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyPermissionActor" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor.png" width="914" height="142" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor.png" width="914" height="142" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Filter on User by Subject Identifier using the CLIENT_ID</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyPermissionActor" tabindex="-1" aria-labelledby="PolicyPermissionActor" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" width="914" height="142" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
</ul>
</li>
<li>Set <strong>Attribute Access</strong> and <strong>Event Visibility</strong> to <code>All</code>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Each policy can be configured with multiple access rights</div>
  </blockquote>

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyPermissionAccess" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess.png" width="984" height="658" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess.png" width="984" height="658" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Set Attribute Access and Event Visibility</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyPermissionAccess" tabindex="-1" aria-labelledby="PolicyPermissionAccess" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" width="984" height="658" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click the <code>ADD PERMISSION GROUP</code> to save the configuration of this policy</li>
<li>Click the <code>CREATE POLICY</code> to complete the creation of this policy</li>
</ol>
<h2 id="getting-a-token-with-the-custom-integration">Getting a Token With the Custom Integration</h2>
<p>Having completed the steps to create a 
<a href="./#creating-a-custom-integration">custom integration</a> and 
<a href="./#grant-access-permissions-to-your-custom-integration">grant access permissions</a>, and having taken note of the <code>CLIENT_ID</code> and the <code>SECRET</code>, a token can be obtained with the following command.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To make things easy we will use local variables and files to store the credentials and token but you can use any method that you wish.</div>
  </blockquote>
<ol>
<li>
<p>Save the <code>CLIENT_ID</code> and <code>SECRET</code> saved from above, to local variables
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Remember that you can regenerate the secret but this will invalidate the previous credentials which may be being used by other applications.
Also note the environment variables below have been namespaced for DataTrails, as you may have <code>CLIENT_ID</code> and <code>SECRET</code>s for other services.</div>
  </blockquote></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DATATRAILS_CLIENT_ID</span><span class="o">=</span>your_id
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DATATRAILS_CLIENT_SECRET</span><span class="o">=</span>your_secret
</span></span></code></pre></div></li>
<li>
<p>Generate a token using your pre-existing <code>Custom Integration</code> details, saving to a <code>RESPONSE</code> variable</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">RESPONSE</span><span class="o">=</span><span class="k">$(</span>curl <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/appidp/token <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;grant_type=client_credentials&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_id=</span><span class="si">\${</span><span class="nv">DATATRAILS_CLIENT_ID</span><span class="si">}</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_secret=</span><span class="si">\${</span><span class="nv">DATATRAILS_CLIENT_SECRET</span><span class="si">}</span><span class="s2">&#34;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Save the base64 encoded \`JWT\` using \`jq\` to find \`.access_token\`</span>
</span></span><span class="line"><span class="cl"><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="nv">$RESPONSE</span> <span class="p">|</span> jq -r .access_token<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a Bearer Token file for reference by \`curl\`</span>
</span></span><span class="line"><span class="cl"><span class="c1"># in an \`./datatrails/\` directory</span>
</span></span><span class="line"><span class="cl">mkdir -p <span class="nv">$HOME</span>/.datatrails
</span></span><span class="line"><span class="cl">chmod <span class="m">0700</span> <span class="nv">$HOME</span>/.datatrails
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create the Bearer Token</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> Authorization: Bearer <span class="nv">$TOKEN</span> &gt; <span class="nv">$HOME</span>/.datatrails/bearer-token.txt
</span></span><span class="line"><span class="cl">cat <span class="nv">$HOME</span>/.datatrails/bearer-token.txt
</span></span></code></pre></div></li>
</ol>
<h2 id="testing-token-creation">Testing Token Creation</h2>
<p>You can test access to the DataTrails API using any of the standard API calls. GETing <code>Assets</code> is a simple test.</p>
<p>If successful, you will see a list of the assets the Integration has access to in the tenancy.
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> This may be an empty response if no assets are being shared with the Integration because an Access Policy has not been created for it; this is an expected <em>secure by default</em> behavior.</div>
  </blockquote></p>
<p>Otherwise, check the 
<a href="../../api-reference/assets-api/#assets-openapi-reference">Assets OpenAPI Reference</a> for more detailed information on the response codes you may expect if authentication fails and what they mean.</p>
<h3 id="view-existing-assets">View Existing Assets</h3>
<p>To test the creation of the Custom integration and the configuration of the bearer token file (<code>bearer-token.txt</code>), query the assets API</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>If you have existing assets, the output will be similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;length&#34;</span><span class="p">:</span> <span class="s2">&#34;40&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;20000-lbs&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;width&#34;</span><span class="p">:</span> <span class="s2">&#34;8&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;A shipping container being tracked&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;New Shipping Container #1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;height&#34;</span><span class="p">:</span> <span class="s2">&#34;8&#39;&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-22T03:39:46Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>If the output is an empty structure, you may either not have any assets, or misconfigured the 
<a href="#grant-permissions-to-custom-integration">Access Policy</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>In the <a href="https://app.datatrails.ai/" target="_blank">DataTrails App</a>, Navigate to <code>Assets</code> confirm existing assets. If assets exist, confirm the <code>DATATRAILS_CLIENT_ID</code>, <code>DATATRAILS_CLIENT_SECRET</code> and <code>Access Policy</code> are configured and referenced properly.</p>
<h2 id="troubleshooting-token-generation">Troubleshooting Token Generation</h2>
<p>The header and payload of the <code>TOKEN</code> may be examined with the following commands. This is useful when investigating if tokens contain the correct custom claims or tokens that may appear malformed.</p>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning:</strong> Decoding tokens with an online service exposes details about your DataTrails token credentials. Remember to regenerate the credentials when troubleshooting is complete.</div>
  </blockquote>
<ol>
<li>
<p>View the Header</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> -n <span class="nv">$TOKEN</span> <span class="p">|</span> cut -d <span class="s1">&#39;.&#39;</span> -f <span class="m">1</span> <span class="p">|</span> base64 -d <span class="p">|</span> jq
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;RS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;typ&#34;</span><span class="p">:</span> <span class="s2">&#34;at+jwt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;kid&#34;</span><span class="p">:</span> <span class="s2">&#34;devidp&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>View the Payload</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> -n <span class="nv">$TOKEN</span> <span class="p">|</span> cut -d <span class="s1">&#39;.&#39;</span> -f <span class="m">2</span> <span class="p">|</span> base64 -d <span class="p">|</span> jq
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jit_tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-token&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jit_tier&#34;</span><span class="p">:</span> <span class="s2">&#34;FREE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jti&#34;</span><span class="p">:</span> <span class="s2">&#34;CCIH_QsZsM6FKzwBR6L5Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;sub&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;iat&#34;</span><span class="p">:</span> <span class="mi">1695254038</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;exp&#34;</span><span class="p">:</span> <span class="mi">1695257698</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;iss&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;aud&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/archivist&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
`},{id:3,href:"https://docs.datatrails.ai/platform/overview/core-concepts/",title:"Core Concepts",description:"DataTrails Core Concepts",content:`<h2 id="tenancies">Tenancies</h2>
<p>A Tenancy is an Organization&rsquo;s private area within DataTrails, containing 
<a href="./#assets">Asset</a> and 
<a href="./#events">Event</a> data that build over time to create an Audit Trail. The user who created the Tenancy is the Administrator and has full administrative control over everything in that Tenancy. An Administrator can also create granular 
<a href="./#access-policies">Access Policies</a> which allow data from their Tenancy to be shared to other Tenancies; for example, Organization A would share Asset data from their Tenancy to Organization B&rsquo;s Tenancy.</p>
<p>Administrators may invite other user accounts into their Tenancy. The invited user needs to have signed up for DataTrails with the same email address as the invite, they will then be added to the Tenancy as a Non-Administrator. Non-Administrators start off with no permissions but can be given specific permissions (including being upgraded to an Administrator) by any existing Administrator in that Tenancy.</p>
<h2 id="assets">Assets</h2>
<p>Assets are central to DataTrails. Each Asset Record represents <em><strong>a thing</strong></em>; this could be a file, a physical object, a smart device, or even a business process.</p>
<p>A DataTrails Asset has a collection of attributes that describes its current state and, when combined with a complete life history of Events that brought it to that state, we have an immutable Audit Trail. DataTrails Asset attributes track anything deemed important. For example, a Document will have the attributes of author, title and a content hash and will have a history of different versions and release dates. A Shipping Container as an Asset might have the attributes of height, width and depth, and have a handling history of movements through ports.
These are examples of completely different <em><strong>things</strong></em> that can have a Data Trails Audit Trail.</p>
<p>Each Asset has a fixed identity across all stakeholders, ensuring that all relevant parties are collaborating on the same object and see the same history of the Asset at any given time when shared through 
<a href="./#access-policies">Access Policies</a>.</p>
<h2 id="events">Events</h2>
<p>Events are things that happen during an Asset&rsquo;s lifecycle. Each Event Record contributes to the 
<a href="./#the-golden-thread">&lsquo;Golden Thread&rsquo;</a> of the audit trail by enriching the Asset&rsquo;s history. Events can be used to add or update Asset information if they change the Asset&rsquo;s state, but they also have their own attributes to add process detail and rich evidence.</p>
<p>Events can never be deleted or modified. Events provide details on Asset attributes, such as updating the weight of a shipment, and/or details about the event itself, such as a recording a new document version.</p>
<h2 id="proving-provenance">Proving Provenance</h2>
<p>Artifacts and Events are core to the DataTrails platform, and being able to quickly demonstrate proof that these artifacts have not been tampered is key to knowing the information is secure and trustworthy.</p>
<p>DataTrails attestations are committed to immutable storage that is underpinned by cryptographically verifiable Merkle Mountain Range data structures for long term verifiability, even when offline.</p>
<p><strong>Four Increasing Trust Levels</strong></p>
<p>At DataTrails we believe in holding ourselves to the same levels of accountability as our customers, and the Merkle Log proof mechanism provides the robustness, integrity and availability guarantees needed to ensure data authenticity in any digital or data supply chain. And you don&rsquo;t have to just take our word for it: you can check.</p>
<p>Here&rsquo;s how it works:</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#merkleflow" img class="img-fluid responsive" src="/platform/overview/core-concepts/merkleflow.png" width="860" height="350" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" src="/platform/overview/core-concepts/merkleflow.png" width="860" height="350" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em></em></figcaption>
</figure>





<div class="modal fade" id="merkleflow" tabindex="-1" aria-labelledby="merkleflow" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" width="860" height="350" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>Without an Immutable Audit Trail, there is always the risk - or at least the suspicion - that data can be shredded, backdated or otherwise tampered with.</p>
<p>Once <code>STORED</code> in DataTrails and shared with partners, no party to the transaction can tamper, back-date or shred evidence. However while the security and integrity of our customers&rsquo; data is our top priority, there could still be a suspicion that DataTrails (or a hacker in our systems, or our cloud service provider under subpœna) could tamper with the data, or make it unavailable.</p>
<p>Once <code>COMMITTED</code> in the customer’s Tenancy Merkle tree in public blob storage, customers can prove their Events to 3rd parties, AND any tampering by DataTrails is detectable. Because this data is public, anyone can keep and maintain a copy just in case DataTrails’ version disappears. These copies are great for availability and holding DataTrails accountable, but there is a risk that a kind of Sybil attack could be mounted where the community creates forks and then tries to accuse the DataTrails version of being wrong.</p>
<p>By adding all Tenancies to the Merkle Mountain Range (MMR) and signing the root, Events move to the <code>CONFIRMED</code> stage. The signature on the root at once holds DataTrails to account <em>and</em> prevents forks and the Sybil attack mentioned above. Even so, a tiny chance of tampering remains: in principle, multiple MMRs could be signed, creating multiple versions of history.</p>
<p>To make the whole history and individual events <code>UNEQUIVOCAL</code>, the root hash of the Committed MMR is periodically broadcast so that it is clear that there is one, and only one, version of history to underpin your data authenticity.</p>
<h2 id="access-policies">Access Policies</h2>
<p>Sharing the right amount of information with the consumers of your data is critical to creating a trustworthy shared history for any Asset. It is important that every participant be able to see and contribute to the management of those Assets without compromising security and private information. To ensure stakeholders can access only the Assets and attributes relevant to them, transactions are private by default, unless the Asset was created as a 
<a href="./#the-public-view">Public Asset</a>. An Administrator defines how many of the Asset&rsquo;s attributes the Access Policy permits a user to see so that they only see what they need to complete a task.</p>
<p>An Attribute-Based Access Control (ABAC) policy is used to share with Non-Administrators within a Tenancy. An Organization-Based Access Control (OBAC) policy is used to share with the Administrators of another Tenancy. The Administrator of the external Tenancy may then use an ABAC policy to grant permissions to the relevant Non-Administrators of their Tenancy. In both cases, attribute-specific read and write access can be granted using fine-grained controls.</p>
<h2 id="the-public-view">The Public View</h2>
<p>Every Asset has a private view which is only visible to Tenancy Administrators and those who are given access through an Access Policy. Other Assets, such as those that meet the requirements of the 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a>, have a 
<a href="/platform/overview/public-attestation/">Public View</a> which is visible to everyone.
The purpose of this view is to allow anyone to verify that the document that they are using is genuine and has not been altered. When the document Audit Trail is combined with 
<a href="/platform/overview/instaproof/">Instaproof</a> a user of your data can easily find out which version of a document they have and confirm that it is genuine.</p>
<h2 id="the-golden-thread">The Golden Thread</h2>
<p>Using the four concepts of Tenancy, Assets, Events and Access Policies it is possible to create a Golden Thread of evidence makes up the Data Trails Audit Trail.
This has many use cases relating to content authenticity but can also be applied to supply chain integrity and standards compliance, or fact anything where stakeholders need transparency and trust.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#TheGoldenThread" img class="img-fluid responsive" src="/platform/overview/core-concepts/TheGoldenThread.png" width="4007" height="1580" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" src="/platform/overview/core-concepts/TheGoldenThread.png" width="4007" height="1580" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Golden Thread</em></figcaption>
</figure>





<div class="modal fade" id="TheGoldenThread" tabindex="-1" aria-labelledby="TheGoldenThread" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" width="4007" height="1580" alt="Rectangle">
      </div>
  
  </div>
</div>
`},{id:4,href:"https://docs.datatrails.ai/platform/overview/advanced-concepts/",title:"Advanced Concepts",description:"DataTrails Advanced Concepts",content:`<h2 id="assets-and-events">Assets and Events</h2>
<p>The core tenets of the DataTrails platform are <em>Assets</em> and <em>Events</em>. These are the records that represent the collective &lsquo;Golden Thread&rsquo; of evidence contributed by all stakeholders about a particular thing.</p>
<p>Assets can represent anything: a file, a piece of data, a physical thing or even a business process. As long as shared accountability needs to be traced and trustworthy, it can be recorded as a DataTrails Asset.</p>
<p>Events are a way to provide updates to Assets, building a historical view of the Asset, what has happened and how it got into its current state. These updates in events can be changes to the thing itself, custody of the thing, or even an observation of an interaction with the thing.<br>
Any interaction with the thing can be significant, from user logins to unexpected restarts or ad-hoc observations. Keeping a record of these Events can build up a picture of how an Asset came to be in its current state and provides crucial insight to future maintenance staff, auditors, and security remediation teams.</p>
<p>Knowing the current state of an Asset isn&rsquo;t enough: sure, it has software version 3.0 now but when was that installed? Before the major incident? After the major incident? This morning before the support call? By recording events into an immutable audit trail, questions relating to that asset can be answered.</p>
<p>DataTrails Assets are essentially very simple: a collection of <em>attributes</em> that describe the Asset expressed as a standard JSON document. The power of the system comes from the fact that those attributes come with complete traceable provenance and are guaranteed to appear the same to every stakeholder, creating a single source of truth for shared business processes.</p>
<p>DataTrails is not opinionated about Asset content, meaning that attributes can trace anything deemed important to participants. Much like #hashtags on social media platforms, they can be invented by anyone at any time, but once an attribute has been seen once it will be fully traced from that point on.</p>
<p>DataTrails ensures complete and tamper-proof lineage and provenance for all Asset attributes by enforcing a simple rule:
<em>The only way to change an Asset attribute is through an Event that records Who Did What When to make that change.</em></p>
<p>A simple Asset might look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Fixed global identity for this Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// The set of tracked and traced attributes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// arc_* are understood and processed by DataTrails
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Top Trump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Opel Kadett Rallye 1900&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Opel Kadett Rallye 1900 Top Trump card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;5a&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// attribute with &#34;arc_attribute_type&#34;: &#34;arc_attachment&#34; is a reference to a BLOB attached to the Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/1754b920-cf20-4d7e-9d36-9ed7d479744d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;somepic.jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// All others are user-defined attributes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;bhp&#34;</span><span class="p">:</span> <span class="s2">&#34;145&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;top_speed&#34;</span><span class="p">:</span> <span class="s2">&#34;190&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;860&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;engine_capacity&#34;</span><span class="p">:</span> <span class="s2">&#34;1980&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Behaviours define the set of APIs that can be used to interact with the Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Date and time at which these attributes were contemporary
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-06-25T12:40:03Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Storage and integrity properties - managed by the system
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;LEDGER&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The Asset Identity is fixed and constant for the life of the Asset and across all stakeholders. This ensures easy traceability and assurance that all stakeholders are collaborating on the same object and see the same complete history of Events.</div>
  </blockquote>
<h3 id="deleting-assets-untracking">Deleting Assets (untracking)</h3>
<p>An essential value of storing evidence in DataTrails is that data is always available to stakeholders and cannot be shredded or manipulated later. Given this, it is not possible to actually delete Assets from the system, but there will be cases where it is desirable to hide Assets in the UI or omit them from default searches or compliance queries (for instance as a result of decommissioning or disposal of the corresponding physical asset).</p>
<p>To accommodate this need DataTrails separates the Asset estate into 2 classes: tracked Assets (those that are interesting to the system and actively recording events) and untracked Assets (those that are no longer actively interesting). When for any reason it becomes desirable to remove an Asset, the Asset owner can make it <em>untracked</em> so that it does not appear in lists or searches.</p>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> Untracking an Asset does not remove it or its Event history from the system; all stakeholders who previously had access to the record will continue to have access to the Event history, <em>including</em> the untracking event, if they look for it.</div>
  </blockquote>
<h3 id="timestamps-on-events">Timestamps on Events</h3>
<p>Lifecycle events in DataTrails give stakeholders a shared view of “Who did What When to an Asset&quot;. The “What” and the &ldquo;Asset&rdquo; are quite straightforward, but the “When” and “Who” can be more nuanced.</p>
<p>Once committed to the DataTrails system, each lifecycle Event record carries 3 separate timestamps:</p>
<ul>
<li><code>timestamp_declared</code> - an optional user-supplied value that tells when an Event happened. This is useful for cases where the client system is off-line for a period but the user still wishes to record the accurate time and order of activities (eg inspection rounds in an air-gapped facility). If unspecified, the system sets timestamp_declared equal to timestamp_accepted (see below).</li>
<li><code>timestamp_accepted</code> - the time the event was actually received on the DataTrails REST interface. Set by the system, cannot be changed by the client.</li>
<li><code>timestamp_committed</code> - the time the event was confirmed distributed to all DLT nodes in the value chain. Set by the system, cannot be changed by the client.</li>
</ul>
<p>Having these 3 fields enables users of DataTrails to accurately reflect what is claimed, whilst also preventing tampering and backdating of entries.</p>
<h3 id="user-principals-on-events">User Principals on Events</h3>
<p>Just as with the &ldquo;When&rdquo;, the &ldquo;Who&rdquo; of “Who Did What When to an Asset&quot; is potentially complicated if, for example, an application or gateway is acting on behalf of some other real-world user.</p>
<p>Once committed to the DataTrails system, each lifecycle Event record carries 2 separate user identities:</p>
<ul>
<li><code>principal_declared</code> - an optional user-supplied value that tells who performed an Event. This is useful for cases where the user principal/credential used to authorize the Event does not accurately or usefully reflect the real-world agent (eg a multi-user application with device-based credentials).</li>
<li><code>principal_accepted</code> - the actual user principal information belonging to the credential used to access the DataTrails REST interface. Set by the system and retrieved from the authorizing IDP, cannot be changed by the client.</li>
</ul>
<p>For more detailed information on Events, and how to implement them, please refer to the 
<a href="/developers/api-reference/events-api/">Events API Reference</a>.</p>
<h2 id="access-policies">Access Policies</h2>
<p>Sharing the right amount of information with your value chain partners is critical to creating a trustworthy shared history for Assets. It is important that every participant be able to see and contribute to the management of Assets without compromising security, commercial, or private personal information. For example, competing vendors should not see each other’s information, but both should be able to freely collaborate with their mutual customer or industry regulator.</p>
<p>In other scenarios, it is desirable to share basic maintenance information with a vendor or external maintenance company, whilst restricting critical operating information such as run cycles and cyber SLAs to a much smaller group.</p>
<p>DataTrails Access Policies are the method through which this access is defined, allowing Asset owners to collaborate with just the right partners at the right time, sharing as much or as little access to Assets as the needs of the value chain partners dictate. All transactions are private by default, meaning that only the Asset owner can see and update Asset histories until a sharing policy has been set up. This ensures ready compliance with important regimes such as GDPR and antitrust regulations, as well as allowing safe and ready collaboration with a large and diverse range of value chain partners in the DataTrails network when required.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To collaborate with a value chain partner you first need to enroll them as a partner in your DataTrails Tenancy by exchanging your public DataTrails Subject Identity with each other, a little like making a new LinkedIn connection or Facebook friend.</p>
<p>This one-time manual process helps to underpin trust and security in your DataTrails Access Policies by ensuring that the partners represented in them are the ones you expect.</p>
</div>
  </blockquote>
<h3 id="public-attestations">Public Attestations</h3>
<p>While a strict, 1-to-1 relationship might be desirable for some use cases, it is also possible that a recorded asset and associated events are recorded in a more widely accessible way. With the use of our <em>Public</em> setting for an asset, you can create an access policy which enables anyone to view that asset record. A viewer of that asset does not have to be registered with DataTrails, and can anonymously use our 
<a href="/platform/overview/instaproof">Instaproof</a> service to check the thing they have against the public record in DataTrails.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Instaproof uses the hash of a file, piece of data or digital artifact to check for associated records with that hash value. This enables users to quickly check if the thing they have is the correct, unaltered version they are expecting.</div>
  </blockquote>
<h3 id="considerations">Considerations</h3>
<p>As with any system handling large amounts of important data, one must carefully consider the design and scope of Access Policy rules in DataTrails.
Every situation is different, and the DataTrails Access Policy system is flexible and powerful enough to support most situations, but in general it is recommended to follow some basic rules:</p>
<ul>
<li>Aim for fewest possible number of policies: This makes it much easier to review and manage access rights.</li>
<li>Balance complex, highly-specific policies with simple, broad ones: Remember rights granted by policy are additive.</li>
<li>A single Access Policy can contain several permission groups, so it is possible to define a single filter to cover a particular population of Assets, then apply different rights to different sets of users and partner organizations. This is often a simpler way to manage access than to create separate Access Policies for each set of users.</li>
<li>Remember attributes can change: ABAC policies are applied at time of access request, not at time of creation, so changing attributes on an asset may change which access policies apply to it. This is one of the primary advantages to an ABAC system, but needs to be kept in mind when designing access control processes.</li>
</ul>
<h3 id="access-policy-configuration">Access Policy configuration</h3>
<p>DataTrails employs a principle called Attribute-Based Access Control (ABAC) for users within an organization who are given 
<a href="/platform/administration/sharing-access-inside-your-tenant/">internal access to your tenant</a>. A related concept called Organization-Based Access Control (OBAC) is provided to mediate data sharing between value chain participants who will share 
<a href="/platform/administration/sharing-access-outside-your-tenant/">external access to their tenants</a>.</p>
<p>Rather than applying a specific fixed policy to each Asset, or grouping them into rigid hierarchies, Access Policies are defined in terms of the observable properties (or attributes) of Assets and users, and if both match, the policy is applied. This enables much greater flexibility and expressivity than traditional hierarchical or role-based methods, whilst at the same time reducing complexity in defining sharing in large-scale systems.</p>
<p>DataTrails Access Policies comprise of 2 main parts:</p>
<ul>
<li>Filters: A list of attributes to match on Assets (this defines the scope of the policy)</li>
<li>Access Permissions: A list of access rights to be granted to users on those matching Assets</li>
</ul>
<p>A simple Access Policy may look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// identity and tenant are non-modifiable system info
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tenant&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// User-friendly identifiers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Sample Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;An Access Policy created for DataTrails user docs&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Filters define which Assets this Policy applies to
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="s2">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// Any Crate, Box, or Bag ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Crate&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Box&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Bag&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// ... whose registered handler is either Fred or Margaret
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.handler=Fred&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.handler=Margaret&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Permissions define what can be done with the matching Assets
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// Grant access to partner organizations by Subject Identity
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// The Subject Identity for a known partner eg ACME Co
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="s2">&#34;subjects/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span> 
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Grant access to local users by attribute (eg email address)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> 
</span></span><span class="line"><span class="cl">            <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;email=bill@synsation.com&#34;</span> <span class="p">]</span> <span class="p">}</span> 
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          <span class="c1">// Limit the APIs they can call
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Asset attributes these users can see
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Height&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;arc_display_type&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Asset attributes these users can modify
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Height&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Events from the Asset history these users can see
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Measure&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Open&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Seal&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Events these users can contribute to the history
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Measure&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Note the include_attributes field is deprecated
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Observe that there are 2 lists in the <code>filters</code> which concern different attributes. The effect of this is to say that an Asset matches the filters if it matches <em>at least one</em> entry from <em>every list</em>. Or in other words, inner lists are <code>OR</code>, while outer lists are <code>AND</code>.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">Filters</span> <span class="err">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">type=Pump</span><span class="p">,</span> <span class="err">type=Valve</span><span class="p">]</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">vendor=SynsationIndustries</span><span class="p">]</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">location=ChicagoWest</span><span class="p">,</span><span class="err">location=ChicagoEast</span><span class="p">]</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>In the above simplified example, the policy would apply to any Pump or Valve from SynsationIndustries installed in either the ChicagoWest or ChicagoEast sites, but it would not match:</p>
<ul>
<li>Other device types from SynsationIndustries;</li>
<li>Pumps or Valves from any other vendor;</li>
<li>SynsationIndustries Valves installed in a different location</li>
</ul>
</div>
  </blockquote>
<h3 id="revoking-access">Revoking Access</h3>
<p>DataTrails adopts a ‘default deny’ approach so access to an Asset Record is only possible if an Access Policy explicitly allows it.</p>
<p>Revoking access can therefore be achieved in a number of ways, any of which may be more or less appropriate for the circumstances:</p>
<ul>
<li>Remove the whole Access Policy</li>
<li>Change the attributes of the Asset so that it no longer matches the Access Policy (eg change location)</li>
<li>Change the attributes of the user or subject so that they no longer match the Access Policy (eg change IDP group)</li>
<li>Turn off the user’s login at the IDP</li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> As with any fair decentralized system it is not possible to &lsquo;unsee&rsquo; information. Any change in OBAC access policies <em>including revoking OBAC access to a value chain partner</em> only applies to new information contributed <em>after</em> the policy change. This ensures continued fair access to the historic evidence base for all legitimate participants whilst also maintaining control of future operations with the Asset owner.</div>
  </blockquote>
<h2 id="attachments-and-blobs">Attachments and Blobs</h2>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails intends to be a store of metadata for your data that is independent of that data, allowing you to continue to work in the places where you already work. Where it is possible, DataTrails recommends keeping your data in the places that it is already kept, rather than creating a duplicate copy in your ledger.</div>
  </blockquote>
<p>Attachments in DataTrails enable images, PDFs and other binary data to be attached to Assets and Events. This brings added richness to the evidence base and facilitates high fidelity collaboration between stakeholders.</p>
<p>Adding an attachment to an Asset or Event enables recording of characteristics or evidence that are very difficult to capture in the rigid structured JSON data of Attributes. For example:</p>
<ul>
<li>a photograph of the physical state of a device such as alignment of components or wear on tamper seals at the time of a particular inspection</li>
<li>a PDF of a safety conformance report to support a maintenance event</li>
<li>a software manifest to support an update</li>
<li>an x-ray image</li>
</ul>
<p>Attaching rich evidence to an Asset or Event is a two step process:</p>
<ol>
<li>First a Binary Large OBject (BLOB) is uploaded</li>
<li>Then a reference to that blob is attached to the Event or Asset.</li>
</ol>
<p>To add attachments to an Event, simply specify an attribute in the <code>event_attributes</code> of the POST request with a dictionary including the blob information and with <code>&quot;arc_attribute_type&quot;: &quot;arc_attachment&quot;</code>. To add or update an attachment on an Asset, put the attachment attribute in the <code>asset_attributes</code> of the request instead.</p>
<p>For more detailed information on Attachments and how to implement them, please refer to 
<a href="/developers/api-reference/blobs-api/">the Blobs API Reference</a> and 
<a href="/developers/api-reference/attachments-api/">the Attachments API Reference</a></p>
<h3 id="the-primary-image">The Primary Image</h3>
<p>Attachments on Assets are named in their arc_display_name property, so that they can be searched and indexed. Names are arbitrary and may be defined according to the needs of the application, but one name is reserved and interpreted by the DataTrails services: <code>arc_primary_image</code>.
If an asset has an attachment attribute named <code>arc_primary_image</code>, then this will be used by the SaaS user interface and other tools to represent the asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Blobs and Attachments cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment.</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> While Attachments are generally expected to be unique, the same attachment can be applied to multiple assets, such as the case of a process manual PDF.</div>
  </blockquote>
<h2 id="geolocation">Geolocation</h2>
<p>DataTrails supports 2 different main concepts of geolocation, and it&rsquo;s important to choose the correct one for your use case.</p>
<ul>
<li><em>Locations</em> on Assets, which enable grouping of Assets based on some common management (&ldquo;All these devices live in the Basingstoke factory&rdquo;)</li>
<li><em>GIS coordinates</em> on Events, which enable recording of exactly where an event took place, and when analyzed together can show the movement of an Asset (&ldquo;This was scanned in London, and later sold in Manchester&rdquo;)</li>
</ul>
<p>Essentially Locations give you groupings:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#locations_grouping" img class="img-fluid responsive" src="/platform/overview/advanced-concepts/locations_grouping.png" width="3596" height="1896" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" src="/platform/overview/advanced-concepts/locations_grouping.png" width="3596" height="1896" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Grouping Assets by location</em></figcaption>
</figure>





<div class="modal fade" id="locations_grouping" tabindex="-1" aria-labelledby="locations_grouping" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" width="3596" height="1896" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>Whereas Event coordinates give you tracking:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#gis_tracking" img class="img-fluid responsive" src="/platform/overview/advanced-concepts/gis_tracking.png" width="3596" height="1896" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" src="/platform/overview/advanced-concepts/gis_tracking.png" width="3596" height="1896" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Tracking Assets with GIS coordinates</em></figcaption>
</figure>





<div class="modal fade" id="gis_tracking" tabindex="-1" aria-labelledby="gis_tracking" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" width="3596" height="1896" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<h3 id="asset-locations">Asset Locations</h3>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> It is important to recognize that the location does not necessarily denote the Asset’s current position in space; it simply determines which facility the Asset belongs to. For things that move around, use GIS coordinates on Events instead.</div>
  </blockquote>
<p>Assets in DataTrails can be arranged into locations, which allows virtual assets (eg digital twins) to be grouped together in a physical context (eg a single plant location). Locations have full 6-digit decimal latitude and longitude components along with full address details allowing high-precision placement on any map renderer or GIS software you wish to link them to. It is not required for assets to be associated with a location, but it is a useful way to group assets in the same physical location and provides for numerous convenience functions in the DataTrails UI.</p>
<p>This enables users of the system to quickly identify the answers to questions such as “how many PLCs in the Greyslake plant need to be updated?”, or “who was the last person to touch any device in the Cape Town facility?”. Locations support custom attributes which can be defined and used for any purpose by the user. This enables storage of a mailing address, phone number, or contact details of the site manager, for example.</p>
<p>Locations are editable and deletable as much as you want. Their references are stored on the DLT but the actual objects are not.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> If your use case does not concern physical sites like factory plant locations or offices it is still possible to use locations to logically group related Assets together. However, in this instance it is likely to be better and more scalable to use your own custom attribute to link Assets.</div>
  </blockquote>
<h3 id="gis-coordinates-on-events">GIS Coordinates on Events</h3>
<p>If you&rsquo;re wanting to track the movement of an Asset, or record an audit trail of <em>where</em> a particular Event happens, you can add <code>arc_gis_lat</code> and <code>arc_gis_lng</code> attributes to the <code>event_attributes</code>.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Sighting Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Observed at Fort Mason, San Francisco&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_gis_lat&#34;</span><span class="p">:</span> <span class="s2">&#34;37.807338&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_gis_lng&#34;</span> <span class="p">:</span> <span class="s2">&#34;-122.429286&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>Once applied the GIS coordinates on Events are immutable.</p>
<h2 id="compliance-policies">Compliance Policies</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creation and editing of Compliance Policies is only supported through the API.</div>
  </blockquote>
Trust is subjective. Compliance is a judgement call. No matter what security technology you have in play, every trust decision you make will depend on the circumstances: who is accessing what; where they’re coming from; how sensitive an operation they’re attempting; the consequences of getting it wrong. An Asset that is safe in one context may not be in another.</p>
<p>By maintaining a complete traceable record of Who Did What When to a Thing, DataTrails makes it possible for any authorized stakeholder to quickly and easily verify that critical processes have been followed and recorded correctly.  And if they weren’t, the record makes it easy to discover where things went wrong and what to fix. For instance, missed or late maintenance rounds can be detected simply by spotting gaps in the maintenance record; cyber vulnerable devices can be found by comparing ideal baselines with patching records; out-of-order process execution and handling violations are visible to all; and back-dating is automatically detectable.</p>
<p>All of this is very valuable in audit and RCA situations after an incident, where there is time to collect together Asset records, piece together the important parts, and analyze the meaning.</p>
<p>But what if the same information could be used for real-time decision-making that might avert an incident? This is where DataTrails’ “compliance posture” APIs come in. These take the thinking and processing burden off the client by providing a single, simple API call to answer the complex question: “given all you know about this asset, should I trust it right now?”. Additionally, and crucially for sensitive use cases, the yes or no answer comes with a detailed defensible reason why which can be inspected by relevant stakeholders during or after the event.</p>
<p>When put all together, this enables high quality decision making based on the best available data, even giving confidence to automated or AI systems to play a full part in operations. Assets can be checked as part of access control logic, prior to accepting data or commands from them, accepting a shipment, or anything else that is important to your business. Crucially, each stakeholder is able to define their own view on Compliance, meaning they can each apply their own unique lens and business concerns to the same evidence base.</p>
<h3 id="compliance-policy-configuration">Compliance Policy Configuration</h3>
<p>In order to make these trust decisions, DataTrails can be configured with Compliance Policies to check Assets against. These policies specify things like tolerance for vulnerability windows, maintenance SLAs, or detecting unusual values for attributes. For example:</p>
<ul>
<li>“Assets must be patched within 40 days of vulnerability notification”</li>
<li>“Maintenance calls must be answered within 72 hours”</li>
<li>&ldquo;rad level must be less than 7&rdquo;</li>
</ul>
<p>Policies can also declare relative tolerances,  such as:</p>
<ul>
<li>&ldquo;No shipping transfer should be more than 10% longer than the average time&rdquo;</li>
<li>&ldquo;The reported weight of this container should be within 1 standard deviation of the historic mean&rdquo;</li>
</ul>
<p>Individual assets either pass or fail, and organizations can calculate their overall security/compliance posture based on what proportion of their assets are breaching their policy set. Compliance signals can also be used to identify where risk lies in an organization and help to prioritize remedial activities.</p>
<h4 id="types-of-compliance-policy">Types of Compliance Policy</h4>
<p>As with Assets and Events, Compliance Policies are very flexible and can be configured to answer a wide range of business problems. The following categories of policy are supported:</p>
<ul>
<li><strong>COMPLIANCE RICHNESS</strong>: This Compliance Policy checks whether a specific attribute of an Asset is within acceptable bounds.<br>
For example, &ldquo;Weight attribute must be less than 1000 kg&rdquo;</li>
<li><strong>COMPLIANCE SINCE</strong>: This Compliance Policy checks if the time since the last occurrence of a specific Event Type has elapsed a specified threshold.<br>
For example, &ldquo;Time since last Maintenance must be less than 72 hours&rdquo;</li>
<li><strong>COMPLIANCE CURRENT OUTSTANDING</strong>: This Compliance Policy will only pass if there is an associated closing event addressing a specified outstanding event.<br>
For example, checking there are no outstanding &ldquo;Maintenance Request&rdquo; Events that are not addressed by an associated &ldquo;Maintenance Performed&rdquo; Event.</li>
<li><strong>COMPLIANCE_PERIOD_OUTSTANDING</strong>: This Compliance Policy will only pass if the time between a pair of correlated events did not exceed the defined threshold.<br>
For example, a policy checking that the time between &ldquo;Maintenance Request&rdquo; and  &ldquo;Maintenance Performed&rdquo; Events does not exceed the maximum 72 hours.</li>
<li><strong>COMPLIANCE_DYNAMIC_TOLERANCE</strong>: This Compliance Policy will only pass if the time between a pair of correlated events or the value of an attribute does not exceed the a variability from the usually observed values.<br>
For example, a policy checking that maintenance times are not considerably longer than normal, or the weight of a container is not much less than the typical average.</li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</div>
  </blockquote>
<h2 id="perspectives">Perspectives</h2>
<p>In the Asset example above there is an <code>at_time</code> property, which reflects a date and time at which these attributes and values were contemporary. Usually this will just be the current system time, but with DataTrails it is possible to go back in time and ask the question &ldquo;what would that asset have looked like to me had I looked at it last week/last year/before the incident?&rdquo;. Using its high integrity record of Asset lineage, DataTrails can give clear and faithful answers to those questions with no fear of backdating, forgery, or repudiation getting in the way.</p>
<p>To do this, simply add <code>at_time=TIMESTAMP</code> to your query. For example, to check the state an Asset was in at 15:30 UTC on 23rd June:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Authorization: Bearer </span><span class="k">$(</span>cat .auth_token<span class="k">)</span><span class="s2">&#34;</span> -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx?at_time<span class="o">=</span>2021-06-23T15:30:00Z <span class="p">|</span> jq 
</span></span></code></pre></div><p>Compliance calls can be similarly modified to answer questions like &ldquo;had I asked this question at the time, what would the answer have been?&rdquo; or &ldquo;had the AI asked this question, would it have made a better decision?&rdquo;. This can be done by adding a <code>compliant_at</code> timestamp to the compliance request.</p>
<h2 id="thats-it">That&rsquo;s it</h2>
<p>These are all the basics of DataTrails. With this knowledge you can now 
<a href="/developers/api-reference/">jump straight into the API</a> or try other topics on the 
<a href="/platform/overview/introduction">DataTrails Platform</a>.</p>
`},{id:5,href:"https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/",title:"Containers as Assets",description:"Using DataTrails to Represent Containers",content:`<h2 id="represent-containers-using-datatrails">Represent Containers Using DataTrails</h2>
<p>DataTrails Assets can be used to track the status, contents, location, and other key attributes of containers over time. This can also be done for containers within containers. For example, you may wish to track bags inside boxes that are inside a shipping container being transported on a train.</p>
<h2 id="create-a-container-asset">Create a Container Asset</h2>
<p>A Container Asset is not a special type of asset, it is a label that is given to an Asset that has been created to represent a container. For more detail on the Asset creation process, please see our 
<a href="/platform/overview/creating-an-asset/">DataTrails Overview guide</a>.<br>For this example, we will create a simple asset that we will call <code>Shipping Container</code>. Note that with DataTrails, we could also record more complex attributes such as size of the container, weight, location, or any other important details. For now, we will create a minimal Asset that includes the name and type.</p>
<ul class="nav nav-tabs" id="shipping_container_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#shipping_container_asset-0" type="button" role="tab" aria-controls="shipping_container_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#shipping_container_asset-1" type="button" role="tab" aria-controls="shipping_container_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#shipping_container_asset-2" type="button" role="tab" aria-controls="shipping_container_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="shipping_container_asset"><div id="shipping_container_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="shipping_container_asset-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#ShippingContainer" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/ShippingContainer.png" width="851" height="521" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/ShippingContainer.png" width="851" height="521" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Create the Shipping Container</em></figcaption>
</figure>
<div class="modal fade" id="ShippingContainer" tabindex="-1" aria-labelledby="ShippingContainer" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;521&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="shipping_container_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="shipping_container_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a shipping container asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="shipping_container_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="shipping_container_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">asset.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Use <code>curl</code> to <code>POST</code> the asset, viewing the result with <code>jq</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@asset.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>If errors occur, see 
<a href="../getting-access-tokens-using-app-registrations/#troubleshooting-token-generation">Troubleshooting Token Generation</a></p>
</div></div>

<h2 id="associate-an-item-or-container-with-another-container">Associate an Item or Container with Another Container</h2>
<p>Now that we have created a <code>Shipping Container</code> Asset, we can create another Asset to represent an item or a box of items that are to be shipped in the Shipping Container. To do this, we will create another Asset and add a custom <code>Asset Attribute</code> that links it to our Shipping Container. For example, let&rsquo;s create an Asset to represent a box that is being transported within the Shipping Container.</p>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For this example, we used the custom attribute <code>within_container</code>, but you could use any key to associate the Assets that does not contain the reserved <code>arc_</code> prefix.</div>
  </blockquote>
<ul class="nav nav-tabs" id="box_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#box_asset-0" type="button" role="tab" aria-controls="box_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#box_asset-1" type="button" role="tab" aria-controls="box_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#box_asset-2" type="button" role="tab" aria-controls="box_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="box_asset"><div id="box_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="box_asset-0">
</br>
<ol>
<li>
<p>Set the <code>Name</code> and <code>Type</code></p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#BoxAsset" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/BoxAsset.png" width="849" height="520" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/BoxAsset.png" width="849" height="520" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Create the Box</em></figcaption>
 </figure>
 <div class="modal fade" id="BoxAsset" tabindex="-1" aria-labelledby="BoxAsset" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w&quot; width=&quot;849&quot; height=&quot;520&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
<li>
<p>Click <code>Advanced Options</code></p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#WithinContainer" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/WithinContainer.png" width="838" height="541" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/WithinContainer.png" width="838" height="541" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Add an Extended Attribute</em></figcaption>
 </figure>
 <div class="modal fade" id="WithinContainer" tabindex="-1" aria-labelledby="WithinContainer" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w&quot; width=&quot;838&quot; height=&quot;541&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
<li>
<p>Click <code>ADD ATTRIBUTE</code> to set <code>Extended Attributes</code></p>
</li>
<li>
<p>Add Attribute = <code>within_container</code> and Value = <code>Shipping Container</code></p>
</li>
<li>
<p>Click <code>REGISTER ASSET</code> to complete the association of the box within the container</p>
</li>
<li>
<p>Repeat the above a few times, editing the <code>Name</code> to add several boxes within the <code>Shipping Container</code></p>
</li>
</ol>
</div>
  <div id="box_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="box_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a box asset and associate with Shipping Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Box </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Box-1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Box</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">within_container</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>Repeat the above a few times, editing the <code>arc_display_name</code> to add several boxes within the <code>Shipping Container</code></p>
</div>
  <div id="box_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="box_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">asset-box.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Box-1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Box&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;within_container&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Use <code>curl</code> to <code>POST</code> the asset, viewing the result with <code>jq</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@asset-box.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>Repeat the above a few times, editing the <code>arc_display_name</code> to add several boxes within the <code>Shipping Container</code></p>
<p>If errors occur, see 
<a href="../getting-access-tokens-using-app-registrations/#troubleshooting-token-generation">Troubleshooting Token Generation</a></p>
</div></div>
</p>
<p>The <code>Box(es)</code> have been recorded as being within the <code>Shipping Container</code>.</p>
<h2 id="list-all-assets-associated-with-a-container">List All Assets Associated With a Container</h2>
<p>To retrieve all Assets associated with a container, you can run a query with a filter that will identify which Assets have the attribute <code>within_container</code> set to the desired value. To list all Assets inside of <code>Shipping Container</code>:</p>
<ul class="nav nav-tabs" id="list_contents" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#list_contents-0" type="button" role="tab" aria-controls="list_contents-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#list_contents-1" type="button" role="tab" aria-controls="list_contents-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#list_contents-2" type="button" role="tab" aria-controls="list_contents-2" aria-selected="false">CURL</button>
		</li></ul>
<div class="tab-content" id="list_contents"><div id="list_contents-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="list_contents-0">
</br>
<ol>
<li>
<p>Select <code>Audit/Filter</code> in the navigation to filter Assets and Events within your tenancy</p>
</li>
<li>
<p>Select <code>ADD FILTER</code></p>
</li>
<li>
<p>Select <code>Asset Attribute</code>, set the name to <code>within_container</code> and the value to <code>Shipping Container</code></p>
</li>
<li>
<p>Select <code>APPLY FILTERS</code> to view the subset of Assets created</p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#AssetFilter" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/AssetFilter.png" width="1546" height="532" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/AssetFilter.png" width="1546" height="532" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Filter Assets and Events</em></figcaption>
 </figure>
 <div class="modal fade" id="AssetFilter" tabindex="-1" aria-labelledby="AssetFilter" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w&quot; width=&quot;1546&quot; height=&quot;532&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
</ol>
</div>
  <div id="list_contents-1" class="tab-pane fade" role="tabpanel" aria-labelledby="list_contents-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets within Shipping Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">within_container</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="list_contents-2" class="tab-pane fade" role="tabpanel" aria-labelledby="list_contents-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.within_container=Shipping%20Container&#34;</span> <span class="p">|</span> jq
</span></span></code></pre></div></div></div>

`},{id:6,href:"https://docs.datatrails.ai/developers/developer-patterns/namespace/",title:"Namespace",description:"Using Namespace in an DataTrails Tenancy",content:`<p>Namespace is a tool that can be used to prevent unwanted interactions when multiple users are performing testing in the same Tenancy. Using two separate namespaces prevents collisions that may cause undesirable results by allowing multiple users to interact with the same Assets and Events without interrupting each other.</p>
<p>Namespace can be added as an attribute within the files you are testing, or as a variable in your Bash environment.</p>
<p>To add namespace as an attribute to your files, use the <code>arc_namespace</code> key. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Originally shipped from Shanghai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;test_02-17-23&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Width&#34;</span><span class="p">:</span> <span class="s2">&#34;2.43m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Length&#34;</span><span class="p">:</span> <span class="s2">&#34;6.06m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Height&#34;</span><span class="p">:</span> <span class="s2">&#34;2.59m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>To use namespace as a variable, such as the date, add the argument to your Bash environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> <span class="nb">export</span> <span class="nv">TEST_NAMESPACE</span><span class="o">=</span>date
</span></span></code></pre></div><p>See 
<a href="https://github.com/datatrails/datatrails-samples/blob/main/DEVELOPERS.md#test_namespace" target="_blank" rel="noopener">TEST_NAMESPACE</a> in our GitHub repository for more information. <code>TEST_NAMESPACE</code> can also be added to your Bash profile to be automatically picked up when testing.</p>
`},{id:7,href:"https://docs.datatrails.ai/platform/overview/creating-an-asset/",title:"Creating an Asset",description:"Creating your first Asset",content:`<p>An Asset can be anything: a file (a document, an image, a sound file etc.), a software application, a shipping container, or even a physical product. It can be any digital or physical object with an associated name, description, and attributes.</p>
<p>Each Asset will have a history of any actions performed upon it by any actor.</p>
<p>You may share Assets and their history with specific stakeholders using 
<a href="/platform/administration/managing-access-to-an-asset-with-abac/">permission sharing</a>. DataTrails also enables you to publicly attest the provenance of your Assets. To learn how, see 
<a href="/platform/overview/public-attestation/">Public Attestation</a>.</p>
<p>The creation of an Asset is the first Event in its lifecycle. The following steps will guide you in creating your first Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Please refer to 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> for more information on Assets.</div>
  </blockquote>
<h2 id="creating-an-asset">Creating an Asset</h2>
<ol>
<li>
<p>Create your Asset
<ul class="nav nav-tabs" id="add_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset-0" type="button" role="tab" aria-controls="add_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-1" type="button" role="tab" aria-controls="add_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-2" type="button" role="tab" aria-controls="add_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset"><div id="add_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset-0">
<p>Using the sidebar, select <code>Assets &amp; Documents</code> and then <code>Register Asset</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetRegister" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetRegister.png" width="1513" height="644" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetRegister.png" width="1513" height="644" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetRegister" tabindex="-1" aria-labelledby="AssetRegister" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w&quot; width=&quot;1513&quot; height=&quot;644&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an \`action\`.
<p>In order to create an Asset we use the action <code>ASSETS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Add details to your new Asset.</p>
</li>
</ol>
<p><ul class="nav nav-tabs" id="add_asset_details" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details-0" type="button" role="tab" aria-controls="add_asset_details-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-1" type="button" role="tab" aria-controls="add_asset_details-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-2" type="button" role="tab" aria-controls="add_asset_details-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details"><div id="add_asset_details-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details-0">
<p>You will see an Asset Creation form, where you provide details of your new Asset:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreateUpdate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreateUpdate" tabindex="-1" aria-labelledby="AssetCreateUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w&quot; width=&quot;1052&quot; height=&quot;626&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset_details-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-1">
<p>Here you can fill out some more metadata about your asset:</p>
<ul>
<li><code>selector</code> is the identifying attribute the yaml runner will use to check if your Asset exists already before attempting to create it. In this case, we use <code>arc_display_name</code> which represents the name of the Asset.</li>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behavior for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-2">
<p>In the file you created earlier, begin adding metadata for your Asset:</p>
<ul>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behavior for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
<ol>
<li>
<p>As a minimum, you will need to add an Asset Name and Asset Type to create an Asset:</p>
<ul>
<li><code>Asset Name</code> - This is the unique name of the Asset i.e. &lsquo;My First Container&rsquo;.</li>
<li><code>Asset Type</code> - This is the class of the object; while it is arbitrary, it is best to have consistency amongst the type of Assets you use i.e. if it is a shipping container, the type could be <code>Shipping Container</code>, which will then be pre-populated for future Assets to use as their own types.
<ul class="nav nav-tabs" id="add_asset_details_min" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details_min-0" type="button" role="tab" aria-controls="add_asset_details_min-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-1" type="button" role="tab" aria-controls="add_asset_details_min-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-2" type="button" role="tab" aria-controls="add_asset_details_min-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details_min"><div id="add_asset_details_min-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details_min-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreateUpdate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding Asset Details</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreateUpdate" tabindex="-1" aria-labelledby="AssetCreateUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w&quot; width=&quot;1052&quot; height=&quot;626&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details_min-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-1">
<p>The YAML Runner uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code> respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details_min-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-2">
<p>The DataTrails API uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code> respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></li>
</ul>
</li>
<li>
<p>At this point, you may wish to use the <code>Advanced Options</code> tab to add other details to your Asset, including extended attributes or attachments such as PDFs or Thumbnail Images.</p>
<p><strong>Extended attributes are user-defined</strong> and can be added to each unique Asset.</p>
<p>Not all Assets of a specific type need to have the same extended attributes, but in most cases it is better to do so for consistency.</p>
<p>To add a new attribute to an Asset, enter your key-value pair.</p>
<p>For Example:
<ul class="nav nav-tabs" id="add_extended_attributes" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_extended_attributes-0" type="button" role="tab" aria-controls="add_extended_attributes-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-1" type="button" role="tab" aria-controls="add_extended_attributes-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-2" type="button" role="tab" aria-controls="add_extended_attributes-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_extended_attributes"><div id="add_extended_attributes-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_extended_attributes-0">
<p>Select <code>Add Attribute</code>, and add your key-value pairs.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetExtendedAttributes" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetExtendedAttributes.png" width="922" height="761" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetExtendedAttributes.png" width="922" height="761" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Extended Attributes</em></figcaption>
</figure>
<div class="modal fade" id="AssetExtendedAttributes" tabindex="-1" aria-labelledby="AssetExtendedAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w&quot; width=&quot;922&quot; height=&quot;761&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_extended_attributes-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-1">
<p>Extended attributes are custom key-value pairs, such as <code>Width</code>, <code>Length</code>, and <code>Height</code> you see below.</p>
<p>This example also adds a location to our asset. To find out more about locations, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Originally shipped from Shanghai</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Width</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.43m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Length</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;6.06m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Height</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.59m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Parkside Junction</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Box intersection between Mill Road and East Road</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">52.2025</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">0.1311</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_extended_attributes-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-2">
<p>Extended attributes are custom key-value pairs, such as <code>Width</code>, <code>Length</code>, and <code>Height</code> you see below.</p>
<p>This example also adds a location to our Asset. To find out more about locations and how to find your Location ID, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Originally shipped from Shanghai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Width&#34;</span><span class="p">:</span> <span class="s2">&#34;2.43m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Length&#34;</span><span class="p">:</span> <span class="s2">&#34;6.06m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Height&#34;</span><span class="p">:</span> <span class="s2">&#34;2.59m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Complete your Asset creation
<ul class="nav nav-tabs" id="finish_create_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_create_asset-0" type="button" role="tab" aria-controls="finish_create_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-1" type="button" role="tab" aria-controls="finish_create_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-2" type="button" role="tab" aria-controls="finish_create_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_create_asset"><div id="finish_create_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_create_asset-0">
<p>Click <code>Register Asset</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreate.png" width="922" height="761" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreate.png" width="922" height="761" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Create the Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreate" tabindex="-1" aria-labelledby="AssetCreate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w&quot; width=&quot;922&quot; height=&quot;761&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_create_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret client_secret.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container.yaml
</span></span></code></pre></div></div>
  <div id="finish_create_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Assets
<ul class="nav nav-tabs" id="view_all_assets" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_all_assets-0" type="button" role="tab" aria-controls="view_all_assets-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-1" type="button" role="tab" aria-controls="view_all_assets-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-2" type="button" role="tab" aria-controls="view_all_assets-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_all_assets"><div id="view_all_assets-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_all_assets-0">
<p>Navigate to &lsquo;Assets &amp; Documents&rsquo; to see your Asset in the UI.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#Asset" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/Asset.png" width="1895" height="558" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/Asset.png" width="1895" height="558" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Assets</em></figcaption>
</figure>
<div class="modal fade" id="Asset" tabindex="-1" aria-labelledby="Asset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w&quot; width=&quot;1895&quot; height=&quot;558&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_all_assets-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-1">
<p>You can view all Asset data using the <code>ASSETS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_all_assets-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-2">
<p>You can view all Asset data using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View details of the Asset you created
<ul class="nav nav-tabs" id="view_specific_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_specific_asset-0" type="button" role="tab" aria-controls="view_specific_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-1" type="button" role="tab" aria-controls="view_specific_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-2" type="button" role="tab" aria-controls="view_specific_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_specific_asset"><div id="view_specific_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_specific_asset-0">
<p>To view your Asset, click on the Asset row. You will see the detailed history of your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetView" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetView.png" width="1447" height="805" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetView.png" width="1447" height="805" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetView" tabindex="-1" aria-labelledby="AssetView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w&quot; width=&quot;1447&quot; height=&quot;805&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_specific_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-1">
<p>The <code>ASSETS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific Asset.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Asset named My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_specific_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-2">
<p>Details of a specific asset can be retrieved using identifying attributes (<code>attrs</code>), such as name, type, or presence of a certain field.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>My%20First%20Container
</span></span></code></pre></div></div></div>

Here we see all details entered: The extended attributes and a history of Events recorded on the Asset.
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> After registration, Assets cannot be updated using the asset creation screens but an Asset&rsquo;s <code>Asset Attributes</code> can be updated as part of an Event.</p>
<p>For more information on creating Events, 
<a href="/platform/overview/creating-an-event-against-an-asset/">click here.</a></p>
</div>
  </blockquote>
The first Event will always be the Asset Creation. In the next section, we will cover how to create your own Events for your Asset.</p>
</li>
</ol>
`},{id:8,href:"https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/",title:"Creating an Event Against an Asset",description:"Creating your first Event",content:`<p>If you wish to begin tracking your Asset history and build an immutable Audit Trail, you need to create Events.</p>
<p>Asset Creation is the first Event. The more Events recorded against an Asset, the richer and deeper its history becomes.</p>
<p>Events track key moments of an Asset&rsquo;s lifecycle; details of Who Did What When to an Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Before creating an Event, follow 
<a href="/platform/overview/creating-an-asset/">this guide</a> to create your first Asset. You will need to wait for the Asset to reach COMMITTED state before attempting to record an Event.</div>
  </blockquote>
<h2 id="creating-events">Creating Events</h2>
<ol>
<li>
<p>Create an Event
<ul class="nav nav-tabs" id="add_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event-0" type="button" role="tab" aria-controls="add_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-1" type="button" role="tab" aria-controls="add_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-2" type="button" role="tab" aria-controls="add_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event"><div id="add_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event-0">
<p>When viewing your Asset, click the <code>Record Event</code> button.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventRecord" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventRecord.png" width="1447" height="805" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventRecord.png" width="1447" height="805" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Recording an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventRecord" tabindex="-1" aria-labelledby="EventRecord" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w&quot; width=&quot;1447&quot; height=&quot;805&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
<p>To create your Event, use the action <code>EVENTS_CREATE</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div><p>The <code>asset_id</code> must match the Asset ID found in the details of your Asset. See 
<a href="/platform/overview/creating-an-asset/">Step 7 of Creating an Asset</a>.</p>
</div>
  <div id="add_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Add Event type and description
<ul class="nav nav-tabs" id="add_event_type" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event_type-0" type="button" role="tab" aria-controls="add_event_type-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_type-1" type="button" role="tab" aria-controls="add_event_type-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_type-2" type="button" role="tab" aria-controls="add_event_type-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event_type"><div id="add_event_type-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event_type-0">
<p>You will see the following Event creation form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventInformation" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventInformation.png" width="857" height="656" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventInformation.png" width="857" height="656" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Entering Event Details</em></figcaption>
</figure>
<div class="modal fade" id="EventInformation" tabindex="-1" aria-labelledby="EventInformation" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w&quot; width=&quot;857&quot; height=&quot;656&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event_type-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_type-1">
<p>Fill out metadata about your Event</p>
<p><code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the attributes section you should also add the required DataTrails attributes <code>arc_description</code> and <code>arc_display_type</code> to represent <code>Event Description</code> and <code>Event Type</code> from the UI.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt; </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Inspection</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_event_type-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_type-2">
<p>Fill out metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the attributes section you should also add the required DataTrails attributes <code>arc_description</code> and <code>arc_display_type</code> to represent the UI fields <code>Event Description</code> and <code>Event Type</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Event&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This Event will be POSTed to a specific Asset endpoint when the curl command is run. To do this, you will need the desired <code>assets/&lt;asset-id&gt;</code> string.</p>
</div></div>
<br></p>
</li>
<li>
<p>You may enter both Event and Asset attributes</p>
<p><code>Event Attributes</code> - Attributes specific to an Event, i.e. which device recorded the Event<br>
<code>Asset Attributes</code> - Attributes of the Asset that <strong>may change</strong> as a result of the Event, i.e. overall weight of a container
<ul class="nav nav-tabs" id="add_event_attr" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event_attr-0" type="button" role="tab" aria-controls="add_event_attr-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_attr-1" type="button" role="tab" aria-controls="add_event_attr-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_attr-2" type="button" role="tab" aria-controls="add_event_attr-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event_attr"><div id="add_event_attr-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event_attr-0">
<p>Select the <code>Add Attribute</code> button on each tab to add your key-value pairs.<br>You may also add an attachment to your Event. In this example we will attach a text document called <code>Inspection Standards</code> as a custom attribute. Select the symbol to upload a file.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AttachmentUpload" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/AttachmentUpload.png" width="834" height="554" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/AttachmentUpload.png" width="834" height="554" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Specific Attributes</em></figcaption>
</figure>
<div class="modal fade" id="AttachmentUpload" tabindex="-1" aria-labelledby="AttachmentUpload" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w&quot; width=&quot;834&quot; height=&quot;554&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventAssetAttributes" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes.png" width="856" height="608" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes.png" width="856" height="608" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Asset Attributes</em></figcaption>
</figure>
<div class="modal fade" id="EventAssetAttributes" tabindex="-1" aria-labelledby="EventAssetAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w&quot; width=&quot;856&quot; height=&quot;608&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event_attr-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_attr-1">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs. You may also add an attachment to your Event. In this case, we have attached a PDF document labeled <code>Inspection Standards</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Inspection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Cargo</span><span class="p">:</span><span class="w"> </span><span class="l">Rare Metals</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Weight</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1192kg&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attachments</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">inspection_standards.pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">document/pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Standards</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_event_attr-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_attr-2">
<p>You may add an attachment to your Event. To do so you will need to upload your attachment to DataTrails using the 
<a href="/developers/api-reference/blobs-api/">Blobs API</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=document/pdf&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -F <span class="s2">&#34;file=@/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs
</span></span></code></pre></div><p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs. Use the <code>blobs/&lt;attachment-id&gt;</code> returned from the curl command above as the <code>arc_attachment_identity</code> in your Event.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Event&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Cargo&#34;</span><span class="p">:</span> <span class="s2">&#34;Rare Metals&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;inspection_standards&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;standards.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Standards&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Weight&#34;</span><span class="p">:</span> <span class="s2">&#34;1192kg&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

Here we see someone noted the type of cargo loaded in the Event, and recorded the total weight of the cargo using a newly defined <code>Weight</code> attribute.<br><br>
Every Event has an automatically generated <code>timestamp_accepted</code> and <code>principal_accepted</code> attribute that records <em>when</em> who performed what, as submitted to DataTrails.<br><br>
There is an option to append 
<a href="/platform/overview/advanced-concepts/#timestamps-on-events"><code>timestamp_declared</code></a> and 
<a href="/platform/overview/advanced-concepts/#user-principals-on-events"><code>principal_declared</code></a> attributes on the Event, for example, if the Event happened offline or a third party reports it. This creates a more detailed record.<br><br>
Documents and images can be recorded with an Event in the same way as an Asset. This is useful for storing additional material that is linked to the Audit Trail metadata for posterity.<br>For example, each <code>Inspection</code> Event can store the documentation for the specific standard used for each container inspection. This allows historical checking of Events and the standard and processes that were applied at the time.</p>
</li>
<li>
<p>Record your Event
<ul class="nav nav-tabs" id="record_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#record_event-0" type="button" role="tab" aria-controls="record_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-1" type="button" role="tab" aria-controls="record_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-2" type="button" role="tab" aria-controls="record_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="record_event"><div id="record_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="record_event-0">
<p>Once you have entered all data, click the <code>Record Event</code> Button to add the Event to your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventRecorded" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventRecorded.png" width="1452" height="854" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventRecorded.png" width="1452" height="854" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="EventRecorded" tabindex="-1" aria-labelledby="EventRecorded" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w&quot; width=&quot;1452&quot; height=&quot;854&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
You will see that the Asset Attribute we changed is also recorded in the Asset View.</div>
  <div id="record_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-1">
<p>Use the 
<a href="https://python.datatrails.com/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container_inspection_event.yaml
</span></span></code></pre></div></div>
  <div id="record_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Event details
<ul class="nav nav-tabs" id="view_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_event-0" type="button" role="tab" aria-controls="view_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-1" type="button" role="tab" aria-controls="view_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-2" type="button" role="tab" aria-controls="view_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_event"><div id="view_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_event-0">
<p>Click the <code>Event history</code> tab and then on a row to inspect the Event:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventView.png" width="1464" height="619" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventView.png" width="1464" height="619" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventView" tabindex="-1" aria-labelledby="EventView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w&quot; width=&quot;1464&quot; height=&quot;619&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here we see the details entered earlier and also tabs that will show both the Event attributes and Asset attribute updates:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventAttributeView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventAttributeView.png" width="642" height="271" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventAttributeView.png" width="642" height="271" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Event Attributes</em></figcaption>
</figure>
<div class="modal fade" id="EventAttributeView" tabindex="-1" aria-labelledby="EventAttributeView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w&quot; width=&quot;642&quot; height=&quot;271&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AttributeUpdatesView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView.png" width="642" height="188" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView.png" width="642" height="188" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Attribute Updates</em></figcaption>
</figure>
<div class="modal fade" id="AttributeUpdatesView" tabindex="-1" aria-labelledby="AttributeUpdatesView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w&quot; width=&quot;642&quot; height=&quot;188&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="view_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-1">
<p>The <code>EVENTS_LIST</code> action can be used to view all Events, or filtered using attributes (<code>attrs</code>) to view details of a specific Event</p>
<p>To view all Events, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List inspection Events against the Asset &#39;My First Container&#39;.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container </span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-2">
<p>Event data can be viewed using curl commands</p>
<p>To view all Events across all Assets, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/-/events
</span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;
</span></span></code></pre></div></div></div>

Please see the 
<a href="/platform/administration/">Administration</a> section for information on how to manage your assets</p>
</li>
</ol>
<p>In the next section we look at a specific type of Asset, the Document Profile Asset.</p>
`},{id:9,href:"https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/",title:"Registering a Document Profile Asset",description:"Register document profile asset",content:`<p>The DataTrails document profile is a set of suggested Asset and Event attributes that allow you to trace the lifecycle of a document.</p>
<p>As it builds on the standard DataTrails asset the same processes are used for 
<a href="/platform/administration/managing-access-to-an-asset-with-abac/">Permissioned Sharing</a> and 
<a href="/platform/overview/public-attestation/">Public Attestation</a>.</p>
<p>The following steps will guide you in creating your first Document Profile Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Check out our 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> for more general information on Assets and 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a> for details of the Document Profile asset and event attributes.</div>
  </blockquote>
<h2 id="registering-a-document">Registering a Document</h2>
<ol>
<li>
<p>Register your Document
<ul class="nav nav-tabs" id="add_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset-0" type="button" role="tab" aria-controls="add_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-1" type="button" role="tab" aria-controls="add_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-2" type="button" role="tab" aria-controls="add_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset"><div id="add_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset-0">
<p>Using the sidebar, select <code>Assets &amp; Documents</code> and then <code>Register Document</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocMenu" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu.png" width="1558" height="564" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu.png" width="1558" height="564" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Registering a Document</em></figcaption>
</figure>
<div class="modal fade" id="RegDocMenu" tabindex="-1" aria-labelledby="RegDocMenu" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w&quot; width=&quot;1558&quot; height=&quot;564&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an \`action\`.
<p>In order to create an Asset we use the action <code>ASSETS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>You will see the Document Registration form<br>
The <code>Document Information</code> tab is where you enter the information that is required by the document profile. You have the option to drag your document into the Auto-fill box or you can enter the information into the form manually.<br>
The Trust data:</p>
<ul>
<li><code>Name</code> - This is the unique name of the Document i.e. &lsquo;My First Document&rsquo;</li>
<li><code>Version</code> - The version of your document</li>
<li><code>SHA-256 Hash</code> - Manually enter the SHA-256 hash of this document version. If you use the auto-fill box we will calculate the SHA-256 hash for you</li>
</ul>
<p>Additional options:</p>
<ul>
<li><code>Upload on Creation</code> - Upload the document in addition to the trust data</li>
<li><code>Attest Publicly</code> - Enable to allow public attestation of the document<br><br>
<ul class="nav nav-tabs" id="add_asset_details" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details-0" type="button" role="tab" aria-controls="add_asset_details-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-1" type="button" role="tab" aria-controls="add_asset_details-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-2" type="button" role="tab" aria-controls="add_asset_details-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details"><div id="add_asset_details-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocForm2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocForm2.png" width="859" height="609" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocForm2.png" width="859" height="609" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Information</em></figcaption>
</figure>
<div class="modal fade" id="RegDocForm2" tabindex="-1" aria-labelledby="RegDocForm2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w&quot; width=&quot;859&quot; height=&quot;609&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-1">
<p>Here you can fill out some more metadata about your asset:</p>
<ul>
<li><code>selector</code> is the identifying attribute the yaml runner will use to check if your Asset exists already before attempting to create it. In this case, we use <code>arc_display_name</code> which represents the name of the Asset.</li>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behaviour for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-2">
<p>In the file you created earlier, begin adding metadata for your Asset:</p>
<ul>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behaviour for all Assets.</li>
<li><code>public</code> determines whether your document is public (<em>true</em>) or private (<em>false</em>)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>  
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></li>
</ul>
</li>
<li>
<p>The <code>Advanced Options</code> tab is where you enter the Asset Attributes that are required for all asset types and also the optional document profile asset attributes.</p>
<ul>
<li><code>Document Type</code> - This is the class of the object; while it is arbitrary, it is best to have consistency amongst the type of Documents you use i.e. if it is a purchase order, the type could be <code>Purchase Order</code>, which will then be pre-populated for future Documents to use as their own types.</li>
<li><code>Proof Mechanism</code> - The method used to record the transaction to the DataTrails distributed ledger.</li>
</ul>
<p>Please see our 
<a href="/platform/overview/core-concepts/#proving-provenance">Core Concepts</a> section for more information on the Proof Mechanism for your Document
<ul class="nav nav-tabs" id="add_asset_details_min" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details_min-0" type="button" role="tab" aria-controls="add_asset_details_min-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-1" type="button" role="tab" aria-controls="add_asset_details_min-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-2" type="button" role="tab" aria-controls="add_asset_details_min-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details_min"><div id="add_asset_details_min-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details_min-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions.png" width="854" height="641" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions.png" width="854" height="641" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Advanced Options</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions" tabindex="-1" aria-labelledby="RegDocAdvancedOptions" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;641&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details_min-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-1">
<p>The YAML Runner uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code>respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details_min-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-2">
<p>The DataTrails API uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code>respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>At this point, you may wish to add other details to your Document, including extended attributes or attachments such as PDFs or Thumbnail Images</p>
<p>Extended attributes are user-defined and can be added to each unique Document.</p>
<p>Not all Documents of a specific type need to have the same extended attributes, but in most cases it is better to do so for consistency.</p>
<p>To add a new attribute to a Document, enter your key-value pair.</p>
<p>For Example:
<ul class="nav nav-tabs" id="add_extended_attributes" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_extended_attributes-0" type="button" role="tab" aria-controls="add_extended_attributes-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-1" type="button" role="tab" aria-controls="add_extended_attributes-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-2" type="button" role="tab" aria-controls="add_extended_attributes-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_extended_attributes"><div id="add_extended_attributes-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_extended_attributes-0">
<p>Select <code>Add Attribute</code>, and add your key-value pairs</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Extended Attributes</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions2" tabindex="-1" aria-labelledby="RegDocAdvancedOptions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;711&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_extended_attributes-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-1">
<p>Extended attributes are custom key-value pairs, such as <code>document_version</code>, <code>format</code>, and <code>some_custom_attribute</code> you see below.</p>
<p>This example also adds a location to our asset. To find out more about locations, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<p>It&rsquo;s also good practice to include <code>confirm: true</code> which tells DataTrails to finish committing the Asset before moving to the next step.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Promotional Material</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">PUBLIC promotional document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Published</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l">pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">some_custom_attribute</span><span class="p">:</span><span class="w"> </span><span class="l">anything you like</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_extended_attributes-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-2">
<p>Extended attributes are custom key-value pairs, such as <code>document_version</code>, <code>format</code>, and <code>some_custom_attribute</code> you see below.</p>
<p>This example also adds a location to our Asset. To find out more about locations and how to find your Location ID, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Promotional Material&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;PUBLIC promotional document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;format&#34;</span><span class="p">:</span><span class="s2">&#34;pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span><span class="s2">&#34;anything you like&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Complete your Asset creation
<ul class="nav nav-tabs" id="finish_create_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_create_asset-0" type="button" role="tab" aria-controls="finish_create_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-1" type="button" role="tab" aria-controls="finish_create_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-2" type="button" role="tab" aria-controls="finish_create_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_create_asset"><div id="finish_create_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_create_asset-0">
<p>Click <code>Register Document</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Register the Document</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions2" tabindex="-1" aria-labelledby="RegDocAdvancedOptions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;711&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_create_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret client_secret.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container.yaml
</span></span></code></pre></div></div>
  <div id="finish_create_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Document
<ul class="nav nav-tabs" id="view_all_assets" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_all_assets-0" type="button" role="tab" aria-controls="view_all_assets-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-1" type="button" role="tab" aria-controls="view_all_assets-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-2" type="button" role="tab" aria-controls="view_all_assets-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_all_assets"><div id="view_all_assets-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_all_assets-0">
<p>Navigate to &lsquo;Assets &amp; Documents&rsquo; to see your Asset in the UI.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocMenu2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu2.png" width="1474" height="462" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu2.png" width="1474" height="462" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Assets</em></figcaption>
</figure>
<div class="modal fade" id="RegDocMenu2" tabindex="-1" aria-labelledby="RegDocMenu2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w&quot; width=&quot;1474&quot; height=&quot;462&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_all_assets-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-1">
<p>You can view all Asset data using the <code>ASSETS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_all_assets-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-2">
<p>You can view all Asset data using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View details of the Asset you created
<ul class="nav nav-tabs" id="view_specific_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_specific_asset-0" type="button" role="tab" aria-controls="view_specific_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-1" type="button" role="tab" aria-controls="view_specific_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-2" type="button" role="tab" aria-controls="view_specific_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_specific_asset"><div id="view_specific_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_specific_asset-0">
<p>To view your Asset, click on the Asset row. You will see the details and event history of your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#DocAsset" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/DocAsset.png" width="1441" height="881" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/DocAsset.png" width="1441" height="881" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Document Asset</em></figcaption>
</figure>
<div class="modal fade" id="DocAsset" tabindex="-1" aria-labelledby="DocAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w&quot; width=&quot;1441&quot; height=&quot;881&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>The extended attributes are in the <code>Attributes</code> dropdown.</p>
</div>
  <div id="view_specific_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-1">
<p>The <code>ASSETS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific Asset.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps:An Asset can be anything</span><span class="p">:</span><span class="w"> </span><span class="l">a connected machine, a shipping container, or even a data set. It can be any physical or digital object with an associated name, description, and attributes.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">Each</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Asset named My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_specific_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-2">
<p>Details of a specific asset can be retrieved using identifying attributes (<code>attrs</code>), such as name, type, or presence of a certain field.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>My%20First%20Document
</span></span></code></pre></div></div></div>
<br></p>
</li>
</ol>
<p>Here we see all details entered: The extended attributes and a history of Events recorded on the Document.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To update the details of your Asset after it has been created, you must create an Event containing <code>Asset Attributes</code> that conform to the 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a>.</p>
<p>For more information on creating Events, 
<a href="/platform/overview/creating-an-event-against-a-document/">click here.</a></p>
</div>
  </blockquote>
<p>The first Event in the Event History will always be the Document Registration. In the next section, we will cover how to create your own Events for your Document.</p>
`},{id:10,href:"https://docs.datatrails.ai/developers/developer-patterns/document-profile/",title:"Document Profile",description:"Tracing the Lifecycle of a Document with DataTrails",content:`<p>The DataTrails document profile is a set of suggested Asset and Event attributes that allow you to trace the lifecycle of a document.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="profile-attribute-namespace">Profile Attribute Namespace</h5>
<p>The <code>document_</code> prefix is used to designate attributes that are part of the profile. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<h3 id="document-profile-asset-attributes">Document Profile Asset Attributes</h3>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_profile</td>
<td>Designates that the Asset follows the document profile</td>
<td>Required, set as <code>Document</code></td>
</tr>
<tr>
<td>document_hash_value</td>
<td>Hash of the most recently published version of the document</td>
<td>Required</td>
</tr>
<tr>
<td>document_hash_alg</td>
<td>Algorithm used to compute document_hash_value (currently, only SHA-256 is supported)</td>
<td>Required</td>
</tr>
<tr>
<td>document_document</td>
<td>Attachment containing the most recently uploaded version of the document being traced.</td>
<td>Optional</td>
</tr>
<tr>
<td>document_version</td>
<td>Specific version string for the most recent version of the document</td>
<td>Optional, but encouraged</td>
</tr>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events (Published, Withdrawn)</td>
<td>Optional, enforced when using lifecycle events</td>
</tr>
<tr>
<td>document_portable_name</td>
<td>Formal name or identifier for document that persists across boundaries and throughout versions</td>
<td>Optional, not interpreted by DataTrails</td>
</tr>
</tbody>
</table>
<h3 id="publish-event">Publish Event</h3>
<p>Publish a new version of the document using special attributes interpreted by DataTrails for this event type.</p>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must be set to <code>Publish</code></td>
</tr>
<tr>
<td>document_version_authors</td>
<td>List of authors on this version of the document</td>
<td>Optional, see format below</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="document-version-authors">Document Version Authors</h5>
<p>You must express <code>document_version_authors</code> as a list of objects that have <code>display_name</code> as a property.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Alice&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="err">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div></div>
  </blockquote>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_hash_value</td>
<td>Hash of this version of the document</td>
<td>Required</td>
</tr>
<tr>
<td>document_hash_alg</td>
<td>Algorithm used for hashing. We only officially support SHA-256.</td>
<td>Required</td>
</tr>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events</td>
<td>Required, must be <code>Published</code></td>
</tr>
<tr>
<td>document_document</td>
<td>Attachment containing this version of the document</td>
<td>Optional</td>
</tr>
<tr>
<td>document_version</td>
<td>Version string for the this version of the document</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="withdraw-event">Withdraw Event</h3>
<p>If a document is no longer required, or if for any reason it is decided that it should no longer be used, then a document can be withdrawn.
Withdrawal is optional and it is usually the final event in the document lifecycle. It can be reversed in DataTrails by publishing a new version.</p>
<p>Withdraw an entire document (mark that it is no longer considered current.)</p>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must be set to <code>Withdraw</code></td>
</tr>
<tr>
<td>document_withdrawal_reason</td>
<td>Reason why document has been withdrawn</td>
<td>Optional, but encouraged</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events</td>
<td>Required, must be <code>Withdrawn</code></td>
</tr>
</tbody>
</table>
`},{id:11,href:"https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/",title:"Registering an Event Against a Document Profile Asset",description:"",content:`<p>It is rare for a document to remain unchanged during it&rsquo;s lifetime. Some documents are expected to go though many versions (e.g product documentation) while others (e.g. an employment contract) change much less frequently.</p>
<p>If you need to update your registered Document Profile Asset you can record this as an Event. The 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a> defines two types of Event; Publish and Withdraw.</p>
<p>Document Registration is the first Event with each new version being recorded as a Publish Event.</p>
<p>There is also the option to record an event (Record Event) that is important but is not formally part of the document profile. An example of this could be a document content review or a change in security classification.</p>
<p>When the document version is no longer to be used there is a Withdraw Event.</p>
<p>These Events track key moments of an Document&rsquo;s lifecycle; details of Who Did What When to each version of the document.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Before registering an Event, follow 
<a href="/platform/overview/registering-a-document-profile-asset/">this guide</a> to register your first Document Asset. You will need to wait for the Asset to reach COMMITTED state before attempting to record an Event.</div>
  </blockquote>
<h2 id="registering-events">Registering Events</h2>
<ol>
<li>
<p>Open the Asset Overview for a Document Profile Asset
<ul class="nav nav-tabs" id="add_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event-0" type="button" role="tab" aria-controls="add_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-1" type="button" role="tab" aria-controls="add_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-2" type="button" role="tab" aria-controls="add_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event"><div id="add_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event-0">
<p>When viewing your Document, you have the choice of <code>Add New Version</code> (publish a new version), <code>Withdraw Document</code> (the document has reached End of Life) or <code>Record Event</code> (any other event that you wish to record).</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetOverview" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview.png" width="1205" height="655" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview.png" width="1205" height="655" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Asset Overview</em></figcaption>
</figure>
<div class="modal fade" id="AssetOverview" tabindex="-1" aria-labelledby="AssetOverview" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w&quot; width=&quot;1205&quot; height=&quot;655&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-1">
<p>To use the YAML Runner, please visit 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">this link</a> for installation instructions.</p>
<p>To create your Event, use the action <code>EVENTS_CREATE</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div><p>The <code>asset_id</code> must match the Asset ID found in the details of your Document. See 
<a href="/platform/overview/registering-a-document-profile-asset/">Step 7 of Registering a Document Profile Asset</a>.</p>
</div>
  <div id="add_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> In addition to the Asset and Event attributes that are part of the Document Profile, it is possible to record other attributes that are not part of the profile. These are:</p>
<ul>
<li><code>Event Attributes</code> - Attributes specific to an Event, i.e. a new author.</li>
<li><code>Asset Attributes</code> - Attributes of the Asset that may change as a result of the Event, i.e. the new document hash.</li>
</ul></div>
  </blockquote>
<br></p>
</li>
<li>
<p>Adding a New Version
<ul class="nav nav-tabs" id="add_new_version" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_new_version-0" type="button" role="tab" aria-controls="add_new_version-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_new_version-1" type="button" role="tab" aria-controls="add_new_version-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_new_version-2" type="button" role="tab" aria-controls="add_new_version-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_new_version"><div id="add_new_version-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_new_version-0">
<p>Click on the <code>Add New Version</code> button.<br>
Information that is specific to the Document Profile is entered in the Document Information tab. As with registering the document, the new version can be dragged into the auto-fill dropzone or you can manually enter the document hash.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddNewVersion" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion.png" width="846" height="641" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion.png" width="846" height="641" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Information</em></figcaption>
</figure>
<div class="modal fade" id="AddNewVersion" tabindex="-1" aria-labelledby="AddNewVersion" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w&quot; width=&quot;846&quot; height=&quot;641&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
The Advanced Options tab is for additional Asset and Event attributes that are not part of the document profile.
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddNewVersionDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails.png" width="848" height="718" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails.png" width="848" height="718" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Advanced Options</em></figcaption>
</figure>
<div class="modal fade" id="AddNewVersionDetails" tabindex="-1" aria-labelledby="AddNewVersionDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w&quot; width=&quot;848&quot; height=&quot;718&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_new_version-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_new_version-1">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs.</p>
<p>Fill out the metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the asset attributes section you should include the required DataTrails asset attributes as defined by the document profile. The new document version hash value is <code>document_hash_value</code>, the hash algorithm is <code>document_hash_alg</code> and the <code>document_status</code> which must be <code>Published</code>.</p>
<p>In the event attributes section you should also add the required DataTrails event attribute <code>arc_display_type</code> together with any other event specific attributes. The Document Profile specifies that <code>arc_display_type</code> must be <code>Publish</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">84684c83afd5e9cb3a83439872eae74798979ff5754b15931dbe768092174ec9</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Published</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Publish version 2 of My First Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Publish</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version_authors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Dee Author</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="l">dee@writeme.org</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Anne Author</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="l">anne@writeme.org  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_new_version-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_new_version-2">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs.</p>
<p>Fill out the metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the asset attributes section you should include the required DataTrails asset attributes as defined by the document profile. The new document version hash value is <code>document_hash_value</code>, the hash algorithm is <code>document_hash_alg</code> and the <code>document_status</code> which must be <code>Published</code>.</p>
<p>In the event attributes section you should also add the required DataTrails event attribute <code>arc_display_type</code> together with any other event specific attributes. The Document Profile specifies that <code>arc_display_type</code> must be <code>Publish</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;84684c83afd5e9cb3a83439872eae74798979ff5754b15931dbe768092174ec9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish version 2 of My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Dee Author&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;dee@writeme.org&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Anne Author&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;anne@writeme.org&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This Event will be POSTed to a specific Asset endpoint when the curl command is run. To do this, you will need to include the correct <code>assets/&lt;asset-id&gt;</code> string for the asset in the URL.</p>
</div></div>

<br></p>
</li>
<li>
<p>The Withdraw Event
<ul class="nav nav-tabs" id="withdraw_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#withdraw_event-0" type="button" role="tab" aria-controls="withdraw_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#withdraw_event-1" type="button" role="tab" aria-controls="withdraw_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#withdraw_event-2" type="button" role="tab" aria-controls="withdraw_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="withdraw_event"><div id="withdraw_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="withdraw_event-0">
<p>If a document is no longer required, or if for any reason it is decided that it should no longer be used, then a document can be withdrawn.<br>Withdrawal is optional and it is usually the final event in the document lifecycle. It can be reversed in DataTrails by publishing a new version.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#WithdrawEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent.png" width="408" height="239" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent.png" width="408" height="239" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Withdraw Event</em></figcaption>
</figure>
<div class="modal fade" id="WithdrawEvent" tabindex="-1" aria-labelledby="WithdrawEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w&quot; width=&quot;408&quot; height=&quot;239&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="withdraw_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="withdraw_event-1">
<p>Use the attribute/value pairs in the example below to register a <code>Withdraw</code> event</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Withdrawn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw My First Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="withdraw_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="withdraw_event-2">
<p>Use the attribute/value pairs in the example below to register a <code>Withdraw</code> event</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Recording a Generic Event<br>
The <code>Record Event</code> button provides a way to record generic events that are not part of the Document Profile lifecycle. The asset and event attributes are in separate tabs in this Event type.</p>
<p>See 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset</a> for more information on this event type.
<ul class="nav nav-tabs" id="record_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#record_event-0" type="button" role="tab" aria-controls="record_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-1" type="button" role="tab" aria-controls="record_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-2" type="button" role="tab" aria-controls="record_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="record_event"><div id="record_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="record_event-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="RecordEvent" tabindex="-1" aria-labelledby="RecordEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;550&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="record_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Document review</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Review</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="record_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Document Review&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Review&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Registering the Event
<ul class="nav nav-tabs" id="register_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#register_event-0" type="button" role="tab" aria-controls="register_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#register_event-1" type="button" role="tab" aria-controls="register_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#register_event-2" type="button" role="tab" aria-controls="register_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="register_event"><div id="register_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="register_event-0">
<p>Once your form is complete, click on the <code>Record Event</code> button to register the event.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="RecordEvent" tabindex="-1" aria-labelledby="RecordEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;550&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="register_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="register_event-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_document_event.yaml
</span></span></code></pre></div></div>
  <div id="register_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="register_event-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Viewing Event details
<ul class="nav nav-tabs" id="view_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_event-0" type="button" role="tab" aria-controls="view_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-1" type="button" role="tab" aria-controls="view_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-2" type="button" role="tab" aria-controls="view_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_event"><div id="view_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_event-0">
<p>The Event History can be seen in the Asset Overview from 
<a href="/platform/overview/registering-an-event-against-a-document-profile-asset/#registering-events">step 1</a>, simply click on the Event History tab and then any Event row to view it.<br>
The Overview tab shows the details of the Event including the version and document hash of this specific version.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails.png" width="1219" height="818" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails.png" width="1219" height="818" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventDetails" tabindex="-1" aria-labelledby="EventDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w&quot; width=&quot;1219&quot; height=&quot;818&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>The Event attributes and Asset attributes tabs contain any custom attributes that were added when the Event was registered.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#MoreEventDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails.png" width="573" height="204" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails.png" width="573" height="204" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Event Attributes</em></figcaption>
</figure>
<div class="modal fade" id="MoreEventDetails" tabindex="-1" aria-labelledby="MoreEventDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w&quot; width=&quot;573&quot; height=&quot;204&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="view_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-1">
<p>The <code>EVENTS_LIST</code> action can be used to view all Events, or filtered using attributes (<code>attrs</code>) to view details of a specific Event</p>
<p>To view all Events, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List Events against the Document &#39;My First Document&#39;.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/59e2b78b-d555-49a0-8775-f336b640122e </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Publish</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-2">
<p>Event data can be viewed using curl commands</p>
<p>To view all Events across all Assets, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/-/events
</span></span></code></pre></div><p>To view the details of the Event you just created for My First Document, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
`},{id:12,href:"https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/",title:"Software Package Profile",description:"Sharing and Distributing a Software Bill of Materials with DataTrails",content:`<h2 id="overview">Overview</h2>
<p>The DataTrails Software Package profile is a set of suggested Asset and Event attributes that enable the recording of an immutable and verifiable Software Bill of Materials (SBOM).</p>
<p>The 
<a href="https://www.ntia.gov/sites/default/files/publications/sbom_faq_-_20201116_0.pdf" target="_blank" rel="noopener">NTIA</a> describes a SBOM as &ldquo;<em>a formal record containing the details and supply chain relationships of various components used in building software.</em>&rdquo;</p>
<h2 id="software-package-profile-asset-attributes">Software Package Profile Asset Attributes</h2>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component,(arc_display_name if appropriate)</td>
<td>The name of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the package version</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Software Package Profile Attribute Namespace</p>
<p>The <code>sbom_</code> prefix is used to designate attributes that are part of the profile. Some of these are interpreted by DataTrails and others are guidelines.</p>
</div>
  </blockquote>
<h3 id="public-sbom">Public SBOM</h3>
<p>In the API, you must express <code>public</code> as an asset attribute and have <code>true</code> as a property to make an SBOM public. The default is &lsquo;false&rsquo;.
In the UI this is done by setting <code>Attest Publicly</code> to <code>On</code>.</p>
<ul class="nav nav-tabs" id="create_sbom_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_sbom_public-0" type="button" role="tab" aria-controls="create_sbom_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_sbom_public-1" type="button" role="tab" aria-controls="create_sbom_public-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_sbom_public-2" type="button" role="tab" aria-controls="create_sbom_public-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_sbom_public"><div id="create_sbom_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_sbom_public-0">
<p>Select <code>Assets &amp; Documents</code> from the sidebar and then <code>Add Custom Asset</code>. Fill in the desired details.
Set the <code>Attest Publicly</code> toggle to <code>On</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicCheck" img class="img-fluid responsive" src="/developers/developer-patterns/software-package-profile/PublicCheck.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/software-package-profile/PublicCheck.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Check Asset as Public</em></figcaption>
</figure>
<div class="modal fade" id="PublicCheck" tabindex="-1" aria-labelledby="PublicCheck" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_sbom_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_sbom_public-1">
<p>Create a YAML file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Publicly Attested Asset </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Publicly Attested Asset </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Example</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">some_custom_attribute</span><span class="p">:</span><span class="w"> </span><span class="l">anything you like</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="create_sbom_public-2" class="tab-pane fade" role="tabpanel" aria-labelledby="create_sbom_public-2">
<p>Create a JSON file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Publicly Attested Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<h2 id="software-package-profile-event-types-and-attributes">Software Package Profile Event Types and Attributes</h2>
<h3 id="release-event">Release Event</h3>
<p>A Release is the event used by a Supplier to provide an SBOM for their Software Package in DataTrails.</p>
<p>The Release attributes tracked in DataTrails should minimally represent the base information required by the NTIA standard and be recorded in two, separate, lists of attributes; <strong>Asset Attributes</strong> would track details about the latest release of the SBOM at the time of the event creation, the <strong>Event Attributes</strong> then track details about the release of the SBOM that is being submitted.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-event-attribute-namespace">Release Event Attribute Namespace</h5>
<p>The <code>sbom_</code> prefix is used to designate attributes that are part of the event and asset. Some of these are interpreted by DataTrails and others are guidelines</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release</code></td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component</td>
<td>The name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the release</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_exception</td>
<td>If included value is always <code>true</code></td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_vuln_reference</td>
<td>If this release resolves a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component,(arc_display_name if appropriate)</td>
<td>The name of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the package version</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="exception">Exception</h5>
<p>When used in tandem with Release Plan and Accepted events the exception is a useful record of when an emergency has caused a release to be pushed without needing an initial approval or plan.</p></div>
  </blockquote>
<h3 id="release-plan-and-release-accepted">Release Plan and Release Accepted</h3>
<p>Release events can be optionally enhanced by using ‘Release Plan’ and ‘Release Accepted’ events alongside them.</p>
<p>Release Plan events demonstrate an intent to introduce a new release, it should describe which version you want to release and who wants to release it. For example, it could include draft release notes explaining what is being updated and why it should be updated.</p>
<p>Release Accepted events demonstrate an approval on a Release Plan to go forward, it may be that the plan details a need to introduce a fix for a specific vulnerability and the security team is needed to sign off the release going forward.</p>
<p>These events are not essential to the process so can be omitted in a standard or minimal deployment but they are actively encouraged. As they should not affect the information about the latest Software Package Release there should be no Asset Attributes included, other NTIA attributes may also not be necessary or not available until release (e.g. Component Hash).</p>
<p>The Key Attribute that should be recorded is the version of the release that is being planned and accepted.</p>
<h3 id="release-plan">Release Plan</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-plan-event-attribute-namespace">Release Plan Event Attribute Namespace</h5>
<p>The <code>sbom_planned_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release Plan</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_planned_component</td>
<td>The planned name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_planned_version</td>
<td>The planned version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_reference</td>
<td>A reference number for the plan (such as internal change request number)</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_date</td>
<td>The planned release date</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_captain</td>
<td>The planned Release Captain (a common term for someone who is responsible for performing a Release; someone like an Owner in Agile serves a different purpose but may also be used if appropriate). This is mandatory as it describes who should be responsible for the release</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_planned_author</td>
<td>The planned name of the Package Author</td>
<td>Optional</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_planned_supplier</td>
<td>The planned name of the Package Supplier</td>
<td>Optional</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_planned_hash</td>
<td>The planned hash of the component files/installation (per version)</td>
<td>Optional</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_planned_uuid</td>
<td>The planned unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_license</td>
<td>If there is an intended change to the license this may be needed</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_vuln_reference</td>
<td>If this release intends to resolve a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="release-accepted-event">Release Accepted Event</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-accepted-event-attribute-namespace">Release Accepted Event Attribute Namespace</h5>
<p>The <code>sbom_accepted_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release Accepted</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_accepted_component</td>
<td>The accepted name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_accepted_version</td>
<td>The accepted version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_reference</td>
<td>The reference number of the associated plan</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_date</td>
<td>The accepted release date</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_captain</td>
<td>The accepted Release Captain (a common term for someone who is responsible for performing a Release; someone like an Owner in Agile serves a different purpose but may also be used if appropriate). This is mandatory as it describes who should be responsible for the release</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_approver</td>
<td>Describes who has accepted the plan</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_accepted_author</td>
<td>The accepted name of the Package Author</td>
<td>Optional</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_accepted_supplier</td>
<td>The accepted name of the Package Supplier</td>
<td>Optional</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_accepted_hash</td>
<td>The accepted hash of the component files/installation (per version)</td>
<td>Optional</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_accepted_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_vuln_reference</td>
<td>If this release intends to resolve a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="patch-event">Patch Event</h3>
<p>Patches are often supplied to customer in an Out-Of-Band procedure to address critical bugs or vulnerabilities, usually with a short-term turnaround that can be outside the normal release cadence.</p>
<p>It is typically expected a Patch should contain its own SBOM separate to the Primary SBOM.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="patch-event-attribute-namespace">Patch Event Attribute Namespace</h5>
<p>The <code>sbom_patch_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Patch</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_patch_target_component</td>
<td>The component the Patch targets</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_patch_version</td>
<td>The version string of the Patch</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_patch_author</td>
<td>The name of the Patch Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_patch_supplier</td>
<td>The name of the Patch Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_patch_hash</td>
<td>The hash of the Patch files/installation (per version)</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_patch_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_target_version</td>
<td>The version of the component the patch is targeted/built from</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_repo</td>
<td>Link to the Git Repo/Fork/Branch of the Component (if different to the latest release repo)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_license</td>
<td>The licensing used by the component (if specified and different to the latest release license)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_vuln_reference</td>
<td>If this patch resolves a specific vulnerability you can highlight a shared Vulnerability reference number</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="vulnerability-disclosure-and-update">Vulnerability Disclosure and Update</h3>
<p>These Event types are used for vulnerability management.
The first is to disclose knowledge of a vulnerability and the second is to update the status of the vulnerability after investigation is complete.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="vulnerability-disclosure-event-attribute-namespace">Vulnerability Disclosure Event Attribute Namespace</h5>
<p>The <code>vuln_</code> prefix is used to designate attributes that are part of the event. All of these are interpreted by DataTrails.</p></div>
  </blockquote>
<h4 id="vulnerability-disclosure">Vulnerability Disclosure</h4>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Vulnerability Disclosure</code></td>
</tr>
<tr>
<td>vuln_name</td>
<td>Friendly Name for the Vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_reference</td>
<td>Reference Number (e.g. internal tracking number), useful when there may be multiple updates to a vulnerability during an investigation and for referencing when a particular release is expected to solve a vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_id</td>
<td>Specific ID of Vulnerability (e.g CVE-2018-0171)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_category</td>
<td>Type of Vulnerability (e.g. CVE)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_severity</td>
<td>Severity of Vulnerability (e.g. HIGH)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_status</td>
<td>Whether the Vulnerability actually affects your component or is being investigated (e.g Known_not_affected)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_author</td>
<td>Author of Vulnerability Disclosure</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_component</td>
<td>Affected Component</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_version</td>
<td>Affected Version(s)</td>
<td>Required</td>
</tr>
</tbody>
</table>
<h4 id="vulnerability-update">Vulnerability Update</h4>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Vulnerability Update</code></td>
</tr>
<tr>
<td>vuln_name</td>
<td>Friendly Name for the Vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_reference</td>
<td>Reference Number (e.g. internal tracking number), useful when there may be multiple updates to a vulnerability during an investigation and for referencing when a particular release is expected to solve a vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_id</td>
<td>Specific ID of Vulnerability (e.g CVE-2018-0171)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_category</td>
<td>Type of Vulnerability (e.g. CVE)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_severity</td>
<td>Severity of Vulnerability (e.g. HIGH)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_status</td>
<td>Whether the Vulnerability actually affects your component or is being investigated (e.g Known_not_affected)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_author</td>
<td>Author of Vulnerability Disclosure</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_component</td>
<td>Affected Component</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_version</td>
<td>Affected Version(s)</td>
<td>Required</td>
</tr>
</tbody>
</table>
<h3 id="eol-event">EOL Event</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="eol-event-attribute-namespace">EOL Event Attribute Namespace</h5>
<p>The <code>sbom_eol_</code> prefix is used to designate attributes that are part of the event. All of these are interpreted by DataTrails.</p></div>
  </blockquote>
<p>An event to mark the Package as End of Life.</p>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>EOL</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_eol_target_component</td>
<td>The component the EOL targets</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_eol_target_version</td>
<td>The version string affected by the EOL</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_eol_author</td>
<td>The name of the EOL Author</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_eol_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_eol_target_date</td>
<td>The date on which the EOL will be active</td>
<td>Required</td>
</tr>
</tbody>
</table>
`},{id:13,href:"https://docs.datatrails.ai/platform/overview/instaproof/",title:"Instaproof",description:"A Guide to Instaproof",content:`<p>Instaproof allows anonymous access to the Audit Trail of a file. providing data provenance and authenticity with a simple drag-and-drop.</p>
<p>Instaproof will search amongst the 
<a href="/platform/overview/public-attestation/">Publicly Attested</a> assets that have been registered with the Document Profile and return a list of all assets that have a matching hash value.</p>
<p>The initial version of a document is registered as a document profile asset. New versions of the document are published as events against that asset. See 
<a href="/developers/developer-patterns/document-profile">Document Profile</a> more more information.</p>
<h3 id="using-the-instaproof-ui">Using the Instaproof UI</h3>
<ol>
<li>
<p>Using the sidebar, select <code>Instaproof</code>and then drag a document into the search area


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofStart" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofStart.png" width="1538" height="869" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofStart.png" width="1538" height="869" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Instaproof Search Area</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofStart" tabindex="-1" aria-labelledby="InstaproofStart" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" width="1538" height="869" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p><strong>Document not found</strong><br>
If the document that you are verifying has not been found, you will see a red response banner.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofNotFound" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofNotFound.png" width="1552" height="679" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofNotFound.png" width="1552" height="679" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Not Found</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofNotFound" tabindex="-1" aria-labelledby="InstaproofNotFound" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" width="1552" height="679" alt="Rectangle">
      </div>
  
  </div>
</div>
The possible reasons for this outcome are:</p>
<ul>
<li>The document owner has not registered the document in their DataTrails tenancy</li>
<li>The document owner has not published this version of the document as an event</li>
<li>The document has been modified since it was registered with DataTrails</li>
</ul>
<p><br>In all cases you should contact the document owner to find out whether your document version can be trusted.</p>
</li>
<li>
<p><strong>Document Found</strong>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> In this screenshot we are using the file <code>greenfrog.jpg</code> which can be downloaded from our 
<a href="https://github.com/datatrails/instaproof-samples/tree/main/media" target="_blank" rel="noopener">Instaproof Samples</a> page.</div>
  </blockquote>
If the document has been registered with DataTrails, you will see a green response banner together with a list of all the matching Document Profile Assets. This means that the version of the document that you have has a verifiable provenance record and an immutable audit trail.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofFound" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofFound.png" width="1779" height="678" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofFound.png" width="1779" height="678" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Found</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofFound" tabindex="-1" aria-labelledby="InstaproofFound" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" width="1779" height="678" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<p>At the top of the image you can see the document that was checked and found on Instaproof.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> We don&rsquo;t need to access your document to find its provenance, everything that you see in the Instaproof results is held locally and was recorded by the document owner when the document was registered or events were recorded.</div>
  </blockquote>
<p>You can check additional documents by dragging them on top of this area.</p>
<p>Some of the results may be from verified organizations and others from unverified members of the DataTrails community. All results contribute something to the provenance and life history of this document.</p>
<p>A <strong>Verified Organization</strong> has a 
<a href="/platform/administration/verified-domain/">verified domain</a> associated with their DataTrails account. This helps to confirm the identity of the document source and is likely the thing to look for if you want &lsquo;official&rsquo; provenance records. A Verified Domain can be used to link an identity (such as a company or a brand name) to a DataTrails Tenancy.</p>
<p>The <strong>Other Results</strong> results are those from from unverified DataTrails accounts - other members of the DataTrails community who have made claims or observations about the document you&rsquo;re interested in.</p>
<p>While they may seem less &lsquo;official&rsquo; than verified account results, they may still be useful to you. The identity of all users making attestations in DataTrails is checked, recorded, and immutable, even if they are not (yet) associated with a verified domain name.</p>
<h3 id="what-do-the-instaproof-results-mean">What Do the Instaproof Results Mean?</h3>
<h4 id="immutable-audit-trail">Immutable Audit Trail</h4>
<p>Click on a result to see details of the document history. You will see the Event details of the version that matches your document on the right with a partial view of the Asset details for the latest version on the left. Close the Event details to see the full Asset details view.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofResults" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofResults.png" width="1754" height="983" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofResults.png" width="1754" height="983" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Details Tab</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofResults" tabindex="-1" aria-labelledby="InstaproofResults" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" width="1754" height="983" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Asset details</strong> tab shows the information about the asset attributes.
Includes the current version, the organization, and Verified Domain badge, if applicable.</p>
<p><strong>Public attestation and visibility</strong> - <em>Public</em> means that the document is publicly accessible using the public URL. <em>Permissioned</em> means that it is private and requires shared access to be enabled for a user to be able to view it.</p>
<p><strong>Type</strong> - For Document Profile Assets this will always be &lsquo;Document&rsquo;.</p>
<p><strong>Description</strong> - an optional description of the Asset</p>
<p><strong>Attributes</strong> - This drop down section contains any custom attributes that were added to the asset.</p>
<p><strong>Versions</strong> - the published versions of the document</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The share button allows you to access and copy the permissioned and public (if enabled) links for the asset to share with other users. Private links are for logged in users with permissions assigned in an Access Policy, Public links are for everyone.</div>
  </blockquote>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofShare" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofShare.png" width="640" height="517" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofShare.png" width="640" height="517" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Share Links</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofShare" tabindex="-1" aria-labelledby="InstaproofShare" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" width="640" height="517" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Event History</strong> tab shows the full history of Events including custom Events, new Versions and Withdraw Events.</p>
<p>Click on the tab and select an Event to view the details.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofResultsDetails" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofResultsDetails.png" width="1778" height="755" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofResultsDetails.png" width="1778" height="755" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event History Overview Tab</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofResultsDetails" tabindex="-1" aria-labelledby="InstaproofResultsDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" width="1778" height="755" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Overview</strong> information about the Event</p>
<p><strong>Event Identity</strong> -  The Event ID will always be of the format &lsquo;publicassets/&lt;asset_id&gt;/events/&lt;event_id&gt;&rsquo; for public assets or &lsquo;assets/&lt;asset_id&gt;/events/&lt;event_id&gt;&rsquo; for private assets.</p>
<p><strong>Asset Identity</strong> - the ID of the parent Asset for this Event.</p>
<p><strong>Transaction</strong> - This link contains the details of the Event transaction.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofTransaction" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofTransaction.png" width="1542" height="1841" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" src="/platform/overview/instaproof/InstaproofTransaction.png" width="1542" height="1841" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Transaction Details</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofTransaction" tabindex="-1" aria-labelledby="InstaproofTransaction" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" width="1542" height="1841" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p><strong>Type</strong> - For Document Profile Events this will always be &lsquo;Publish&rsquo;</p>
<p><strong>Document changes</strong> - The version and document hash for new version Events. There is no data here for custom Events.</p>
<p>The <strong>Event attributes</strong> and <strong>Asset attributes</strong> tabs contain information about any custom attributes that were added or modified as part this Event.</p>
`},{id:14,href:"https://docs.datatrails.ai/developers/developer-patterns/veracity/",title:"Independently verifying DataTrails transparent merkle logs",description:"Supporting independent verification of your events",content:`<h2 id="overview">Overview</h2>
<p>Veracity is an open-source command line tool developed by DataTrails. With it, you can explore the
merkle log and prove the inclusion of your event data. By default it connects to the DataTrails
service to obtain a copy of the merkle log. Veracity can also work from copies of the merkle
log on disk.</p>
<p>In this guide we&rsquo;ll explore how you can use Veracity to:</p>
<ol>
<li>Prove the inclusion of events that matter in the DataTrails merkle log with <code>verify-included</code></li>
<li>Explore the DataTrails merkle log using the <code>node</code> command</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Have downloaded and installed 
<a href="https://github.com/datatrails/veracity/releases" target="_blank" rel="noopener">Veracity</a> using the
instructions found 
<a href="https://github.com/datatrails/veracity?tab=readme-ov-file#installation" target="_blank" rel="noopener">here</a></li>
</ul>
<h2 id="verifying-event-data">Verifying Event Data</h2>
<p>DataTrails records the events that matter to your business and lets you prove them at a later date.
This guide will show how to do this for both online and offline data scenarios.</p>
<p>For simplicity we&rsquo;ll walk through an example of proving that a publicly attested event exists on the
merkle log for the public tenant on DataTrails. If you want to try this with your own data, simply
download a copy of your event from the DataTrails API and supply your tenant ID instead of the public
one.</p>
<h4 id="setup">Setup</h4>
<p>Let&rsquo;s set some variables that reference the public tenant in DataTrails and a public event that
we&rsquo;d like to verify the inclusion of.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">EVENT_ID</span><span class="o">=</span>publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl"><span class="nv">DATATRAILS_URL</span><span class="o">=</span>https://app.datatrails.ai
</span></span><span class="line"><span class="cl"><span class="nv">TENANT_ID</span><span class="o">=</span>tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span></code></pre></div><h4 id="loading-the-event">Loading the Event</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -sL <span class="nv">$DATATRAILS_URL</span>/archivist/v2/<span class="nv">$EVENT_ID</span> &gt; event.json
</span></span></code></pre></div><p>If you inspect the contents of <code>event.json</code> you will see something like this (with some fields omitted
for brevity.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/ee52ae46-d4fb-4030-9888-4696ef4b27da&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Business Critical Action&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;quality_system_ref&#34;</span><span class="p">:</span> <span class="s2">&#34;1112345&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;approval_status&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;An important event to your business&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:28:54Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:28:54Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:29:04.130Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;CONFIRMED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;index&#34;</span><span class="p">:</span> <span class="s2">&#34;5772&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;idtimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;01917aeb9103048500&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;mmr_size&#34;</span><span class="p">:</span> <span class="s2">&#34;5774&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;root&#34;</span><span class="p">:</span> <span class="s2">&#34;Z5S0ewjARI26IP04vJOC5pnH2V/M/BETAB4pojIZFkQ=&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;1724344145109&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;idtimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;signed_tree_head&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="prove-event-inclusion">Prove Event Inclusion</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">cat event.json <span class="p">|</span> veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><p>Its that simple. Note that by default Veracity produces no output on success to enable simple build
system integration. By supplying <code>--loglevel=INFO</code> we get some insight into what the tool is doing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">OK<span class="p">|</span><span class="m">5772</span> 2889<span class="p">|</span><span class="o">[</span>c46a47677b043602dba8a9d1db3215207d1e2f4bdbb19bc07592602fa745b3b7, 18b5d6be487dc0b87d14cb7a389a6cf936aab2427dd26c1b230653f692964f06, a68a7678739a2e00431c25bf3d810b4f417830c3a95cfc692e771d6d54e37fa6, 907c561fd157a5a022aa4e42807bfca082c54d98531831847ad5414a1ad2b492, 9dfeaef9e86d6b857170245ec4cfc5d98fea11bba3937e211d134ab548eb743e, 04602adc424529275ce3415d55f31413743b67bf7e7fae03c90b08f1f5422264<span class="o">]</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <h5 id="detecting-tampering">Detecting Tampering</h5>
<p>Adversaries tampering with critical data is a serious risk, but DataTrails makes this straightforward
to detect. Try tampering with <code>event.json</code> and re-running <code>verify-included</code> to observe the failure:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sed <span class="s2">&#34;s/Business Critical Action/Malicious Action/g&#34;</span> event.json <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    ./veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">XX<span class="p">|</span><span class="m">5772</span> <span class="m">2889</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">error: the entry is not in the log. <span class="k">for</span> tenant tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></div></div>
  </blockquote>
<h4 id="offline-verification">Offline Verification</h4>
<p>Veracity can be used to verify the inclusion of an event in an offline backup of a DataTrails
merkle log. We can do this by supplying a <code>--data-local</code> argument instead of <code>--data-url</code>. First,
we&rsquo;ll need to get a copy of the massif.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> DataTrails break the merkle log down into manageable chunks called massifs. Once each massif
is full, a new one is started. The filenames are numbered (e.g. 0000000000000000.log, 0000000000000001.log) to indicate order.</p>
<p>The argument <code>--data-local</code> accepts either a single massif file or a directory containing multiple
massif files. The event we&rsquo;re verifying in this example is contained within the first massif.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log -o mmr.log
</span></span></code></pre></div><p>When we run the <code>verify-included</code> command using our local copy of the massif, it will also verify
successfully with the outputs matching.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">cat event.json <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    ./veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-local mmr.log <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Proof paths shown in the output were complete at time of writing. As the log grows the
proof path increases in length. See 
<a href="/developers/developer-patterns/navigating-merklelogs/">this article</a> for a deep-dive into our merkle log.</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">OK<span class="p">|</span><span class="m">5772</span> 2889<span class="p">|</span><span class="o">[</span>c46a47677b043602dba8a9d1db3215207d1e2f4bdbb19bc07592602fa745b3b7, 18b5d6be487dc0b87d14cb7a389a6cf936aab2427dd26c1b230653f692964f06, a68a7678739a2e00431c25bf3d810b4f417830c3a95cfc692e771d6d54e37fa6, 907c561fd157a5a022aa4e42807bfca082c54d98531831847ad5414a1ad2b492, 9dfeaef9e86d6b857170245ec4cfc5d98fea11bba3937e211d134ab548eb743e, 04602adc424529275ce3415d55f31413743b67bf7e7fae03c90b08f1f5422264<span class="o">]</span>
</span></span></code></pre></div><h2 id="exploring-the-merkle-log">Exploring the Merkle Log</h2>
<p>The <code>node</code> command is a convenience function for retrieving the value of a node in the merkle log
without needing to download the entire massif. Lets use our example event from earlier, which lives
at index 5772 (this works with both <code>--data-local</code> and <code>--data-url</code>.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">veracity --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    node --mmrindex <span class="m">5772</span>
</span></span></code></pre></div><p>The value returned is the hash stored at that node:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">26c7061166187363dd156f4f5f1f517a39323af3c70d572de28c5206de160ec2
</span></span></code></pre></div><p>Leaf nodes in the merkle log contain the hash of the event data (plus some metadata, see 
<a href="/developers/developer-patterns/navigating-merklelogs/#leaf-nodes-created-by-hashing-event-data">this article</a>) while
intermediate nodes hash together the content of their left and right children.</p>
`},{id:15,href:"https://docs.datatrails.ai/platform/overview/public-attestation/",title:"Public Attestation",description:"Public Assets vs Permissioned Assets",content:`<h2 id="transparency-through-public-attestation">Transparency through Public Attestation</h2>
<p>Not everything needs to be kept secret.</p>
<p>Using the example of an image in a news report, the publisher needs everyone to be able to see the image but at the same time the viewers of the image want to know that it is genuine while the owner of the image will want to be credited. There needs to be a way for consumers of data to anonymously verify the data that they are consuming is genuine and also where it came from.</p>
<p>Public attestation allows you to 
<a href="https://www.merriam-webster.com/dictionary/attest" target="_blank" rel="noopener">attest</a> information about data to the general public, without the need for the users of the information to log-in to your DataTrails account by using <code>Public Assets</code>.</p>
<p><code>Permissioned Assets</code> can only be shared through the creation of 
<a href="/platform/administration/sharing-access-outside-your-tenant/">Access Policies</a>. Public Assets, however, may be shared with a <code>Public URL</code> that points to a read-only view of the Asset, similar to the link-based sharing you may have seen in file sharing services such as Google Drive or DropBox.</p>
<p>Any Events recorded against a Public Asset will also be public, and each Event will have a unique Public URL.</p>
<p>This means that following the link to a Public Asset or Public Event will allow read-only access to the Audit Trail, without the need to sign in to DataTrails.</p>
<p>Anyone with the Public URL can access and view the Audit Trail and verify the data but only those with access to the Permissioned URL can make the attestation about the data.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more detailed Asset creation instructions, visit 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a>.</div>
  </blockquote>
<h2 id="creating-a-publicly-attested-asset">Creating a Publicly Attested Asset</h2>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning</strong>: Assets can only be made public at Asset Creation and <strong>cannot be made private afterwards</strong>. The Asset and all its Events will be publicly accessible <strong>forever</strong>.</div>
  </blockquote>
<ol>
<li>
<p>Create an Asset with your desired attributes and set it to public. See 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a> for detailed instructions on this topic.
<ul class="nav nav-tabs" id="create_asset_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_asset_public-0" type="button" role="tab" aria-controls="create_asset_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_asset_public-1" type="button" role="tab" aria-controls="create_asset_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_asset_public"><div id="create_asset_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_asset_public-0">
<p>Select <code>Register Asset</code> from the sidebar and fill in the desired details.<br>
Set the toggle next to <code>Attest Publicly</code> to <code>ON</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#CreateAssetNumbered" img class="img-fluid responsive" src="/platform/overview/public-attestation/CreateAssetNumbered.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/CreateAssetNumbered.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Details</em></figcaption>
</figure>
<div class="modal fade" id="CreateAssetNumbered" tabindex="-1" aria-labelledby="CreateAssetNumbered" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_asset_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_asset_public-1">
<p>Create a JSON file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Publicly Attested Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Publish your Public Asset
<ul class="nav nav-tabs" id="set_public_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#set_public_public-0" type="button" role="tab" aria-controls="set_public_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#set_public_public-1" type="button" role="tab" aria-controls="set_public_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="set_public_public"><div id="set_public_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="set_public_public-0">
<p>Click <code>Register Asset</code> to complete your Public Asset creation.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#CreateAsset" img class="img-fluid responsive" src="/platform/overview/public-attestation/CreateAsset.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/CreateAsset.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Publish Your Asset</em></figcaption>
</figure>
<div class="modal fade" id="CreateAsset" tabindex="-1" aria-labelledby="CreateAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="set_public_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="set_public_public-1">
<p>Use the curl command to run your JSON file. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Retrieve public link to share your Public Asset with others
<blockquote class="note callout">
    <div><strong></strong> <strong>NOTE:</strong> A Public Asset may only be updated by the Tenancy that created it. Anyone viewing the Asset using the public link will have read-only access.</div>
  </blockquote>
<ul class="nav nav-tabs" id="get_link_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#get_link_public-0" type="button" role="tab" aria-controls="get_link_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#get_link_public-1" type="button" role="tab" aria-controls="get_link_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="get_link_public"><div id="get_link_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="get_link_public-0">
<p>Click on the <strong>Share</strong> button next to the right of the Asset Details. This will open a pop-up containing options for copying the public and private links of the Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicAsset" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicAsset.png" width="1205" height="604" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicAsset.png" width="1205" height="604" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Copy the Public Link</em></figcaption>
</figure>
<div class="modal fade" id="PublicAsset" tabindex="-1" aria-labelledby="PublicAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w&quot; width=&quot;1205&quot; height=&quot;604&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="get_link_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="get_link_public-1">
<p>A Public Asset&rsquo;s URL can be retrieved via the 
<a href="/developers/api-reference/assets-api/">Assets API</a>. Use the Asset ID returned in the previous step.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;:publicurl
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>The following screenshot shows the public view of the Asset when the public link is followed.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicView" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicView.png" width="1223" height="768" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicView.png" width="1223" height="768" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Public View</em></figcaption>
</figure>





<div class="modal fade" id="PublicView" tabindex="-1" aria-labelledby="PublicView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" width="1223" height="768" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<h3 id="adding-an-event-to-a-public-asset">Adding an Event to a Public Asset</h3>
<blockquote class="note callout">
    <div><strong></strong> <strong>NOTE:</strong> Any Events added to a Public Asset will also be public. Events may only be added by the tenancy that originally created the Public Asset.</div>
  </blockquote>
<ol>
<li>
<p>Create an Event with your desired attributes. See 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event</a> for detailed instructions
<ul class="nav nav-tabs" id="create_event_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_event_public-0" type="button" role="tab" aria-controls="create_event_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_event_public-1" type="button" role="tab" aria-controls="create_event_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_event_public"><div id="create_event_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_event_public-0">
<p>Select <code>Record Event</code> from the Asset view and fill in the desired details. When finished, click <code>Record Event</code> at the bottom right of the pop-up.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddPublicEvent" img class="img-fluid responsive" src="/platform/overview/public-attestation/AddPublicEvent.png" width="847" height="651" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/AddPublicEvent.png" width="847" height="651" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Details</em></figcaption>
</figure>
<div class="modal fade" id="AddPublicEvent" tabindex="-1" aria-labelledby="AddPublicEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;651&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_event_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_event_public-1">
<p>Create a JSON file with your desired Event details</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Adding new information to public asset.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Update&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Public Update&#34;</span><span class="p">:</span> <span class="s2">&#34;New Information&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Your Event will be readable in the Event History tab when the link to the public view is followed. Click on the Event to see the details.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicViewEvent" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicViewEvent.png" width="1423" height="726" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicViewEvent.png" width="1423" height="726" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Listed in Public View</em></figcaption>
</figure>





<div class="modal fade" id="PublicViewEvent" tabindex="-1" aria-labelledby="PublicViewEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" width="1423" height="726" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>You may also retrieve a public URL to the Event itself, using the 
<a href="/developers/api-reference/assets-api/">Assets API</a>
<ul class="nav nav-tabs" id="get_link_event_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#get_link_event_public-0" type="button" role="tab" aria-controls="get_link_event_public-0" aria-selected="true">JSON</button>
		</li>
	  </ul>
<div class="tab-content" id="get_link_event_public"><div id="get_link_event_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="get_link_event_public-0">
<p>Use the following curl command, which will return the public URL for the Event.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;:publicurl
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
`},{id:16,href:"https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/",title:"Navigating the Merkle Log",description:"Describes the serialization format of the DataTrails verifiable data structure",content:`<p>This article explains how to navigate the Merkle Log, using the DataTrails Merkle Mountain Range implementation.</p>
<p>DataTrails publishes the data necessary for immediately verifying events to highly available commodity cloud storage.
&ldquo;Verifiable data&rdquo; is synonymous with <em>log</em> or <em>transparency log</em>.
Once verifiable data is written to the log it is never changed.
The log only grows, it never shrinks and data in it never moves within the log.</p>
<p>To work with Merkle Log format, DataTrails provides 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">open-source tooling</a> for working in offline environments.</p>
<p>To verify DataTrails logs, you will need:</p>
<ol>
<li>A copy of the section of the log containing your event, (or the url to the
publicly available log data)</li>
<li>A copy of any log <em>seal</em> from <em>any</em> time after your event was included</li>
<li>A copy of any events you wish to verify are included within the log</li>
<li>A Tenant ID to run the samples</li>
</ol>
<p>For reference:</p>
<ul>
<li>DataTrails log implementation: 
<a href="https://github.com/datatrails/go-datatrails-merklelog" target="_blank" rel="noopener">go-datatrails-merklelog</a>.</li>
<li>Examples for verification: 
<a href="https://github.com/datatrails/go-datatrails-demos/" target="_blank" rel="noopener">go-datatrails-demos</a></li>
<li>Log inclusion and introspection: 
<a href="https://github.com/datatrails/veracity/blob/main/README.md" target="_blank" rel="noopener">veracity</a></li>
</ul>
<p>To reproduce these examples from first principals, using only the raw verifiable data structure, an understanding of the log format is provided by this article.</p>
<p>If you already know the basics, and want a straight forward way to deal with the dynamically sized portions of the format, please see 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a></p>
<h2 id="environment-configuration">Environment Configuration</h2>
<p>DataTrails operates customer specific Tenants, and a single public tenant.</p>
<ul>
<li>
<p><strong>Public events</strong> are shared on the DataTrails public tenant.</p>
</li>
<li>
<p><strong>Protected events</strong> are only visible to the tenant owner, but the commitment (hash) in the log is public.</p>
</li>
</ul>
<p>The examples in this article use a DataTrail&rsquo;s Synsation demo tenant&rsquo;s to represent protected events.</p>
<p>To view <em>your</em> protected events, replace <code>TENANT</code> with your <code>Tenant ID</code>.</p>
<p>Within the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">DataTrails app</a>, click the top/right corner, selecting copy Tenancy Identity.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#CopyTenancyIdentity" img class="img-fluid responsive" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity.png" width="432" height="282" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity.png" width="432" height="282" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Copy Tenant ID</em></figcaption>
</figure>





<div class="modal fade" id="CopyTenancyIdentity" tabindex="-1" aria-labelledby="CopyTenancyIdentity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" width="432" height="282" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>Update the variables to fit your environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># DataTrails Public Tenant</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PUBLIC_TENANT</span><span class="o">=</span><span class="s2">&#34;6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Synsation Demo Tenant</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Replace to view your Tenant logs ane events</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TENANT</span><span class="o">=</span><span class="s2">&#34;6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span></code></pre></div><h2 id="each-log-is-comprised-of-many-massif-blobs-each-containing-a-fixed-number-of-leaves">Each Log Is Comprised of Many Massif Blobs, Each Containing a Fixed Number of Leaves</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+-----------+ +-----------+ .. +----------+
</span></span><span class="line"><span class="cl">| massif 0  | | massif 1  |    | massif n
</span></span><span class="line"><span class="cl">+-----------+ +-----------+ .. +----------+
</span></span></code></pre></div><blockquote>
<p>Illustration demonstrating the last massif is always in the process of being <em>appended</em> to</p>
</blockquote>
<p>What is a massif?
In this context, a massif means a 
<a href="https://www.oxfordlearnersdictionaries.com/definition/american_english/massif" target="_blank" rel="noopener">group of mountains that form a large mass</a>.
Massif originates from the verifiable data structure used in the Merkle Mountain Range <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> (MMR) based log.</p>
<p>Merkle Mountain Ranges are attributed to 
<a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-May/012715.html" target="_blank" rel="noopener">Peter Todd</a>, though much parallel invention has occurred.
The &ldquo;post order&rdquo;, write once &amp; append only nature of the tree organization was first discussed in 3.3 of the 
<a href="https://static.usenix.org/event/sec09/tech/full_papers/crosby.pdf" target="_blank" rel="noopener">Crosby, Wallach paper</a>.
They have been independently analyzed in the context of 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">cryptographic asynchronous accumulators</a>, Generalized multi-proofs for 
<a href="https://eprint.iacr.org/2021/038.pdf" target="_blank" rel="noopener">Binary Numeral Trees</a>.
And also by the 
<a href="https://ethresear.ch/t/batching-and-cyclic-partitioning-of-logs/536" target="_blank" rel="noopener">ethereum research community</a>.</p>
<p>Each massif contains the verifiable data for a fixed number, and sequential range, of events.
The number of events is determined by the log configuration parameter <code>massif height</code>.
Within DataTrails, all logs currently have a massif height of <code>14</code>, and the number of event <em>leaf</em> log entries in each massif is 2<sup>height-1</sup>, which is 2<sup>14-1</sup> leaves, which is <code>8192</code> leaves.
<code>14</code> was chosen as it affords a massif storage size of comfortably under 4mb (less than 2 actually), and for many situations it is practical to handle this size as &ldquo;one lump&rdquo;.
See 
<a href="#the-massif-height-is-constant-for-all-blobs-in-a-log-configuration">reconfiguration</a> for more info.</p>
<p>
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> provides a shortcut for picking the right massif.
It can also be fairly easily computed from only the <code>merklelog_entry.commit.index</code> <em>mmrIndex</em> on the event using the 
<a href="/developers/developer-patterns/massif-blob-offset-tables#the-algorithms-backing-the-table-generation">example javascript</a>.</p>
<h2 id="every-massif-blob-is-a-series-of-32-byte-aligned-fields">Every Massif Blob Is a Series of 32 Byte Aligned Fields</h2>
<p>Every massif in a log is structured as a series of <code>32</code> byte fields.
All individual entries in the log are either 32 bytes or a small multiple of <code>32</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  0               32
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  |                | field 0
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  .                .
</span></span><span class="line"><span class="cl">  .                .
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  |                | field n
</span></span><span class="line"><span class="cl">  +----------------+
</span></span></code></pre></div><p>Recalling our configuration (above), the tenants first massif blob can be found at:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-1" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-1"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log -o 0.log
</span></span></code></pre></div></div></div>

<p>Each massif is stored in a numbered file.
The filename (<code>0000000000000000.log</code>) is the 16-character, zero-padded, massif index.</p>
<p>The DataTrails attestation for each massif can be found at a closely associated url.</p>
<p>For the massif above it is:<br>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-2" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-2"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifseals/0000000000000000.sth -o 0.sth
</span></span></code></pre></div></div></div>
</p>
<p>This is a simple reverse proxy to the native azure blob store where your logs are store.
The full 
<a href="https://learn.microsoft.com/en-us/rest/api/azure/" target="_blank" rel="noopener">Azure REST API</a> provides getting specific massif blobs.
For reasons of cost, all operations are subject to rate limits, listing blobs is not possible, though filtering blobs by tags is permitted.
Both the massif blobs and the log seal blobs are always tagged with the most recent idtimestamp for the log.
In the case of the masssif blobs, it is the idtimestamp most recently added to the log. In the case of the seal blob it is the most recent log entry that has been attested by DataTrails. The tag name is <code>lastid</code></p>
<h2 id="re-creating-inclusion-proofs-requires-only-one-massif">Re-Creating Inclusion Proofs Requires Only One Massif</h2>
<p>The variable section of the massif blob is further split into the <em>accumulator</em> for the preceding log state followed by the regular massif nodes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+----------------+----------------+
</span></span><span class="line"><span class="cl">| FIXED          | HEADER DATA    |
</span></span><span class="line"><span class="cl">|                +----------------+  fixed size
</span></span><span class="line"><span class="cl">|        SIZE    | TRIE-DATA      |  pre-filled with zeros, populated as leaves are added
</span></span><span class="line"><span class="cl">+----------------+----------------+
</span></span><span class="line"><span class="cl">| VARIABLE       | PEAK           |  accumulator succinctly committing the entire preceding log state,
</span></span><span class="line"><span class="cl">|                |         STACK  |    which is write once on massif create
</span></span><span class="line"><span class="cl">|   write once   +----------------+
</span></span><span class="line"><span class="cl">|                | MMR            | grows until 2^(height-1) leaves are added
</span></span><span class="line"><span class="cl">.                .   NODES        |
</span></span><span class="line"><span class="cl">.   APPEND ONLY  .                |
</span></span><span class="line"><span class="cl">+----------------+----------------+
</span></span></code></pre></div><p>The accumulator is more precisely a cryptographic, asynchronous, accumulator whose properties are formally defined in this 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">paper</a>.
We refer to it as the peak stack due to how we maintain it and the fact that it is composed exclusively of &ldquo;peak&rdquo; nodes taken from the preceding log.</p>
<p>DataTrails provides convenience look up tables for 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a>, and implementations of the algorithms needed to produce those tables in many languages under an MIT license.</p>
<h2 id="the-first-32-byte-field-in-every-massif-is-the-sequencing-header">The First 32 Byte Field in Every Massif Is the Sequencing Header</h2>
<p>The following curl command reads the version and format information from the header field <code>0</code></p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-3" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-3"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;Range: bytes=0-31&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> od -An -tx1 <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> tr -d <span class="s1">&#39; \\n&#39;</span>
</span></span></code></pre></div><p>generates a version information, similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">00000000000000009148fda07f06640000000000000000000000010e00000000
</span></span></code></pre></div></div></div>

<blockquote class="note callout">
    <div><strong></strong> The request requires no authentication or authorization.</div>
  </blockquote>
<p>The structure of the header field is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">| type| idtimestamp| reserved |  version | epoch  |massif height| massif i |
</span></span><span class="line"><span class="cl">| 0   | 8        15|          |  21 - 22 | 23   26|27         27| 28 -  31 | start and end byte indices, closed range
</span></span><span class="line"><span class="cl">| 1   |     8      |          |      2   |    4   |      1      |     4    | count of bytes
</span></span></code></pre></div><p>The <code>idtimestamp</code> of the last leaf entry added to the log is always set in the header field.</p>
<p>In the hex data above, the <code>idtimestamp</code> of the last entry in the log is <code>9148fcc832066400</code><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>, the version is <code>0</code>, the timestamp epoch is <code>1</code>, the massif height is <code>14</code>, and the massif index is <code>0</code>.</p>
<h3 id="decoding-an-idtimestamp">Decoding an idtimestamp</h3>
<p>The <code>idtimestamp</code> is 40 bits of time at millisecond precision.
The <code>idtimestamp</code> in the header field is always set to the <code>idtimestamp</code> of the most recently added leaf.</p>
<p>The following examples depend on a python environment:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-4" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-4"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">idtimestamp_to_date</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Safely convert an idtimestamp hex string to a regular date time&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># ignore the common &#39;0x&#39; prefix</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;0x&#34;</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;idtimestamp must be 18 or 16 hex chars&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">epoch</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># the epochs are aligned with the unix epoch but are half as long</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">==</span> <span class="mi">18</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">epoch</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">16</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;idtimestamp must be 18 or 16 hex chars&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># To get the time portion we strip the trailing sequence and generator id</span>
</span></span><span class="line"><span class="cl">    <span class="n">unixms</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span>
</span></span><span class="line"><span class="cl">        <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="nb">id</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">hex</span><span class="p">(),</span> <span class="n">base</span><span class="o">=</span><span class="mi">16</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span> <span class="o">+</span> <span class="n">epoch</span><span class="o">*</span><span class="p">((</span><span class="mi">2</span><span class="o">**</span><span class="mi">40</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">unixms</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">idtimestamp_to_date</span><span class="p">(</span><span class="s1">&#39;9148fcc832066400&#39;</span><span class="p">))</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2024-08-13 00:46:51.569000
</span></span></code></pre></div></div></div>

<p>In this example, the last entry in the log (at that time) was <code>2024/08/13</code>, a little before 1am UTC.</p>
<h2 id="the-triedata-entries-are-512-bits-each-and-are-formed-from-two-fields">The trieData entries are 512 bits each and are formed from two fields</h2>
<p>With the trie keys, full data recovery can be verified without needing to remember the order that events were added to the log.</p>
<p>Massifs can be recovered independently even if the data for other massifs is incomplete.</p>
<p>The index also provides for proof of exclusion. Proof that a specific event is not in the index.
As the event identities contribute to both the index keys and the leaf entries,
and as the keys are time ordered on addition, it is possible to audit the specific range.
This will confirm the log is consistent with the index for the time range in which the disputed item is claimed to exist.</p>
<p>The trieData section is 2 * 32 * 2<sup>height</sup> bytes long, which is exactly double what is needed.
For a standard massif height of 14, it has 8,192 entries in the first 524,288 bytes.
The subsequent 524,288 will always be zero.
The format of each entry is then, for a massif height of 14:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">| HEADER DATA    |
</span></span><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">288
</span></span><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">| TRIE-DATA      |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|................| 288 + 524288 = 524576
</span></span><span class="line"><span class="cl">|  always        |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|       zero     |
</span></span><span class="line"><span class="cl">+----------------+ 288 + 524288 * 2 = 1048864
</span></span></code></pre></div><p>Each entry is formatted like this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0                                                        31
</span></span><span class="line"><span class="cl">SHA256(BYTE(0x00) || tenant-identity || event.identity)
</span></span><span class="line"><span class="cl">0                                       BYTES(IDTIMESTAMP)
</span></span><span class="line"><span class="cl">32                                      56               63
</span></span></code></pre></div><p>Described in further detail in the 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/term-cheatsheet.md#trie-entry" target="_blank" rel="noopener">term-cheatsheet</a>
Note that the <code>idtimestamp</code> is unique to the tenant and the DataTrails service.
When sharing events with other tenants, the <code>idtimestamp</code> will not correlate directly with activity in other tenant logs.</p>
<p>When a massif is initialized the trieData is pre-populated for all leaves and set to all zero bytes.
As events are recorded in the log, the zero-padded index is filled in.
A sub-range of field 0 will change when saving the last <code>idtimestamp</code> in it.
The MMR node values are strictly only ever appended to the blob.
Once appended they will never change and they will never move.</p>
<p>Returning to the trieData section, given an event identity of:</p>
<p><code>assets/20d6f57c-bce2-4be9-8e70-95ded25399b7/events/bbd934cb-a20f-44c9-aa5d-a3ce333c5208</code></p>
<p>The trieKey for the synsation tenant&rsquo;s log is:
<code>d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9</code></p>
<p>The following python snippet generates a trieKey from the event data to confirm what should be in the index at a specific position.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-5" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-5"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">PUBLIC_TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PUBLIC_TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">ASSET</span><span class="o">=</span><span class="s1">&#39;20d6f57c-bce2-4be9-8e70-95ded25399b7&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">EVENT</span><span class="o">=</span><span class="s1">&#39;bbd934cb-a20f-44c9-aa5d-a3ce333c5208&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">triekey</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">h</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">triekey</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;tenant/&#34;</span> <span class="o">+</span> <span class="n">TENANT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;assets/&#34;</span> <span class="o">+</span> <span class="n">ASSET</span> <span class="o">+</span> <span class="s2">&#34;/events/&#34;</span> <span class="o">+</span> <span class="n">EVENT</span><span class="p">))</span>
</span></span></code></pre></div><p>generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9
</span></span></code></pre></div></div></div>

<p>The above example is an event on a public asset, so it can be found in the public tenant&rsquo;s merkle log.</p>
<p>Using the python requests object (or curl), fetch the public tenants log,</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-6" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" aria-selected="true">Python</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" aria-selected="false">Bash</button>
		</li></ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-6"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/&#39;</span><span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="n">TENANT</span><span class="o">+</span><span class="s1">&#39;/0/massifs/0000000000000000.log&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;x-ms-blob-type&#34;</span><span class="p">:</span> <span class="s2">&#34;BlockBlob&#34;</span><span class="p">,</span> <span class="s2">&#34;x-ms-version&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-12-12&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;mmr.log&#34;</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span></span></code></pre></div></div>
  <div id="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" class="tab-pane fade" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log -o mmr.log
</span></span></code></pre></div></div></div>

<p>Using python, we can more readily illustrate the 32 byte aligned format.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-7" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-7"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">binascii</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="n">SYNSATION_TENANT</span> <span class="o">=</span> <span class="s2">&#34;6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;TENANT&#39;</span><span class="p">,</span> <span class="n">SYNSATION_TENANT</span><span class="p">)</span> <span class="c1"># default to synsation if not in env </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">readfields</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="s2">&#34;0000000000000000&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/&#39;</span><span class="o">+</span><span class="n">tenant</span><span class="o">+</span><span class="s1">&#39;/0/massifs/&#39;</span><span class="o">+</span><span class="n">log</span><span class="o">+</span><span class="s1">&#39;.log&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">hex</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">hex</span><span class="p">)</span> <span class="o">/</span> <span class="mi">64</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="nb">hex</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">64</span><span class="p">:(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">64</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">log</span> <span class="o">=</span> <span class="s2">&#34;0000000000000000&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">readfields</span><span class="p">(</span><span class="n">TENANT</span><span class="p">,</span> <span class="n">log</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</span></span></code></pre></div><p>The first few fields will look like</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">00000000000000009148fda07f06640000000000000000000000010e00000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fcc832066400
</span></span><span class="line"><span class="cl">f67192c6a4fe6a3454000225647deb37e7c488461b1d52f8d1dc58222d49d4db
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fccedb045d00
</span></span><span class="line"><span class="cl">1057b8d9caaf1f09e46e04a4e36295276fa8f2ef676144f4b90fc47e335ea51e
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fd0d47066400
</span></span><span class="line"><span class="cl">7fe0c5553a639bbeb5e0c26e24c94722f126fa258560097c531e9eb12e12dc88
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fd52e7066400
</span></span><span class="line"><span class="cl">0e561df1aa165967ffe12b0d84491e29349d0022f840d9dcb5bb3fe62551ef5c
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fda07f066400
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span></code></pre></div></div></div>

<p>Note the trieKey we derived earlier is easily spotted at row 9, and its
<code>idtimestamp</code>, <code>9148fcc832066400</code>, is in the subsequent field</p>
<p>All public events are automatically shared to the public tenant. This makes the
event data visible without access control. The example event we created in the
Synsation tenant is a public event. We can obtain its corresponding entry in the
log by deriving its trieKey, and recalling our implementation for <code>triekey</code> above</p>
<p>Obtain the trie key for the public tenant event:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-8" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-8"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">PUBLIC_TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PUBLIC_TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">ASSET</span><span class="o">=</span><span class="s1">&#39;20d6f57c-bce2-4be9-8e70-95ded25399b7&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">EVENT</span><span class="o">=</span><span class="s1">&#39;bbd934cb-a20f-44c9-aa5d-a3ce333c5208&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">triekey</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">h</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">triekey</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;tenant/&#34;</span> <span class="o">+</span> <span class="n">PUBLIC_TENANT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;assets/&#34;</span> <span class="o">+</span> <span class="n">ASSET</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;/events/&#34;</span> <span class="o">+</span> <span class="n">EVENT</span><span class="p">))</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">c31114a64b9dca1376d7af999d35b4fa05a75965cb49d2b58386e19b8bbc73a9
</span></span></code></pre></div></div></div>

<p>If you similarly run <code>getlog</code> (from the example above) on the public tenant, the public trieKey is found
at line 2390.  As this log commits events shared from many tenants, the MMRIndex
of the publicly committed event is different (and quite a lot higher)</p>
<p>The full details of the publicly available event can be found 
<a href="https://app.datatrails.ai/merklelogentry/20d6f57c-bce2-4be9-8e70-95ded25399b7/bbd934cb-a20f-44c9-aa5d-a3ce333c5208?public=true" target="_blank" rel="noopener">here</a></p>
<p>Noting that the <code>public</code> routing prefix is not prepended on the event identity.</p>
<p>This works the same for regular OBAC shares, a shared event is committed both to
the originating tenants log and to the recipient tenants log.</p>
<p>It is not possible to directly correlate activity between different tenants logs unless you know both the tenant identity and the event identity.
For permissioned events, this will only be available if the executing identity is included in the sharing policy.
The <code>idtimestamp</code> is different for each log, guaranteed unique within the context of a single log, and, assuming only good operation of our cloud providers clocks, guaranteed unique system wide.</p>
<p>It is important to remember that timing analysis is possible regardless of whether we have trie keys or not.</p>
<h2 id="the-peak-stack-and-mmr-data-sizes-are-computable">The Peak Stack and MMR Data Sizes Are Computable</h2>
<p>See 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> to avoid needing to calculate these.
Implementations of the O(log base 2 n) algorithms are provided in various languages.
They all have very hardware-sympathetic implementations.</p>
<h2 id="the-massif-height-is-constant-for-all-blobs-in-a-log-configuration">The Massif Height Is Constant for All Blobs in a Log Configuration</h2>
<p>For a massif height of <code>14</code>, the fixed size portion is <code>1048864</code> bytes.</p>
<p>A typical url for a massif storage blob looks like:<br>
<code>https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log</code></p>
<p>In the above, the <em>log configuration</em> identifier is the <code>/0/</code> between the tenant uuid and the <code>massifs/0000000000000000.log</code></p>
<p>The massif height is recorded at the start record of every massif, and guarantees that all massifs in a single configuration path have the same <strong>massif height</strong>.</p>
<p>Currently all DataTrails tenants use the same configuration.
In the future, DataTrails may change the height for massifs.
In a log reconfiguration activity, DataTrails would first publish the tail of the log to the new path. For example: (<code>/1/massifs/0000000000000123.log</code>).
The log would be immediately available for continued growth.
The historic configuration continues to be available under the <code>/0/</code> path.
Depending on data retention and migration policies for your tenant, the historic configuration can verifiably be migrated to the new path without interrupting service or availability.</p>
<p>This is achieved without impacting the verifiability of the contained data and without invalidating your previously cached copies taken from the earlier massif size configuration.
If reconfigured, a log configuration description will also be published along side the massifs and seals.</p>
<p>Simple binary file compare operations can show that the verifiable data for the new configuration is the same as in the original should you wish to assure yourself of this fact.</p>
<p>The previous configuration path will no longer receive any additions.</p>
<blockquote class="note callout">
    <div><strong></strong> For the forseeable future (at least months) DataTrails does not anticipate needing to reconfigure the massif height.</div>
  </blockquote>
<h2 id="reading-a-specific-mmr-node-by-mmrindex">Reading a Specific MMR Node by mmrindex</h2>
<p>The variable portion <em>for the first massif</em> contains exactly <em>16383</em> MMR <em>nodes</em>.
Of those nodes, <em>8192</em> are the leaf entries in the Merkle tree corresponding to your events.</p>
<p>Given a byte offset in the blob for the start of the MMR data, a query can check for the number of MMR nodes currently in it by doing <code>(blobSize - mmrDataStart)/32</code>.</p>
<p>To read a specific MMR node, find the smallest <code>Last Node</code> in 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> that is greater than your <em>mmrIndex</em> and use that row as your massif index.</p>
<p>Taking the massif index of 0 (row 0) use the first mmrIndex:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-9" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" aria-selected="true">Bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-9"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">LOGSTART</span><span class="o">=</span><span class="m">1048864</span>
</span></span><span class="line"><span class="cl"><span class="nv">MMRINDEX</span><span class="o">=</span><span class="m">2376</span>
</span></span><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;Range: bytes=</span><span class="k">$((</span><span class="nv">$LOGSTART</span><span class="o">+</span><span class="nv">$MMRINDEX</span><span class="o">*</span><span class="m">32</span><span class="k">))</span><span class="s2">-</span><span class="k">$((</span><span class="nv">$LOGSTART</span><span class="o">+</span><span class="nv">$MMRINDEX</span><span class="o">*</span><span class="m">32</span><span class="o">+</span><span class="m">31</span><span class="k">))</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$PUBLIC_TENANT</span>/0/massifs/0000000000000000.log  <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> od -An -tx1 <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> tr -d <span class="s1">&#39; \\n&#39;</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">3cab877bc730f7e3d652e74b5b9e9a3fad605001c29ebe481764d184c7773f95
</span></span></code></pre></div></div></div>

<p>You can confirm this on the merklelog 
<a href="https://app.datatrails.ai/merklelogentry/20d6f57c-bce2-4be9-8e70-95ded25399b7/861dd529-3616-4ad2-b2a9-702da77b8588?public=true" target="_blank" rel="noopener">page</a> in the public tenant for this event. Look for the &ldquo;Merkle Leaf&rdquo; field.</p>
<p>Optionally use 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">veracity</a> to confirm:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-10" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-10"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--data-url <span class="s2">&#34;https://app.datatrails.ai/verifiabledata&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-t tenant/<span class="nv">$PUBLIC_TENANT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>node -i <span class="m">2376</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">3cab877bc730f7e3d652e74b5b9e9a3fad605001c29ebe481764d184c7773f95
</span></span></code></pre></div></div></div>

<p>The example javascript in 
<a href="/developers/developer-patterns/massif-blob-offset-tables#the-algorithms-backing-the-table-generation">Massif Blob Pre-Calculated Offsets</a> can be used to accomplish this computationally.</p>
<h2 id="leaf-nodes-created-by-hashing-event-data">Leaf Nodes Created by Hashing Event Data</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0                                                        31
</span></span><span class="line"><span class="cl">SHA256(BYTE(0x00) || BYTES(IDTIMESTAMP) || V3-SCHEMA(event))
</span></span></code></pre></div><p>The V3 Schema defines how the content on your event is consistently converted to bytes prior to hashing.
This works by passing the fields specified in the schema through the 
<a href="https://en.wikipedia.org/wiki/Bencode" target="_blank" rel="noopener">bencode</a> encoding system.</p>
<p>See our knowledge base 
<a href="https://support.datatrails.ai/hc/en-gb/articles/18120936244370-How-to-independently-verify-Merkle-Log-Events-recorded-on-the-DataTrails-transparency-ledger#h_01HTYDD6ZH0FV2K95D61RQ61ZJ" target="_blank" rel="noopener">article</a> for an example in javascript and the definition of the V3 fields.</p>
<p>Note that this includes the <code>event_identity</code> and <code>tenant_identity</code> which are also included in the trieKey hash.</p>
<p>The remaining item is conditioning the <code>IDTIMESTAMP</code> for hashing.
If you have the event record from the Events API, the idtimestamp is found at <code>merklelog_entry.commit.idtimestamp</code>.
It is a hex string and prefixed with <code>01</code> which is the epoch from the header.</p>
<p>To condition the string value, strip the leading <code>01</code> and convert the remaining hex to binary.
Then substitute those bytes, in presentation order, for idTimestamp above.</p>
<p>The bytes for the hash are just <code>bytes.fromhex(&quot;019148fccdbf066400&quot;[2:])</code></p>
<p>You can use the earlier python example to convert this format to a regular date time.</p>
<h2 id="which-nodes">Which Nodes</h2>
<p>Typically, verifiers would verify the inclusion of an event in the log.
The inclusion is verified by selecting the sibling path needed to recreate the root hash starting from your leaf hash.
Create the leaf hash using the original pre-image data of your event and the <em>commit</em> values assigned to it when it was included in the log.</p>
<p>For example:</p>
<ul>
<li>The V3 canonical set of fields from your event (as described in our knowledge base 
<a href="https://support.datatrails.ai/hc/en-gb/articles/18120936244370-How-to-independently-verify-Merkle-Log-Events-recorded-on-the-DataTrails-transparency-ledger#h_01HTYDD6ZH0FV2K95D61RQ61ZJ" target="_blank" rel="noopener">article</a>)</li>
<li>The <code>merklelog_entry.commit.index</code> (the mmrIndex of the event in the log)</li>
<li>The <code>merklelog_entry.commit.idtimestamp</code> uniquely placing the record of the log in time (according to our cloud service provider)</li>
</ul>
<p>Determining the sibling path will be a future article.
First, set the scene by covering how the logical tree nodes map to storage.</p>
<p>What is a sibling path?
To understand this we need to dig into how DataTrails organizes the nodes in the Merkle log in storage and memory.</p>
<h2 id="tree-layout-in-storage">Tree Layout in Storage</h2>
<p>Merkle trees <em>prove</em> things by providing paths of hashes that lead to a single <em>common root</em> for all nodes in the tree.
For an MMR, a single root can be produced by &ldquo;bagging the peaks&rdquo;.
But the list of peaks, from which that single root is produced, is itself precisely determined by the size of the MMR.
Having the peak list is equivalent to having a single root.
And having a path that leads to a peak is equivalent to having a path to a single root
The peak list is an accumulator state and a path to an accumulator is actually more useful.</p>
<p>The formal details, and a very nice visualization of how the peaks combine, is available in this paper on 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">cryptographic, asynchronous, accumulators</a> (see Fig 4, page 12)</p>
<p>The peaks are exactly the accumulator described there.</p>
<p>All entries in a Merkle log each have a unique and <em>short</em> path of hashes<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>: , which when hashed together according to the data structures rules, will re-create the same root.
If such a path does not exist, by definition the leaf is not included - it is not in the log.</p>
<p>Where do those paths come from?
They come from adjacent and ancestor nodes in the hierarchical tree.
This means that when producing the path we need to access nodes throughout the tree to produce the proof.</p>
<p>Using the &ldquo;canonical&rdquo; MMR log for illustration, we get this diagram.
The vertical axis is labeled by height index, which is just height - 1.
The connecting diagonal dashes above the &ldquo;tree line&rdquo; indicate nodes that belong to one massif but depend on peaks accumulated from earlier massifs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">                          
</span></span><span class="line"><span class="cl">                       14 
</span></span><span class="line"><span class="cl">                          \\        affectionately called the alpine zone
</span></span><span class="line"><span class="cl">                6           13             21   
</span></span><span class="line"><span class="cl">                  \\            \\              \\
</span></span><span class="line"><span class="cl">    h=2 1 |  2  |  5  |   9  |  12   |  17   | 20  | -- massif &#39;tree line&#39;
</span></span><span class="line"><span class="cl">          |     |     |      |       |       |     |
</span></span><span class="line"><span class="cl">        0 |0   1| 3  4| 7   8|10   11|15   16|18 19|
</span></span></code></pre></div><p>The sibling <em>proof</em> path for the leaf with <code>mmrIndex</code> <code>7</code> would be [<code>8</code>, <code>12</code>, <code>6</code>], and the &ldquo;peak bagging&rdquo; algorithm may then be applied to get the root if that was desired.
An inclusion proof against an accumulator entry both equivalent and also more durable, as it is permanently consistent with all future accumulator states.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">H(7 || 8) = 9
</span></span><span class="line"><span class="cl">H(9 || 12) = 13
</span></span><span class="line"><span class="cl">H(6 || 13) = 14
</span></span></code></pre></div><p>14 is a peak in the MMR. The precise set of peaks are determined exclusively from the current mmr size which is 23 in this case. Showing a leaf has a path to a peak for the MMR is sufficient to prove its inclusion in the MMR.</p>
<h2 id="visualizing-the-look-back-peak-stack">Visualizing the “Look Back” Peak Stack</h2>
<p>A specific challenge for log implementations with very large data sets is answering &ldquo;how far back&rdquo; or &ldquo;how far forward&rdquo; may be seen?</p>
<p>MMRs differ from classic binary Merkle trees in how, or even <em>if</em>, the incomplete sub-trees are combined into a common root.
For an MMR, the common root is defined by an algorithm for combining the adjacent, incomplete sub-trees.
Rather than by the more traditional, temporary, assignment of un-balanced siblings.
Such un-balanced siblings would later have to be re-assigned (balanced) when there were sufficient leaves to merge the sub-trees.</p>
<p>While a single root can be produced for an MMR, due to the properties of the accumulator construction, there is much less value in doing so.
Typically, verification use cases are better served by paths to an accumulator.</p>
<p>The linear and write once nature of this storage organization is what permits DataTrails to publish the log data immediately after events are added.</p>
<p>The specific properties of Merkle Mountain Ranges lead to an efficiently computable and stable answer to the question of <em>&ldquo;Which other nodes do I need&rdquo;</em>.
Such that we <em>know</em> categorically it is not needed to look <em>forward</em> of the current massif and it is precisely known which nodes are needed from the previous massifs.</p>
<p>The &ldquo;free nodes&rdquo; in the alpine zone always require &ldquo;ancestors&rdquo; from previous nodes when producing inclusion proofs that pass through them, and when adding new nodes to the end of the log.
But those ancestors are precisely the peaks forming the accumulator that attests to the log state and provide efficient, permanently useful, proofs of inclusion and consistency.</p>
<p>The progression of the peak stack (accumulator) can be visualized like this. In this diagram we gather the dependent nodes into the massifs they belong too and carry forward the peak stack (accumulator) that fully authenticates the entire state of the MMR preceding the massif.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">      |[]   |[2]  |[6]   |[6,9]  |[14]   |[14,17]| peak stack
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">      |     |6    |      |13, 14 |       |21     | spurs
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">h=2 1 |  2  |  5  |   9  |  12   |  17   |  20   | &lt;-- massif height &#39;tree line&#39;
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">    0 |0   1 3   4| 7   8|10   11|15   16|18   19|
</span></span></code></pre></div><p><em>Note: height is 1 based, height indices are 0 based. So at h=2 we have height index 1.</em></p>
<p>The log configuration parameter massif height is the &ldquo;tree line&rdquo;.
The first leaf addition that causes &ldquo;break out&rdquo; is the last leaf of that particular massif.
The &ldquo;break out nodes&rdquo; for the last leaf are stored in the same massif as the leaf.
While the leaf count for each massif is fixed, the number of nodes is variable.
The variance is deterministic given only the MMR size.</p>
<p>The look-back nodes are called the <em>peak stack</em> because the operations we use to maintain it are stack like.
Entries don&rsquo;t pop off, ever.
Entries just happen to reference it in reverse order of addition when adding new leaves.</p>
<p>The stability of the MMR data comes from the fact that the sub trees are not merged until a right sibling tree of equal height has been produced.
Merging is accomplished by <em>appending</em> the new parent immediately after the right sibling.
This means when merged, the sub trees do not change in content or organization, nodes are simply appended to commit them to the log.
This results in the &ldquo;write-once&rdquo; and &ldquo;append only&rdquo; properties discussed in the 
<a href="https://static.usenix.org/event/sec09/tech/full_papers/crosby.pdf" target="_blank" rel="noopener">crosby-wallach</a> 3.3 &ldquo;Storing the log on secondary storage&rdquo;</p>
<h2 id="how-the-tree-spans-the-massifs">How the Tree Spans the Massifs</h2>
<p>A worked example for a Merkle log whose height configuration parameter is set to 2.</p>
<h3 id="massif-0">Massif 0</h3>
<p>The peak stack size is established for a massif when it is created in its empty state. The size is efficiently calculable from the MMR Index at the start of the new massif. For the first massif the stack will be empty.</p>
<p>When viewed horizontally, we start by denoting the empty stack like this.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">++
</span></span><span class="line"><span class="cl">||
</span></span><span class="line"><span class="cl">++
</span></span></code></pre></div><p>Then, the leaves for the complete MMR of size 3 from our canonical example are added after the peak stack.</p>
<p>This gives us the final form for massif 0 as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">++---+---+---+
</span></span><span class="line"><span class="cl">|| 0 | 1 | 2 |
</span></span><span class="line"><span class="cl">++---+-------+
</span></span></code></pre></div><p>The massif has exactly 3 nodes</p>
<p>The peak stack is empty, and the global tree looks like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  1    2  | --- massif tree line massif height index = 1
</span></span><span class="line"><span class="cl">      / \\ |
</span></span><span class="line"><span class="cl">     0   1| MMR INDICES
</span></span><span class="line"><span class="cl">     -----|
</span></span><span class="line"><span class="cl">       0  | MASSIF
</span></span></code></pre></div><h3 id="massif-1">Massif 1</h3>
<p>Once massif 1 has been constructed, the global tree would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2       6       --- max height index = 2
</span></span><span class="line"><span class="cl">         \\
</span></span><span class="line"><span class="cl">1    2  | 5   | --- massif tree line massif height index = 1
</span></span><span class="line"><span class="cl">    / \\ |/  \\ |
</span></span><span class="line"><span class="cl">   0   1|3   4| MMR INDICES
</span></span><span class="line"><span class="cl">   -----|-----|
</span></span><span class="line"><span class="cl">     0  |  1  | MASSIF
</span></span></code></pre></div><p>The layout of massif 1 in storage is</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++---+---+---+---+
</span></span><span class="line"><span class="cl">| 2 || 3 | 4 | 5 | 6 |
</span></span><span class="line"><span class="cl">+---++---+-------+---+
</span></span></code></pre></div><p>For massif <code>1</code>, the peak stack is <code>[2]</code>.
When node <code>4</code> was added, the &ldquo;back fill nodes&rdquo; were added to &ldquo;complete the tree&rdquo; and were also stored in massif <code>1</code>.
The &ldquo;break out&rdquo; nodes visually overhang the previous massif, but are stored in massif <code>1</code>.</p>
<p>This layout is also known as a &ldquo;post order&rdquo; traversal of a binary tree.</p>
<p>Note that the addition of node <code>6</code>, while backfilling for <code>4</code>, requires node <code>2</code> from the previous massif <code>0</code>.
This is why it is carried forward in the peak stack.</p>
<p>We can also see that is the <em>only</em> node that is required from massif <code>0</code> for <em>any</em> verification path in massif <code>1</code>.</p>
<p>As the log grows, the accumulator (peak stack) moves on.
However, historic verification paths can always be proven to exist in all future accumulators.
Given a pair of signed accumulators that are inconsistent, the broken log is evident.</p>
<p>The key point here is that, in massif <code>1</code>, when computing a verification path for nodes <code>3</code> or <code>4</code>, the only node that is required from massif <code>0</code> is available locally in the peak stack (in massif <code>1</code>).</p>
<p>This means that should you lose interest in the leaf entries from massif <code>0</code>, the whole massif can be deleted without fear that it will impact the verifiability of subsequent items in the log.</p>
<p>If you retain the seal from massif <code>0</code>, or if you can count on it being available from another trusted source, you only strictly need to retain leaves of interest and their verification paths.</p>
<h3 id="massif-2">Massif 2</h3>
<p>The global tree at the end of massif <code>2</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2       6
</span></span><span class="line"><span class="cl">          \\
</span></span><span class="line"><span class="cl">1    2  |  5  |  9  |
</span></span><span class="line"><span class="cl">    / \\ |/  \\ | / \\ |
</span></span><span class="line"><span class="cl">   0   1|3   4|7   8|
</span></span><span class="line"><span class="cl">   -----|-----|-----|
</span></span><span class="line"><span class="cl">     0  |  1  |  2  | MASSIF
</span></span></code></pre></div><p>The layout for massif <code>2</code>, showing the peak stack is <code>[6]</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++---+---+---+
</span></span><span class="line"><span class="cl">| 6 || 7 | 8 | 9 |
</span></span><span class="line"><span class="cl">+---++---+-------+
</span></span></code></pre></div><p>Note that <code>6</code> has replaced <code>2</code>.
The <code>2</code> is not required for any verification path for elements added in massif <code>2</code> or beyond.</p>
<h3 id="massif-3">massif 3</h3>
<p>The global tree at the end of massif <code>3</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  3              14
</span></span><span class="line"><span class="cl">                   \\
</span></span><span class="line"><span class="cl">                    \\
</span></span><span class="line"><span class="cl">                     \\
</span></span><span class="line"><span class="cl">  2        6         13
</span></span><span class="line"><span class="cl">            \\          \\
</span></span><span class="line"><span class="cl">  1    2  |  5  |  9  | 12  |
</span></span><span class="line"><span class="cl">      / \\ |/  \\ | / \\ | / \\ |
</span></span><span class="line"><span class="cl">     0   1|3   4|7   8|10 11|
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|
</span></span><span class="line"><span class="cl">     | 0  |  1  |  2  |  3  |
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|
</span></span></code></pre></div><p>The peak stack is <code>[6, 9]</code>. Because both nodes <code>6</code> and <code>9</code> were needed to complete
the MMR that includes leaf node <code>11</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---+---++----+----+----+----+----+
</span></span><span class="line"><span class="cl">| 6 | 9 || 10 | 11 | 12 | 13 | 14 |
</span></span><span class="line"><span class="cl">+---+---++----+----+----+----+----+
</span></span></code></pre></div><h3 id="massif-4">Massif 4</h3>
<p>The global tree at the end of massif <code>4</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  3              14
</span></span><span class="line"><span class="cl">                   \\
</span></span><span class="line"><span class="cl">                    \\
</span></span><span class="line"><span class="cl">                     \\
</span></span><span class="line"><span class="cl">  2        6         13
</span></span><span class="line"><span class="cl">            \\          \\
</span></span><span class="line"><span class="cl">  1    2  |  5  |  9  | 12  |  17  |
</span></span><span class="line"><span class="cl">      / \\ |/  \\ | / \\ | / \\ | /  \\ |
</span></span><span class="line"><span class="cl">     0   1|3   4|7   8|10 11|15  16|
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|------|
</span></span><span class="line"><span class="cl">     | 0  |  1  |  2  |  3  |   4  |
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|------|
</span></span></code></pre></div><p>Note that this case is particularly interesting because it completes a full cycle from one perfect power-sized tree to the next.
A fact of the MMR construction is the look back is never further than the most recent &lsquo;perfect&rsquo; tree completing massif.</p>
<p>So the peak stack is <code>[14]</code>, discarding <code>6</code> and <code>9</code>, and the massif <code>4</code> layout is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++----+----+----+
</span></span><span class="line"><span class="cl">| 14|| 15 | 16 | 17 |
</span></span><span class="line"><span class="cl">+---++----+----+----+
</span></span></code></pre></div><h2 id="takeaways">Takeaways</h2>
<ul>
<li>Merkle logs are divided into massifs, each of which stores verification data for a fixed number of your events.</li>
<li>Once verification data is written to the log, it never changes.</li>
<li>The &ldquo;look back&rdquo; nodes needed to make each massif self contained are deterministic and are filled in when a new massif is started.</li>
<li>The dynamically sized portions of the format are all computable, but we offer pre-calculated tables for convenience.</li>
<li>
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">Open-source tooling</a> exists in multiple languages for navigating the format.</li>
<li>Given a signed &ldquo;root&rdquo;, all entries in any copies of your log are irrefutably attested by DataTrails.</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Merkle Mountain Ranges have seen extensive use in systems that need long term tamper evident storage, notably 
<a href="https://zips.z.cash/zip-0221" target="_blank" rel="noopener">zcash</a>, 
<a href="https://github.com/mimblewimble/grin/blob/master/doc/mmr.md" target="_blank" rel="noopener">mimblewimble</a>, and 
<a href="https://zips.z.cash/zip-0221#additional-reading" target="_blank" rel="noopener">many others</a>.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>The <code>idtimestamp</code> value is 64 bits, of which the first 40 bits are a millisecond precision time value and the remainder is data used to guarantee uniqueness of the timestamp.
DataTrails uses a variant of the 
<a href="https://en.wikipedia.org/wiki/Snowflake_ID" target="_blank" rel="noopener">Snowflake ID</a> scheme.
The DataTrails implementation can be found at 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/massifs/snowflakeid/nextid.go#L118" target="_blank" rel="noopener">nextid.go</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Such a path of hashes is commonly referred to as a &ldquo;proof&rdquo;, a &ldquo;witness&rdquo;, and an &ldquo;authentication path&rdquo;.
A Merkle Tree is sometimes referred to as authenticated data structures or a verifiable data structure. For the purposes of this article, there is no meaningful difference. They are all the same thing. We stick to &ldquo;verification&rdquo; and &ldquo;verifiable data structure&rdquo; in this article.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
`},{id:17,href:"https://docs.datatrails.ai/platform/administration/identity-and-access-management/",title:"Identity and Access Management",description:"DataTrails IAM Concepts",content:`<h2 id="tenancies-and-accounts">Tenancies and Accounts</h2>
<p>Each DataTrails Tenancy represents an organization, and each DataTrails account represents an individual user.
There may be multiple accounts within a Tenancy if there are several members within an organization.
Additionally, an individual user can be part of multiple Tenancies.</p>
<h3 id="how-do-i-add-users-to-my-organization">How do I add users to my organization?</h3>
<p>DataTrails Invites make it easy to add users to your tenancy.</p>
<p>As an 
<a href="/platform/overview/core-concepts/#tenancies">administrator</a>, create an invite and send it to the email address of the user you wish to add.</p>
<p>When the invitee signs up for their DataTrails account using the invited email address, they will be automatically added to your Tenancy.</p>
<ul class="nav nav-tabs" id="invite_user_iam" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#invite_user_iam-0" type="button" role="tab" aria-controls="invite_user_iam-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#invite_user_iam-1" type="button" role="tab" aria-controls="invite_user_iam-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#invite_user_iam-2" type="button" role="tab" aria-controls="invite_user_iam-2" aria-selected="false">CURL</button>
		</li></ul>
<div class="tab-content" id="invite_user_iam"><div id="invite_user_iam-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="invite_user_iam-0">
<p>On the Sidebar, select <code>Settings</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#Settings" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Select 'Settings'</em></figcaption>
</figure>
<div class="modal fade" id="Settings" tabindex="-1" aria-labelledby="Settings" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w&quot; width=&quot;1154&quot; height=&quot;671&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Choose the <code>USERS</code> tab, then click <code>INVITE NEW USER</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#InviteButton" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/InviteButton.png" width="1222" height="486" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/InviteButton.png" width="1222" height="486" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Invite New User</em></figcaption>
</figure>
<div class="modal fade" id="InviteButton" tabindex="-1" aria-labelledby="InviteButton" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w&quot; width=&quot;1222&quot; height=&quot;486&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Fill in the desired email and custom message. To finish, select <code>SEND INVITE</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#InviteForm" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/InviteForm.png" width="491" height="411" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/InviteForm.png" width="491" height="411" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Enter Desired Details</em></figcaption>
</figure>
<div class="modal fade" id="InviteForm" tabindex="-1" aria-labelledby="InviteForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w&quot; width=&quot;491&quot; height=&quot;411&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="invite_user_iam-1" class="tab-pane fade" role="tabpanel" aria-labelledby="invite_user_iam-1">
This action is not yet available in the YAML Runner. Check out our UI or curl command options!</div>
  <div id="invite_user_iam-2" class="tab-pane fade" role="tabpanel" aria-labelledby="invite_user_iam-2">
<p>Fill in your desired details and run the command to send the invite.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s1">&#39;{&#34;message&#34;: &#34;Join my DataTrails tenancy!&#34;, &#34;email&#34;: &#34;user@datatrails.ai&#34;}&#39;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/invites&#34;</span>
</span></span></code></pre></div><p>See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
</div></div>

<h3 id="can-i-name-my-tenancy">Can I name my tenancy?</h3>
<h4 id="tenant-display-name">Tenant Display Name</h4>
<p>There are two ways to name your DataTrails Tenancy. The first way is to add a <code>Tenant Display Name</code>. This name will be displayed only within your own Tenancy, and will not be visible to outside organizations. The display name makes it easy to identify which Tenancy you&rsquo;re currently working in and to switch between Tenancies if you are part of multiple Tenancies.</p>
<p>To set your <code>Tenant Display Name</code>:</p>
<ol>
<li>On the Sidebar, select <code>Settings</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#Settings" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Select 'Settings'</em></figcaption>
</figure>





<div class="modal fade" id="Settings" tabindex="-1" aria-labelledby="Settings" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" width="1154" height="671" alt="Rectangle">
      </div>
  
  </div>
</div></li>
<li>Add your desired name, then click <code>CHANGE DISPLAY NAME</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#TenantDisplay" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/TenantDisplay.png" width="865" height="253" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/TenantDisplay.png" width="865" height="253" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Change Display Name</em></figcaption>
</figure>





<div class="modal fade" id="TenantDisplay" tabindex="-1" aria-labelledby="TenantDisplay" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" width="865" height="253" alt="Rectangle">
      </div>
  
  </div>
</div></li>
</ol>
<h4 id="verified-domain">Verified Domain</h4>
<p>The second way to set your tenancy name is to 
<a href="/platform/administration/verified-domain/">get your domain verified</a> by the DataTrails team. Your verified domain name will be visible to the people you share information with and will be publicly available if you create a Public Asset.</p>
<h2 id="enterprise-single-sign-on">Enterprise Single Sign-On</h2>
<p>
<a href="https://www.datatrails.ai/pricing/" target="_blank" rel="noopener">Enterprise customers</a> may use their preferred Identity Provider (IDP) to sign-on to DataTrails. Before doing so, you must have a 
<a href="/platform/administration/verified-domain/">Verified Domain</a>.</p>
<ol>
<li>
<p>Navigate to <code>Settings</code> on the sidebar and select <code>Tenancy</code>.<br>
Enter your SSO configuration, then select <code>SAVE ENTERPRISE SSO CONFIG</code>. Saving your configuration may take a moment.

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#ESSOForm" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/ESSOForm.png" width="981" height="433" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/ESSOForm.png" width="981" height="433" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Configure SSO</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="ESSOForm" tabindex="-1" aria-labelledby="ESSOForm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" width="981" height="433" alt="Rectangle">
        </div>
    
    </div>
  </div>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>NOTE:</strong> To retrieve the necessary data for the configuration form, your IDP must be configured to be compatible with DataTrails. Enter the information below.</p>
<p><strong>Login URI:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">https://app.datatrails.ai/login
</span></span></span></code></pre></div><p><strong>Callback URL:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">https://b2carchivistprod3.b2clogin.com/b2carchivistprod3.onmicrosoft.com/oauth2/authresp
</span></span></span></code></pre></div></div>
  </blockquote></p>
</li>
<li>
<p>Now that your details are saved, return to the DataTrails sign-in screen. Select the <code>Single Sign-On</code> option


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#SSOLogInButton" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/SSOLogInButton.png" width="755" height="830" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" src="/platform/administration/identity-and-access-management/SSOLogInButton.png" width="755" height="830" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Single Sign-On</em></figcaption>
</figure>





<div class="modal fade" id="SSOLogInButton" tabindex="-1" aria-labelledby="SSOLogInButton" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" width="755" height="830" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Enter your 
<a href="/platform/overview/identity-and-access-management/#verified-domain">Verified Domain Name</a>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DomainName" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/DomainName.png" width="558" height="443" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/DomainName.png" width="558" height="443" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="DomainName" tabindex="-1" aria-labelledby="DomainName" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" width="558" height="443" alt="Rectangle">
      </div>
  
  </div>
</div>
You will be sent to the identity provider you configured earlier to log-in, then redirected back to DataTrails.</p>
</li>
</ol>
`},{id:18,href:"https://docs.datatrails.ai/developers/developer-patterns/massif-blob-offset-tables/",title:"Massif blob pre-calculated offsets",description:"Provides pre calculated tables for navigating raw Merkle logs",content:`<p>This page provides lookup tables for navigating the dynamic, but computable, offsets into the Merkle log binary format.
The algorithms to reproduce this are relatively simple.
DataTrails provides 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">open-source implementations</a>, but in many contexts it is simpler to use these pre-calculations.
These tables can be made for any log configuration at any time, in part or in whole, without access to any specific log.</p>
<p>This is a quick review of the log format.
We explain this in more detail at 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a></p>
<h2 id="each-log-is-comprised-of-many-blobs-each-containing-a-fixed-number-of-leaves">Each Log Is Comprised of Many Blobs, Each Containing a Fixed Number of Leaves</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    +----------+ +----------+ .. +----------+
</span></span><span class="line"><span class="cl">    | massif 0 | | massif 1 |    | massif n
</span></span><span class="line"><span class="cl">    +----------+ +----------+ .. +----------+
</span></span></code></pre></div><p>New leaves are added to the last blob in the log.</p>
<h2 id="each-individual-blob-has-a-fixed-size-portion-and-two-variably-sized-sections">Each Individual Blob Has a Fixed Size Portion and Two Variably Sized Sections</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span><span class="line"><span class="cl">    |  fixed  size      | computable size    |
</span></span><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span><span class="line"><span class="cl">    | header | trieData |peak stack| mmrData |
</span></span><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span></code></pre></div><h2 id="the-peak-stack-and-mmr-data-sizes-are-computable">The Peak Stack and MMR Data Sizes Are Computable</h2>
<p>&hellip;but it is not always convenient to do so.</p>
<p>Using <code>veracity</code>, the following command line can reproduce a canonical &ldquo;illustrative&rdquo; log from 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --height <span class="m">2</span> massifs --count <span class="m">6</span>
</span></span></code></pre></div><p>generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">                       14
</span></span><span class="line"><span class="cl">                          \\
</span></span><span class="line"><span class="cl">                6           13             21
</span></span><span class="line"><span class="cl">                  \\            \\              \\
</span></span><span class="line"><span class="cl">    h=2 1 |  2  |  5  |   9  |  12   |  17   | 20  |
</span></span><span class="line"><span class="cl">          |     |     |      |       |       |     |
</span></span><span class="line"><span class="cl">        0 |0   1| 3  4| 7   8|10   11|15   16|18 19| MMR INDICES
</span></span><span class="line"><span class="cl">        0 |0   1| 2  3| 4   5|6     7|8     9|10 11| LEAF INDICES
</span></span></code></pre></div><p>The following table <em>Stack Start</em> and <em>mmr Start</em> are byte offsets from the start of the file.
<em>Stack Start</em> is the end of the fixed header information, the relevant parts of which are described in 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a>.</p>
<p>The leaf values are indices into the trie fields (not considered further in this page) and the node values are indices into the array of 32-byte nodes starting at <em>mmr Start</em></p>
<table>
<thead>
<tr>
<th>Massif</th>
<th>Stack Start</th>
<th>mmr Start</th>
<th>First leaf</th>
<th>Last Leaf</th>
<th>First Node</th>
<th>Last Node</th>
<th>Peak Stack</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>544</td>
<td>544</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>[]</td>
</tr>
<tr>
<td>1</td>
<td>544</td>
<td>576</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>6</td>
<td>[2]</td>
</tr>
<tr>
<td>2</td>
<td>544</td>
<td>576</td>
<td>4</td>
<td>5</td>
<td>7</td>
<td>9</td>
<td>[6]</td>
</tr>
<tr>
<td>3</td>
<td>544</td>
<td>608</td>
<td>6</td>
<td>7</td>
<td>10</td>
<td>14</td>
<td>[6,9]</td>
</tr>
<tr>
<td>4</td>
<td>544</td>
<td>576</td>
<td>8</td>
<td>9</td>
<td>15</td>
<td>17</td>
<td>[14]</td>
</tr>
<tr>
<td>5</td>
<td>544</td>
<td>608</td>
<td>10</td>
<td>11</td>
<td>18</td>
<td>21</td>
<td>[14,17]</td>
</tr>
</tbody>
</table>
<p>It is fairly easy to validate the leaves and nodes by hand.
Reproducing the Stack Start needs details from 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a>.</p>
<h2 id="pre-computes-for-your-first-million-events">Pre-computes for Your First Million Events</h2>
<p>DataTrails production logs currently have a massif height of 14, which is results in 8129 leaves, which is $$1^{14-1}$$</p>
<table>
<thead>
<tr>
<th>Massif</th>
<th>Stack Start</th>
<th>mmr Start</th>
<th>First leaf</th>
<th>Last Leaf</th>
<th>First Node</th>
<th>Last Node</th>
<th>Peak Stack</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1048864</td>
<td>1048864</td>
<td>0</td>
<td>8191</td>
<td>0</td>
<td>16382</td>
<td>[]</td>
</tr>
<tr>
<td>1</td>
<td>1048864</td>
<td>1048896</td>
<td>8192</td>
<td>16383</td>
<td>16383</td>
<td>32766</td>
<td>[16382]</td>
</tr>
<tr>
<td>2</td>
<td>1048864</td>
<td>1048896</td>
<td>16384</td>
<td>24575</td>
<td>32767</td>
<td>49149</td>
<td>[32766]</td>
</tr>
<tr>
<td>3</td>
<td>1048864</td>
<td>1048928</td>
<td>24576</td>
<td>32767</td>
<td>49150</td>
<td>65534</td>
<td>[32766,49149]</td>
</tr>
<tr>
<td>4</td>
<td>1048864</td>
<td>1048896</td>
<td>32768</td>
<td>40959</td>
<td>65535</td>
<td>81917</td>
<td>[65534]</td>
</tr>
<tr>
<td>5</td>
<td>1048864</td>
<td>1048928</td>
<td>40960</td>
<td>49151</td>
<td>81918</td>
<td>98301</td>
<td>[65534,81917]</td>
</tr>
<tr>
<td>6</td>
<td>1048864</td>
<td>1048928</td>
<td>49152</td>
<td>57343</td>
<td>98302</td>
<td>114684</td>
<td>[65534,98301]</td>
</tr>
<tr>
<td>7</td>
<td>1048864</td>
<td>1048960</td>
<td>57344</td>
<td>65535</td>
<td>114685</td>
<td>131070</td>
<td>[65534,98301,114684]</td>
</tr>
<tr>
<td>8</td>
<td>1048864</td>
<td>1048896</td>
<td>65536</td>
<td>73727</td>
<td>131071</td>
<td>147453</td>
<td>[131070]</td>
</tr>
<tr>
<td>9</td>
<td>1048864</td>
<td>1048928</td>
<td>73728</td>
<td>81919</td>
<td>147454</td>
<td>163837</td>
<td>[131070,147453]</td>
</tr>
<tr>
<td>10</td>
<td>1048864</td>
<td>1048928</td>
<td>81920</td>
<td>90111</td>
<td>163838</td>
<td>180220</td>
<td>[131070,163837]</td>
</tr>
<tr>
<td>11</td>
<td>1048864</td>
<td>1048960</td>
<td>90112</td>
<td>98303</td>
<td>180221</td>
<td>196605</td>
<td>[131070,163837,180220]</td>
</tr>
<tr>
<td>12</td>
<td>1048864</td>
<td>1048928</td>
<td>98304</td>
<td>106495</td>
<td>196606</td>
<td>212988</td>
<td>[131070,196605]</td>
</tr>
<tr>
<td>13</td>
<td>1048864</td>
<td>1048960</td>
<td>106496</td>
<td>114687</td>
<td>212989</td>
<td>229372</td>
<td>[131070,196605,212988]</td>
</tr>
<tr>
<td>14</td>
<td>1048864</td>
<td>1048960</td>
<td>114688</td>
<td>122879</td>
<td>229373</td>
<td>245755</td>
<td>[131070,196605,229372]</td>
</tr>
<tr>
<td>15</td>
<td>1048864</td>
<td>1048992</td>
<td>122880</td>
<td>131071</td>
<td>245756</td>
<td>262142</td>
<td>[131070,196605,229372,245755]</td>
</tr>
<tr>
<td>16</td>
<td>1048864</td>
<td>1048896</td>
<td>131072</td>
<td>139263</td>
<td>262143</td>
<td>278525</td>
<td>[262142]</td>
</tr>
<tr>
<td>17</td>
<td>1048864</td>
<td>1048928</td>
<td>139264</td>
<td>147455</td>
<td>278526</td>
<td>294909</td>
<td>[262142,278525]</td>
</tr>
<tr>
<td>18</td>
<td>1048864</td>
<td>1048928</td>
<td>147456</td>
<td>155647</td>
<td>294910</td>
<td>311292</td>
<td>[262142,294909]</td>
</tr>
<tr>
<td>19</td>
<td>1048864</td>
<td>1048960</td>
<td>155648</td>
<td>163839</td>
<td>311293</td>
<td>327677</td>
<td>[262142,294909,311292]</td>
</tr>
<tr>
<td>20</td>
<td>1048864</td>
<td>1048928</td>
<td>163840</td>
<td>172031</td>
<td>327678</td>
<td>344060</td>
<td>[262142,327677]</td>
</tr>
<tr>
<td>21</td>
<td>1048864</td>
<td>1048960</td>
<td>172032</td>
<td>180223</td>
<td>344061</td>
<td>360444</td>
<td>[262142,327677,344060]</td>
</tr>
<tr>
<td>22</td>
<td>1048864</td>
<td>1048960</td>
<td>180224</td>
<td>188415</td>
<td>360445</td>
<td>376827</td>
<td>[262142,327677,360444]</td>
</tr>
<tr>
<td>23</td>
<td>1048864</td>
<td>1048992</td>
<td>188416</td>
<td>196607</td>
<td>376828</td>
<td>393213</td>
<td>[262142,327677,360444,376827]</td>
</tr>
<tr>
<td>24</td>
<td>1048864</td>
<td>1048928</td>
<td>196608</td>
<td>204799</td>
<td>393214</td>
<td>409596</td>
<td>[262142,393213]</td>
</tr>
<tr>
<td>25</td>
<td>1048864</td>
<td>1048960</td>
<td>204800</td>
<td>212991</td>
<td>409597</td>
<td>425980</td>
<td>[262142,393213,409596]</td>
</tr>
<tr>
<td>26</td>
<td>1048864</td>
<td>1048960</td>
<td>212992</td>
<td>221183</td>
<td>425981</td>
<td>442363</td>
<td>[262142,393213,425980]</td>
</tr>
<tr>
<td>27</td>
<td>1048864</td>
<td>1048992</td>
<td>221184</td>
<td>229375</td>
<td>442364</td>
<td>458748</td>
<td>[262142,393213,425980,442363]</td>
</tr>
<tr>
<td>28</td>
<td>1048864</td>
<td>1048960</td>
<td>229376</td>
<td>237567</td>
<td>458749</td>
<td>475131</td>
<td>[262142,393213,458748]</td>
</tr>
<tr>
<td>29</td>
<td>1048864</td>
<td>1048992</td>
<td>237568</td>
<td>245759</td>
<td>475132</td>
<td>491515</td>
<td>[262142,393213,458748,475131]</td>
</tr>
<tr>
<td>30</td>
<td>1048864</td>
<td>1048992</td>
<td>245760</td>
<td>253951</td>
<td>491516</td>
<td>507898</td>
<td>[262142,393213,458748,491515]</td>
</tr>
<tr>
<td>31</td>
<td>1048864</td>
<td>1049024</td>
<td>253952</td>
<td>262143</td>
<td>507899</td>
<td>524286</td>
<td>[262142,393213,458748,491515,507898]</td>
</tr>
<tr>
<td>32</td>
<td>1048864</td>
<td>1048896</td>
<td>262144</td>
<td>270335</td>
<td>524287</td>
<td>540669</td>
<td>[524286]</td>
</tr>
<tr>
<td>33</td>
<td>1048864</td>
<td>1048928</td>
<td>270336</td>
<td>278527</td>
<td>540670</td>
<td>557053</td>
<td>[524286,540669]</td>
</tr>
<tr>
<td>34</td>
<td>1048864</td>
<td>1048928</td>
<td>278528</td>
<td>286719</td>
<td>557054</td>
<td>573436</td>
<td>[524286,557053]</td>
</tr>
<tr>
<td>35</td>
<td>1048864</td>
<td>1048960</td>
<td>286720</td>
<td>294911</td>
<td>573437</td>
<td>589821</td>
<td>[524286,557053,573436]</td>
</tr>
<tr>
<td>36</td>
<td>1048864</td>
<td>1048928</td>
<td>294912</td>
<td>303103</td>
<td>589822</td>
<td>606204</td>
<td>[524286,589821]</td>
</tr>
<tr>
<td>37</td>
<td>1048864</td>
<td>1048960</td>
<td>303104</td>
<td>311295</td>
<td>606205</td>
<td>622588</td>
<td>[524286,589821,606204]</td>
</tr>
<tr>
<td>38</td>
<td>1048864</td>
<td>1048960</td>
<td>311296</td>
<td>319487</td>
<td>622589</td>
<td>638971</td>
<td>[524286,589821,622588]</td>
</tr>
<tr>
<td>39</td>
<td>1048864</td>
<td>1048992</td>
<td>319488</td>
<td>327679</td>
<td>638972</td>
<td>655357</td>
<td>[524286,589821,622588,638971]</td>
</tr>
<tr>
<td>40</td>
<td>1048864</td>
<td>1048928</td>
<td>327680</td>
<td>335871</td>
<td>655358</td>
<td>671740</td>
<td>[524286,655357]</td>
</tr>
<tr>
<td>41</td>
<td>1048864</td>
<td>1048960</td>
<td>335872</td>
<td>344063</td>
<td>671741</td>
<td>688124</td>
<td>[524286,655357,671740]</td>
</tr>
<tr>
<td>42</td>
<td>1048864</td>
<td>1048960</td>
<td>344064</td>
<td>352255</td>
<td>688125</td>
<td>704507</td>
<td>[524286,655357,688124]</td>
</tr>
<tr>
<td>43</td>
<td>1048864</td>
<td>1048992</td>
<td>352256</td>
<td>360447</td>
<td>704508</td>
<td>720892</td>
<td>[524286,655357,688124,704507]</td>
</tr>
<tr>
<td>44</td>
<td>1048864</td>
<td>1048960</td>
<td>360448</td>
<td>368639</td>
<td>720893</td>
<td>737275</td>
<td>[524286,655357,720892]</td>
</tr>
<tr>
<td>45</td>
<td>1048864</td>
<td>1048992</td>
<td>368640</td>
<td>376831</td>
<td>737276</td>
<td>753659</td>
<td>[524286,655357,720892,737275]</td>
</tr>
<tr>
<td>46</td>
<td>1048864</td>
<td>1048992</td>
<td>376832</td>
<td>385023</td>
<td>753660</td>
<td>770042</td>
<td>[524286,655357,720892,753659]</td>
</tr>
<tr>
<td>47</td>
<td>1048864</td>
<td>1049024</td>
<td>385024</td>
<td>393215</td>
<td>770043</td>
<td>786429</td>
<td>[524286,655357,720892,753659,770042]</td>
</tr>
<tr>
<td>48</td>
<td>1048864</td>
<td>1048928</td>
<td>393216</td>
<td>401407</td>
<td>786430</td>
<td>802812</td>
<td>[524286,786429]</td>
</tr>
<tr>
<td>49</td>
<td>1048864</td>
<td>1048960</td>
<td>401408</td>
<td>409599</td>
<td>802813</td>
<td>819196</td>
<td>[524286,786429,802812]</td>
</tr>
<tr>
<td>50</td>
<td>1048864</td>
<td>1048960</td>
<td>409600</td>
<td>417791</td>
<td>819197</td>
<td>835579</td>
<td>[524286,786429,819196]</td>
</tr>
<tr>
<td>51</td>
<td>1048864</td>
<td>1048992</td>
<td>417792</td>
<td>425983</td>
<td>835580</td>
<td>851964</td>
<td>[524286,786429,819196,835579]</td>
</tr>
<tr>
<td>52</td>
<td>1048864</td>
<td>1048960</td>
<td>425984</td>
<td>434175</td>
<td>851965</td>
<td>868347</td>
<td>[524286,786429,851964]</td>
</tr>
<tr>
<td>53</td>
<td>1048864</td>
<td>1048992</td>
<td>434176</td>
<td>442367</td>
<td>868348</td>
<td>884731</td>
<td>[524286,786429,851964,868347]</td>
</tr>
<tr>
<td>54</td>
<td>1048864</td>
<td>1048992</td>
<td>442368</td>
<td>450559</td>
<td>884732</td>
<td>901114</td>
<td>[524286,786429,851964,884731]</td>
</tr>
<tr>
<td>55</td>
<td>1048864</td>
<td>1049024</td>
<td>450560</td>
<td>458751</td>
<td>901115</td>
<td>917500</td>
<td>[524286,786429,851964,884731,901114]</td>
</tr>
<tr>
<td>56</td>
<td>1048864</td>
<td>1048960</td>
<td>458752</td>
<td>466943</td>
<td>917501</td>
<td>933883</td>
<td>[524286,786429,917500]</td>
</tr>
<tr>
<td>57</td>
<td>1048864</td>
<td>1048992</td>
<td>466944</td>
<td>475135</td>
<td>933884</td>
<td>950267</td>
<td>[524286,786429,917500,933883]</td>
</tr>
<tr>
<td>58</td>
<td>1048864</td>
<td>1048992</td>
<td>475136</td>
<td>483327</td>
<td>950268</td>
<td>966650</td>
<td>[524286,786429,917500,950267]</td>
</tr>
<tr>
<td>59</td>
<td>1048864</td>
<td>1049024</td>
<td>483328</td>
<td>491519</td>
<td>966651</td>
<td>983035</td>
<td>[524286,786429,917500,950267,966650]</td>
</tr>
<tr>
<td>60</td>
<td>1048864</td>
<td>1048992</td>
<td>491520</td>
<td>499711</td>
<td>983036</td>
<td>999418</td>
<td>[524286,786429,917500,983035]</td>
</tr>
<tr>
<td>61</td>
<td>1048864</td>
<td>1049024</td>
<td>499712</td>
<td>507903</td>
<td>999419</td>
<td>1015802</td>
<td>[524286,786429,917500,983035,999418]</td>
</tr>
</tbody>
</table>
<h2 id="the-algorithms-backing-the-table-generation">The Algorithms Backing the Table Generation</h2>
<p>In combination with the format information at 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a> the pre-computed tables above can be generated using these examples using the DataTrails open source, go-lang based 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">veracity</a> tooling.</p>
<ul class="nav nav-tabs" id="convert-idtimestamp" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#convert-idtimestamp-0" type="button" role="tab" aria-controls="convert-idtimestamp-0" aria-selected="true">Leaf Count and Massif Index</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#convert-idtimestamp-1" type="button" role="tab" aria-controls="convert-idtimestamp-1" aria-selected="false">mmrIndex from leafIndex</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#convert-idtimestamp-2" type="button" role="tab" aria-controls="convert-idtimestamp-2" aria-selected="false">Peak Stack Length</button>
		</li></ul>
<div class="tab-content" id="convert-idtimestamp"><div id="convert-idtimestamp-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="convert-idtimestamp-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">massifIndex</span><span class="p">(</span><span class="nx">mmrIndex</span><span class="p">,</span> <span class="nx">massifHeight</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">nl</span> <span class="o">=</span>  <span class="nb">Number</span><span class="p">(</span><span class="nx">leafCount</span><span class="p">(</span><span class="nx">mmrIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="nx">n</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="nx">massifHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">massifIndex</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">nl</span> <span class="o">/</span> <span class="nx">f</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">massifIndex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// returns the number of leaves in the largest mmr whose size is &lt;= the supplied size
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">leafCount</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">==</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="k">return</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">peakSize</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="mi">64</span><span class="nx">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">clz64</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">peakMap</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(;</span> <span class="nx">peakSize</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">peakMap</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="nx">n</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&gt;=</span> <span class="nx">peakSize</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">pos</span> <span class="o">-=</span> <span class="nx">peakSize</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">peakMap</span> <span class="o">|=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">peakSize</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">peakMap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">clz64</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">typeof</span> <span class="nx">num</span> <span class="o">===</span> <span class="s1">&#39;bigint&#39;</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="sb">\`num must be bigint not </span><span class="si">\${</span><span class="k">typeof</span> <span class="nx">num</span><span class="si">}</span><span class="sb">\`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">num</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">.</span><span class="nx">asUintN</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="nx">num</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">hi</span> <span class="o">=</span> <span class="nx">num</span> <span class="o">&gt;&gt;</span> <span class="mi">32</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">lz</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">clz32</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">hi</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">lz</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nx">lz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">lo</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">((</span><span class="nx">num</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="nx">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">32</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">clz32</span><span class="p">(</span><span class="nx">lo</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div>
  <div id="convert-idtimestamp-1" class="tab-pane fade" role="tabpanel" aria-labelledby="convert-idtimestamp-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">treeIndex</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span> <span class="c1">// Assuming iLeaf can be very large, use BigInt for accuracy.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">);</span> <span class="c1">// Ensure iLeaf is treated as BigInt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">log2Uint64</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">spurSumHeight</span><span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="o">+</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">half</span> <span class="o">=</span> <span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">i</span> <span class="o">-=</span> <span class="nx">half</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// spurSumHeight counts the interior &#39;spur&#39; nodes required for the given height
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">spurSumHeight</span><span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">height</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span> <span class="c1">// Ensure height is treated as BigInt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">height</span> <span class="o">===</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">height</span> <span class="o">-</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nx">i</span><span class="p">))</span> <span class="o">*</span> <span class="nx">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">log2Uint64</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">num</span> <span class="o">===</span> <span class="s1">&#39;bigint&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span> <span class="c1">// log2(1) = 0 and log2(0) is undefined, handled as 0 for simplicity
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">let</span> <span class="nx">log</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">num</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">log</span> <span class="o">+=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">log</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Similarly, handle log2(1) = 0 and log2(0) as 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log2</span><span class="p">(</span><span class="nx">num</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div>
  <div id="convert-idtimestamp-2" class="tab-pane fade" role="tabpanel" aria-labelledby="convert-idtimestamp-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="cm">/** Calculate the size of a massifs peak stack by passing the massifIndex in place of iLeaf */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">leafMinusSpurSum</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">iLeaf</span> <span class="o">=</span> <span class="nx">sum</span> <span class="o">&gt;&gt;</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">while</span> <span class="p">(</span><span class="nx">iLeaf</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">-=</span> <span class="nx">iLeaf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">iLeaf</span> <span class="o">&gt;&gt;=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

`},{id:19,href:"https://docs.datatrails.ai/platform/administration/verified-domain/",title:"Verified Domain",description:"Domain Verification and Why It's Important",content:`<h2 id="what-is-domain-verification">What is domain verification?</h2>
<p>Domain verification assures that actors claiming to be part of an organization are authorized to share information on their behalf. If an organization&rsquo;s Tenancy has been verified by the DataTrails team, a badge indicating that they have been verified will appear next to their domain name.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#Badge" img class="img-fluid responsive" src="/platform/administration/verified-domain/Badge.png" width="249" height="63" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/Badge.png" width="249" height="63" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Verified Domain Badge</em></figcaption>
</figure>





<div class="modal fade" id="Badge" tabindex="-1" aria-labelledby="Badge" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" width="249" height="63" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Having a verified domain is different from a 
<a href="/platform/administration/identity-and-access-management/#tenant-display-name"><code>Tenant Display Name</code></a>. Tenant display names are internal, appearing only within your own Tenancy, and are not visible to anyone you share with. A verified domain name must be set by the DataTrails team, and will be visible to actors outside your Tenancy.</div>
  </blockquote></p>
<h2 id="why-is-it-important-to-verify-my-organizations-domain">Why is it important to verify my organization&rsquo;s domain?</h2>
<p>Getting your organization&rsquo;s domain verified indicates that you are who you say you are. This helps close the trust gap inherent to information sharing between organizations or with the public.</p>
<p>Without domain verification, the <code>Organization</code> is noted as the publisher&rsquo;s Tenant ID. Verifying your domain not only shows that this information comes from a legitimate actor on behalf of the organization, but also replaces the Tenant ID with your domain name so consumers can more easily identify the publishing organization. For example, someone attesting information on behalf of DataTrails would have <code>datatrails.ai</code>.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#UnverifiedDomain" img class="img-fluid responsive" src="/platform/administration/verified-domain/UnverifiedDomain.png" width="1434" height="800" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/UnverifiedDomain.png" width="1434" height="800" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization without Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="UnverifiedDomain" tabindex="-1" aria-labelledby="UnverifiedDomain" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" width="1434" height="800" alt="Rectangle">
      </div>
  
  </div>
</div>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DomainBadge" img class="img-fluid responsive" src="/platform/administration/verified-domain/DomainBadge.png" width="1433" height="804" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/DomainBadge.png" width="1433" height="804" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization with Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="DomainBadge" tabindex="-1" aria-labelledby="DomainBadge" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" width="1433" height="804" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You do not see the badge if you are logged into DataTrails.</div>
  </blockquote>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#OwnerView" img class="img-fluid responsive" src="/platform/administration/verified-domain/OwnerView.png" width="1174" height="787" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/OwnerView.png" width="1174" height="787" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization seen when logged in</em></figcaption>
</figure>





<div class="modal fade" id="OwnerView" tabindex="-1" aria-labelledby="OwnerView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" width="1174" height="787" alt="Rectangle">
      </div>
  
  </div>
</div>
<h2 id="how-can-i-get-my-organizations-domain-verified">How can I get my organization&rsquo;s domain verified?</h2>
<p>The DataTrails team is happy to help you obtain your verified domain badge. Please contact support@datatrails.ai from an email address which includes the domain you wish to verify. For example, email us from @datatrails.ai to verify the datatrails.ai domain. We will send you a confirmation email to make sure that the details are correct.</p>
<p>In order to protect our user community, it is important for us to verify that the person making the request is authorized to do so by the owner of the domain. We will carry out some internal checks based on the information that we have been given and we may request further evidence from you to prove that you own or control the domain in question. Typically, this will be in the form of public company information or domain registration records. Please be prepared to share this evidence with us.</p>
<h2 id="checking-the-verified-domain-of-an-external-organization">Checking the Verified Domain of an External Organization</h2>
<p>If an organization has a verified domain with DataTrails, it will be displayed when you view a Public Asset they have published. You may also retrieve this information via the API if you know the organization&rsquo;s Tenant ID.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v1/tenancies/<span class="o">{</span>uuid<span class="o">}</span>:publicinfo
</span></span></code></pre></div>`},{id:20,href:"https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/",title:"Managing Internal Access to Your Tenant",description:"Sharing Access to Audit Trails within your Tenant",content:`<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> You will only have access to the <code>Access Policies</code> screen if you are an Administrator in your organization.</div>
  </blockquote>
<p>Attribute-Based Access Control (ABAC) policies can be used to control access to Assets, their attributes, and Events within a single organization.</p>
<p>Specifically, ABAC policies are created by Administrators to share information with Non-Administrators in the same Tenancy.</p>
<p>ABAC policies can be granular, with users only allowed to see single attributes at a time.</p>
<p>It is possible to control policies based on types of Assets, their location, and whether Users can read or write any information in an Asset.</p>
<p>By default, no Non-Administrators will see any existing Assets and Events unless an Administrator explicitly creates an ABAC policy to allow it.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To create an ABAC policy, first 
<a href="/platform/administration/identity-and-access-management/#how-do-i-add-users-to-my-organization">add users to your tenancy</a>.</div>
  </blockquote>
<h2 id="creating-an-abac-policy">Creating an ABAC Policy</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
Consider the Shipping Container Asset we created. There may be many people within an organization who need access to specific attributes of the container.</p>
<p>We shall create a policy for someone who needs to share some standard dimensions of the Shipping Container, inspect the cargo, and create <code>Inspect</code> Events.</p>
<ol>
<li>
<p>You may wish to view your existing policies before creating a new one.
<ul class="nav nav-tabs" id="existing_policies_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#existing_policies_abac-0" type="button" role="tab" aria-controls="existing_policies_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#existing_policies_abac-1" type="button" role="tab" aria-controls="existing_policies_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="existing_policies_abac"><div id="existing_policies_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="existing_policies_abac-0">
<p>Navigate to the <code>Access Policies</code> section on the sidebar of the DataTrails dashboard.
Here you will see any existing policies and can select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyAdd.png" width="1356" height="302" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyAdd.png" width="1356" height="302" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyAdd" tabindex="-1" aria-labelledby="PolicyAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w&quot; width=&quot;1356&quot; height=&quot;302&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="existing_policies_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="existing_policies_abac-1">
<p>You may view your existing policies before creating your new policy by executing the following curl command. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Create your Access Policy.
<ul class="nav nav-tabs" id="access_policies_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#access_policies_abac-0" type="button" role="tab" aria-controls="access_policies_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#access_policies_abac-1" type="button" role="tab" aria-controls="access_policies_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="access_policies_abac"><div id="access_policies_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="access_policies_abac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="access_policies_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="access_policies_abac-1">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Set the asset filters for your policy
<ul class="nav nav-tabs" id="asset_filters_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#asset_filters_abac-0" type="button" role="tab" aria-controls="asset_filters_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#asset_filters_abac-1" type="button" role="tab" aria-controls="asset_filters_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="asset_filters_abac"><div id="asset_filters_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="asset_filters_abac-0">
<p>When adding a policy, you will see this form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyForm.png" width="855" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyForm.png" width="855" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Policy Web Form</em></figcaption>
</figure>
<div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w&quot; width=&quot;855&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here you can apply policy filters to the correct Assets. In this case, we shall apply the policy to any Asset with the type <code>Shipping Container</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACFilter" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter.png" width="850" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter.png" width="850" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Filtering for specific Assets and Locations</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACFilter" tabindex="-1" aria-labelledby="PolicyABACFilter" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w&quot; width=&quot;850&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="asset_filters_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="asset_filters_abac-1">
<p>Filters can use <code>and</code> or <code>or</code> to categorize Assets. You may also use filters on attribute values, such as <code>=</code> and <code>!=</code> for equal and not equal, respectively. These can be used for specific attribute values, or to check if the value exists at all. For example, to filter for Assets not associated with a location, you could use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;attributes.arc_home_location_identity!=*&#34;</span>
</span></span></code></pre></div><p>The <code>*</code> is a wildcard that could represent any value. This will match not only on string values, but list and map values as well.</p>
<p>Following our Shipping Container example, this is how we would set our Asset filters:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.your_custom_attribute=Your Value&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>
<a href="/platform/administration/grouping-assets-by-location/">See here for instructions on finding your location ID.</a></p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> We will not use the custom attribute any further as we build the example.</div>
  </blockquote>
</div></div>
</p>
</li>
<li>
<p>Enter the desired <code>Permissions</code> to set user&rsquo;s Asset and Event attribute access
<ul class="nav nav-tabs" id="permissions_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#permissions_abac-0" type="button" role="tab" aria-controls="permissions_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#permissions_abac-1" type="button" role="tab" aria-controls="permissions_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="permissions_abac"><div id="permissions_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="permissions_abac-0">
<p>We select the <code>Permissions</code> Tab to set Users&rsquo; Asset and Event attribute access policy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm.png" width="683" height="815" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm.png" width="683" height="815" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Default view of Policy Permissions</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACForm" tabindex="-1" aria-labelledby="PolicyABACForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w&quot; width=&quot;683&quot; height=&quot;815&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>In this example, the <code>User</code> actor is identified by email. Type the relevant email address and hit enter; you may also see a dropdown list of users within your tenancy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACUsers" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers.png" width="910" height="187" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers.png" width="910" height="187" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a specific User to a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACUsers" tabindex="-1" aria-labelledby="PolicyABACUsers" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w&quot; width=&quot;910&quot; height=&quot;187&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="permissions_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="permissions_abac-1">
<p>There are a few ways you may add a <code>User</code> to your Access Policy using JSON. One way is to use the email address associated with their DataTrails account. To do so, add the desired <code>user_attributes</code> to the <code>access_permissions</code> section.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> You may grant access to specific attachments by specifying the corresponding key in the <code>access_permissions</code>.</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;email=user@email.com&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div><p>You may also grant permissions to an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">App Registration</a> within your tenancy. App Registrations are non-root by default; best practice is to use ABAC policies to preserve Principle of Least Privilege.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;subject=&lt;client-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> This is different from adding <code>subjects</code> as a key in your <code>access_permissions</code>, for example, when adding an external Subject ID to an OBAC policy. The user attribute <code>subject</code> refers to the Client ID associated with an App Registration.</div>
  </blockquote>
<p>Additionally, you may set permissions based on the Custom Claims of an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">App Registration</a> using JSON Web Tokens (JWTs). To do so, you must include the prefix <code>jwt_</code> followed by the desired claim as one of the <code>user_attributes</code> in the policy. For example, the key <code>jwt_app_reg_role</code> to match on claim <code>app_reg_role</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;jwt_app_reg_role=tracker&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once all relevant details are complete, add the permission group to the policy. You may add multiple permission groups per policy if you wish.<br><br>Here we are restricting Mandy to viewing the <code>Name</code>, <code>Type</code>, <code>Image</code>, <code>length</code> and <code>weight</code> of Shipping Containers currently located at the UK Factory. She cannot modify the container record and she cannot see the full Audit Trail of Events because she only needs to know that the container does not exceed the maximum length and weight.
<ul class="nav nav-tabs" id="complete_policy_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_policy_abac-0" type="button" role="tab" aria-controls="complete_policy_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_policy_abac-1" type="button" role="tab" aria-controls="complete_policy_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_policy_abac"><div id="complete_policy_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_policy_abac-0">
<p>Enter desired permissions and select <code>Add Permission Group</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACPermissions" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions.png" width="904" height="705" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions.png" width="904" height="705" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Permitted Attributes on an Asset</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACPermissions" tabindex="-1" aria-labelledby="PolicyABACPermissions" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w&quot; width=&quot;904&quot; height=&quot;705&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_policy_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_policy_abac-1">
<p>Add the desired permissions and the desired <code>user_attributes</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;email=mandy@datatrails.ai&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> We have included DataTrails-significant attributes: <code>arc_display_name</code>, <code>arc_display_type</code> and <code>arc_primary_image</code>
<code>arc_*</code> attributes have special significance in DataTrails.<br>
In this case, respectively, allowing visibility to the <code>Name</code>, <code>Type</code>, and <code>Image</code> of the Asset. Other <code>arc_*</code> attributes are also available.</div>
  </blockquote></p>
</li>
<li>
<p>Once complete, finish creating the Access Policy.
<ul class="nav nav-tabs" id="execute_policy_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#execute_policy_abac-0" type="button" role="tab" aria-controls="execute_policy_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#execute_policy_abac-1" type="button" role="tab" aria-controls="execute_policy_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="execute_policy_abac"><div id="execute_policy_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="execute_policy_abac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACSubmit" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit.png" width="955" height="306" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit.png" width="955" height="306" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACSubmit" tabindex="-1" aria-labelledby="PolicyABACSubmit" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w&quot; width=&quot;955&quot; height=&quot;306&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="execute_policy_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="execute_policy_abac-1">
<p>fo
Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Check the Asset is appropriately shared</p>
<p>Mandy should only be allowed to see the Asset&rsquo;s name, type, image, length, and weight attributes.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACMandyView" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView.png" width="1203" height="654" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView.png" width="1203" height="654" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Mandy's view as a Non-Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyABACMandyView" tabindex="-1" aria-labelledby="PolicyABACMandyView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" width="1203" height="654" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>For comparison with our Administrator, Jill who can see everything:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACJillView" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView.png" width="1209" height="855" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView.png" width="1209" height="855" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Jill's view as a Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyABACJillView" tabindex="-1" aria-labelledby="PolicyABACJillView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" width="1209" height="855" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<p>We can see that Mandy can only view the Attributes specified in the policy.</p>
<p>Our Administrator, Jill, can see every detail associated with the Asset.</p>
`},{id:21,href:"https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/",title:"Managing External Access to Your Tenant",description:"Sharing Assets With Organization-Based Access Control (OBAC)",content:`<p>Organization-Based Access Control (OBAC) policies allow you, as a tenant administrator, to share access to audit trails from your tenancy with an administrator of another tenant. This permissioned sharing allows you to grant access, whether read/write or read-only, to people outside of your organization.</p>
<p>OBAC policies have a lot in common with Attribute-Based Access Control (ABAC) policies; they apply the same controls with two different classes of actor. Where they differ is that OBAC only allows sharing between Tenant Administrators. The external Administrator must then apply an ABAC policy within their tenancy to give their own organization&rsquo;s Non-Administrators access to your Audit Trails, where appropriate.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To enable sharing of assets with those outside your tenancy, you must be an Administrator in your organization AND have completed an exchange of subject identifiers, as outlined below.</div>
  </blockquote>
<h2 id="adding-external-organizations-to-allow-sharing">Adding External Organizations to Allow Sharing</h2>
<p>In order to share Assets and their details with another organization or Tenancy, we must first import the subject ID of the external organization. The external organization will also need to import your subject ID. The process below shows how to enter an external organization&rsquo;s subject ID and for obtaining your own subject ID.</p>
<h3 id="finding-your-own-id">Finding Your Own ID</h3>
<ol>
<li>
<p>As an Administrator, navigate to <code>Access Policies</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>





<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" width="1614" height="367" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Select the Subjects Tab and your Organization&rsquo;s ID will be contained within the <code>Self</code> box.</p>
<p>This string is the one you should share with the Administrator of the other tenancy.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectSelf" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf.png" width="1018" height="234" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf.png" width="1018" height="234" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACSubjectSelf" tabindex="-1" aria-labelledby="PolicyOBACSubjectSelf" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" width="1018" height="234" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<h3 id="importing-another-organizations-id">Importing another Organization&rsquo;s ID</h3>
<ol>
<li>
<p>The external organization&rsquo;s Administrator will send you their subject ID. Use this to create a new Subject.
<ul class="nav nav-tabs" id="import_subject_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#import_subject_obac-0" type="button" role="tab" aria-controls="import_subject_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#import_subject_obac-1" type="button" role="tab" aria-controls="import_subject_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="import_subject_obac"><div id="import_subject_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="import_subject_obac-0">
<p>As an Administrator, navigate to <code>Access Policies</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="import_subject_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="import_subject_obac-1">
<p>In order to import a Subject using the base64 string, it will need to be decoded to access the <code>wallet_pub_key</code> and <code>tessera_pub_key</code> used in the next step</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$SUBJECT_STRING</span> <span class="p">|</span> base64 -d
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Select the Subjects Tab and then <code>Import Subject</code>
<ul class="nav nav-tabs" id="import_subject_id_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#import_subject_id_obac-0" type="button" role="tab" aria-controls="import_subject_id_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#import_subject_id_obac-1" type="button" role="tab" aria-controls="import_subject_id_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="import_subject_id_obac"><div id="import_subject_id_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="import_subject_id_obac-0">
<p>Select the Subjects Tab and then <code>Import Subject</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectImport" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport.png" width="1599" height="168" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport.png" width="1599" height="168" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Importing a Subject</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACSubjectImport" tabindex="-1" aria-labelledby="PolicyOBACSubjectImport" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w&quot; width=&quot;1599&quot; height=&quot;168&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>You will see a form. Enter the subject ID that was sent by the other organization&rsquo;s Administrator into the <code>Subject String</code> box. The <code>Name</code> box is for you to label the imported organization with a friendly name.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd.png" width="400" height="318" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd.png" width="400" height="318" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding the Subject</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACSubjectAdd" tabindex="-1" aria-labelledby="PolicyOBACSubjectAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w&quot; width=&quot;400&quot; height=&quot;318&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="import_subject_id_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="import_subject_id_obac-1">
<p>To add users to the access policy using JSON, you will first need to retrieve their subject IDs using the 
<a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API</a>.</p>
<p>Save the following to a JSON file with your desired subject information</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly Name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Execute the file, which will return the subject identity in the form <code>subjects/&lt;subject-id&gt;</code> to be used in your Access Policy. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The imported subjects will show a grey &ldquo;disconnected&rdquo; icon until both sides have imported the other&rsquo;s Subject ID. This acknowledges that the organizations wish to share with each other. Once both organizations have accepted, the grey disconnected icon will no longer show.</div>
  </blockquote>
<h2 id="creating-an-obac-policy">Creating an OBAC Policy</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
OBAC creation uses many of the same steps, filters, controls, and forms as ABAC Policies.</p>
<p>It is possible to mix-and-match ABAC and OBAC Permission Groups in the same policy if you so wish.</p>
<ol>
<li>
<p>Create your Access Policy
<ul class="nav nav-tabs" id="access_policies_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#access_policies_obac-0" type="button" role="tab" aria-controls="access_policies_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#access_policies_obac-1" type="button" role="tab" aria-controls="access_policies_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="access_policies_obac"><div id="access_policies_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="access_policies_obac-0">
<p>Navigate to the <code>Access Policies</code> section on the sidebar of the DataTrails dashboard.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="access_policies_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="access_policies_obac-1">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>You may wish to view your existing policies before creating a new one
<ul class="nav nav-tabs" id="existing_policies_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#existing_policies_obac-0" type="button" role="tab" aria-controls="existing_policies_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#existing_policies_obac-1" type="button" role="tab" aria-controls="existing_policies_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="existing_policies_obac"><div id="existing_policies_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="existing_policies_obac-0">
<p>Here you will see any existing policies and can select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyAdd.png" width="1356" height="302" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyAdd.png" width="1356" height="302" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyAdd" tabindex="-1" aria-labelledby="PolicyAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w&quot; width=&quot;1356&quot; height=&quot;302&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="existing_policies_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="existing_policies_obac-1">
<p>You may view your existing policies before creating your new policy by executing the following curl command. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Set the asset filters for your policy
<ul class="nav nav-tabs" id="asset_filters_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#asset_filters_obac-0" type="button" role="tab" aria-controls="asset_filters_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#asset_filters_obac-1" type="button" role="tab" aria-controls="asset_filters_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="asset_filters_obac"><div id="asset_filters_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="asset_filters_obac-0">
<p>When adding a policy, you will see this form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyForm.png" width="855" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyForm.png" width="855" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Policy Web Form</em></figcaption>
</figure>
<div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w&quot; width=&quot;855&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here you can apply policy filters to the correct Assets. In this case, we shall apply the policy to any Asset of the type <code>Shipping Container</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACFilter" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter.png" width="850" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter.png" width="850" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Filtering for specific Assets and Locations</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACFilter" tabindex="-1" aria-labelledby="PolicyOBACFilter" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w&quot; width=&quot;850&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="asset_filters_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="asset_filters_obac-1">
<p>Filters can use <code>and</code> or <code>or</code> to categorize assets. You may also use filters on attribute values, such as <code>=</code> and <code>!=</code> for equal and not equal, respectively. These can be used for specific attribute values, or to check if the value exists at all. For example, to filter for Assets not associated with a location, you could use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;attributes.arc_home_location_identity!=*&#34;</span>
</span></span></code></pre></div><p>The <code>*</code> is a wildcard that could represent any value. This will match not only on string values, but list and map values as well.</p>
<p>Following our Shipping Container example, this is how we would set our Asset filters:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>
<a href="/platform/administration/grouping-assets-by-location/">See here for instructions on finding your location ID.</a></p>
</div></div>
</p>
</li>
<li>
<p>Next, enter the desired <code>Permissions</code> to set Users&rsquo; Asset and Event attribute access
<ul class="nav nav-tabs" id="permissions_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#permissions_obac-0" type="button" role="tab" aria-controls="permissions_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#permissions_obac-1" type="button" role="tab" aria-controls="permissions_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="permissions_obac"><div id="permissions_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="permissions_obac-0">
<p>We select the <code>Permissions</code> tab to set users&rsquo; Asset and Event attribute access policy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm.png" width="683" height="815" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm.png" width="683" height="815" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Default view of Policy Permissions</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACForm" tabindex="-1" aria-labelledby="PolicyOBACForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w&quot; width=&quot;683&quot; height=&quot;815&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>In our case, we want the <code>Organization</code> actor, which implies OBAC. Type the friendly name of the organization you wish to share with into the box and there should be a pre-populated drop-down search.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You will need to have imported another Organization&rsquo;s ID before you can specify a policy to share information with that Organization.</div>
  </blockquote>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACUsers" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers.png" width="814" height="164" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers.png" width="814" height="164" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a specific User to a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACUsers" tabindex="-1" aria-labelledby="PolicyOBACUsers" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w&quot; width=&quot;814&quot; height=&quot;164&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="permissions_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="permissions_obac-1">
<p>To add an organization to the access policy, you will first need to retrieve their Subject IDs using the 
<a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API</a>.</p>
<p>Save the following to a JSON file with your desired subject information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Execute the file, which will return the subject identity in the form <code>subjects/&lt;subject-id&gt;</code> to be used in your access policy. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once all relevant details are complete, add the permission group to the policy. You may add multiple permission groups per policy if you wish
<ul class="nav nav-tabs" id="complete_policy_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_policy_obac-0" type="button" role="tab" aria-controls="complete_policy_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_policy_obac-1" type="button" role="tab" aria-controls="complete_policy_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_policy_obac"><div id="complete_policy_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_policy_obac-0">
<p>Enter desired permissions and select <code>Add Permission Group</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACPermissionGroup" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup.png" width="904" height="705" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup.png" width="904" height="705" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Permitted Attributes on an Asset</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACPermissionGroup" tabindex="-1" aria-labelledby="PolicyOBACPermissionGroup" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w&quot; width=&quot;904&quot; height=&quot;705&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_policy_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_policy_obac-1">
<p>Add the desired permissions and the Subject ID found in the previous step</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;weight&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/&lt;subject-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br>
<strong>Note</strong> we have included DataTrails-significant attributes: <code>arc_display_name</code>, <code>arc_display_type</code> and arc_primary_image.<br>
<code>arc_*</code> attributes have special significance in DataTrails. In this case, respectively, allowing visibility to the Name and Type of the Asset. Other <code>arc_*</code> attributes are also available.</p>
</li>
<li>
<p>Once complete, finish creating the Access Policy
<ul class="nav nav-tabs" id="finish_policy_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_policy_obac-0" type="button" role="tab" aria-controls="finish_policy_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_policy_obac-1" type="button" role="tab" aria-controls="finish_policy_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_policy_obac"><div id="finish_policy_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_policy_obac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACPermissions2" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2.png" width="920" height="300" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2.png" width="920" height="300" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACPermissions2" tabindex="-1" aria-labelledby="PolicyOBACPermissions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w&quot; width=&quot;920&quot; height=&quot;300&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_policy_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_policy_obac-1">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once complete, check the Asset is shared appropriately; Mandy should only be able to see the <code>Name</code>, <code>Type</code> and an <code>Image</code> of the container as well as the Asset&rsquo;s custom <code>weight</code> and <code>length</code> attributes.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACMandyView" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView.png" width="1203" height="654" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView.png" width="1203" height="654" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Mandy's view as an Administrator of the External Organization</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACMandyView" tabindex="-1" aria-labelledby="PolicyOBACMandyView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" width="1203" height="654" alt="Rectangle">
      </div>
  
  </div>
</div>
By comparison, our Administrator, Jill, can see the full details of the Asset:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACJillView" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView.png" width="1209" height="855" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView.png" width="1209" height="855" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Jill's view as an Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACJillView" tabindex="-1" aria-labelledby="PolicyOBACJillView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" width="1209" height="855" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>If Mandy wishes to share what she can to Non-Administrators within her organization, it is her responsibility to create an ABAC Policy as she would any other Asset she has access to.</p>
<p>There are many possible fine-grained controls and as such ABAC and OBAC Policy Creation is an extensive topic. To find out more, head over to the 
<a href="/developers/api-reference/iam-policies-api/">IAM Policies API Reference</a>.</p>
</li>
</ol>
`},{id:22,href:"https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/",title:"Verified Replication of the Datatrails Transparency Logs",description:"Supporting verified replication of DataTrails merkle logs",content:`<h2 id="introduction">Introduction</h2>
<p>Without the measures described in this article, it is still extremely challenging to compromise a transparency solution based on DataTrails.</p>
<p>To do so, the systems of more than just DataTrails need to be compromised in very specific ways.
To illustrate this, consider this typical flow for how <strong>Data</strong> can be used in a transparent and tamper evident way with DataTrails.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-data" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-data.png" width="6749" height="2328" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" alt="Replicated Data">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-data.png" width="6749" height="2328" alt="Replicated Data"></noscript>
  <figcaption class="figure-caption"><em>Replicated Transparency Logs</em></figcaption>
</figure>





<div class="modal fade" id="replicated-data" tabindex="-1" aria-labelledby="replicated-data" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" width="6749" height="2328" alt="Replicated Data">
      </div>
  
  </div>
</div>
<p>This is already a very robust process. For this process to fail, the following steps must all be accomplished:</p>
<ol>
<li>The source of the Data, which may not be the Owner, must be compromised to substitute the malicious Data.</li>
<li>Owner authentication of the Data, such as adding a signed digest in the metadata, must be compromised.</li>
<li>The DataTrails SaaS database must be compromised.</li>
<li>The DataTrails ledger must be compromised and re-built and re-signed.</li>
</ol>
<p>Executing such an attack successfully would require significant effort and infiltration of both the Data source and DataTrails.
Nonetheless, for use-cases where even this small degree of trust in DataTrails is un-acceptable, the recipes in this article ensure the following guarantees are fully independent of DataTrails:</p>
<ol>
<li><strong>The guarantee of non-falsifiability</strong>: Event data can not be falsified.</li>
<li><strong>The guarantee of non-repudiation</strong>: Event data can not be removed from the record (ie &lsquo;shredded&rsquo; or deleted).</li>
<li><strong>The guarantee of provability</strong>: Event data held <em>here and now</em> can be proven to be identical to the data created <em>there and then</em> (creating these proofs does not require the original event data).</li>
<li><strong>The guarantee of demonstrable completeness</strong>: Series of events (trails), can be proven to be complete with no gaps or omissions.</li>
</ol>
<p>These guarantees are &ldquo;fail safe&rdquo; against regular data corruption of the log data.
In the event of individual log entry corruption, verification checks would fail for that entry.</p>
<p>All modifications to the ledger which result in provable changes can be detected without a fully auditable replica.
By maintaining a fully auditable replica, continued verifiable operation is possible even if DataTrails is prevented from operating.
To provide this capability, checking that all metadata is exactly as was originally recorded, A copy of the metadata must also be replicated.
In cases where this capability is required, data retention remains manageable and has completely predictable storage requirements.
The log format makes it operational very simple to discard data that ceases to be interesting.</p>
<blockquote class="note callout">
    <div><strong></strong> The metadata is returned to the Owner when the event is recorded and is available from the regular API endpoints to any other authorized party.
Obtaining the returned metadata is not covered in this article.</div>
  </blockquote>
<h2 id="replication-recipes">Replication Recipes</h2>
<h2 id="environment-configuration-for-veracity">Environment Configuration for Veracity</h2>
<p>The following recipes make use of these environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># DataTrails Public Tenant</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PUBLIC_TENANT</span><span class="o">=</span><span class="s2">&#34;tenant/6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Synsation Demo Tenant</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Replace TENANT with your Tenant ID to view your Tenant logs and events</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TENANT</span><span class="o">=</span><span class="s2">&#34;tenant/6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span></code></pre></div><h2 id="maintaining-a-tamper-evident-log-replica">Maintaining a Tamper Evident Log Replica</h2>
<p>Based on a window of assurance, a replica may be maintained with one command, once a week.</p>
<p>A guarantee that actions are only taken on verified data can be achieved by running the following command once a week:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-1" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-1-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-1-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-1"><div id="tabset-developersdeveloper-patterns3rdparty-verification-1-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-1-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 180h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div><p>Run the following to see what was replicated:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">find merklelogs -type f
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000000.sth
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth
</span></span></code></pre></div></div></div>

<p>A sensible value for <code>--horizon</code> is just a little (hours is more than enough) longer than the interval between updates.
To <em>miss</em> an update for a tenant, more than 16,000 events would need to be recorded in the interval.</p>
<blockquote class="note callout">
    <div><strong></strong> Larger time horizons may trigger rate limiting</div>
  </blockquote>
<h3 id="initializing-a-replica-for-all-tenants">Initializing a Replica for All Tenants</h3>
<p>If a replica of all DataTrails tenants is required, run the previous command with a very long horizon.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-2" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-2-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-2-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-2"><div id="tabset-developersdeveloper-patterns3rdparty-verification-2-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-2-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 90000h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div></div></div>

<p>Having done this once, you should revert to using a horizon that is just a little longer than your update interval.</p>
<h3 id="limiting-the-replica-to-specific-tenants">Limiting the Replica to Specific Tenants</h3>
<p>The previous command will replicate the logs of all tenants.
This requires about 3.5 megabytes per 16,000 events.</p>
<p>To restrict a replica to a specific set of tenants, specify those tenants to the <code>watch</code> command.</p>
<p>A common requirement is the public attestation tenant and your own tenant, to accomplish this set <code>$TENANT</code> accordingly and run the following once a week.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-3" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-3-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-3-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-3"><div id="tabset-developersdeveloper-patterns3rdparty-verification-3-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-3-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --tenant <span class="s2">&#34;</span><span class="nv">$PUBLIC_TENANT</span><span class="s2">,</span><span class="nv">$TENANT</span><span class="s2">&#34;</span> watch --horizon 180h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div></div></div>

<p>To initialize the replica, run the same command once but using an appropriately large <code>--horizon</code></p>
<p>The remainder of this article discusses the commands <code>replicate-logs</code> and <code>watch</code> in more depth, covering how to replicate selective tenants, explaining the significance of the replicated materials.</p>
<h2 id="how-veracity-supports-integrity-and-inclusion-protection">How Veracity Supports Integrity and Inclusion Protection</h2>
<p>DataTrail&rsquo;s log format makes it simple to retain only the portions (massifs) of the log that are interesting.
Discarding un-interesting portions does not affect the independence or verifiability of the retained log.</p>
<p>See 
<a href="/developers/developer-patterns/veracity/">Independently verifying DataTrails transparent merkle logs</a> for a general introduction to <code>veracity</code>.</p>
<p>This diagram illustrates the logical flow when updating a local replica using veracity.</p>
<hr>
<div class="mermaid">
  ---
config:
    theme: classic
---
sequenceDiagram
    actor v as Verifier
    box Runs locally to the verifier
    participant V as Veracity
    participant R as Replica
    end
    participant D as DataTrails

    v -->> V: Safely update my replica to massif X please
    V ->> D: Fetch and verify the remote massifs and seals up to X
    V ->> R: Check the verified remote data is consistent with the replica
    V ->> R: Update the replica with verified additions
    V -->> v: All OK!
</div>

<hr>
<p>For the guarantees of <em>non-falsifiability</em> and <em>non-repudiation</em> to be independent of DataTrails, replication and verification of at least the most recently updated massif is necessary.
The replica must be updated often enough to capture all massifs.
As a massif, in the default tenant configuration, contains over 16,000 events, the frequency necessary to support this guarantee is both low, and completely determined by the specific tenant of interest.</p>
<p>Massifs verifying events that are no longer interesting can be safely discarded.
Remembering that the order that events were recorded matches the order of data in the log, it is usually the case that all massifs before a certain point can be discarded together.</p>
<p>Saving the API response data when events are recoded, or obtaining the metadata using the DataTrails events API is additionally required in order to support a full audit for data corruption.</p>
<p>When a a trusted local copy of the verifiable log is included in the &ldquo;verify before use&rdquo; process, it is reasonable to rely on DataTrails storage of the metadata.
If the DataTrails storage of the metadata is changed, the verification will &ldquo;fail safe&rdquo; against the local replicated log because the changed data will not verify against the local replica.
While this is a &ldquo;false negative&rdquo;, it ensures safety in the face of accidental or malicious damage to the DataTrails storage systems without the burden of maintaining copies of the metadata recorded in DataTrails.
Once the unsafe action is blocked, it is very use-case dependent what the appropriate next steps are. The common thread is that is <em>critical</em> that the action must be blocked in the first instance.</p>
<p>When the metadata is fetched, if it can be verified against the log replica, it proves that the DataTrails storage remains correct.
If it does not verify, it is proven that the metadata held by DataTrails is incorrect, though the <em>Data</em> being processed by the Consumer may still be correct and safe.</p>
<p>The <code>veracity</code> <code>replicate-logs</code> and <code>watch</code> are used to maintain the replica of the verifiable log.</p>
<ul>
<li><code>veracity watch</code> is used to give notice of which tenants have updates to their logs that need to be considered for replication.</li>
<li><code>veracity replicate-logs</code> performs the activities in the diagram above. It can be directed to examine a specific tenant, or it can be provided with the output of <code>veracity watch</code></li>
</ul>
<h3 id="updating-the-currently-open-massif">Updating the Currently Open Massif</h3>
<p>Every DataTrails log is a series of one or more massifs.
The last, called the head, is where verification data for new events are recorded.
Once the head is full, a new head automatically starts.</p>
<p>This means there are 3 basic scenarios <code>veracity</code> copes with when updating a replica.</p>
<ol>
<li>Updating the currently open replicated massif with the new additions in the DataTrails open massif.</li>
<li>Replicating the start of a new open massif from DataTrails.</li>
<li>Replicating a limited number of new massifs from DataTrails, performing local consistency checks only if the replicated massifs follow the latest local massif.</li>
</ol>
<p>The first is the simplest to understand. In the diagram below the dashed boxes correspond to the open massifs.</p>
<p>The local replica of the open massif will always be equal or less in size than the remote.
Once veracity verifies the remote copy is consistent with the remote seal, it will then check the new data copied from the remote is consistent with its local copy of the open massif.
Consistent simply means it is an append, and that the remote has not &ldquo;dropped&rdquo; anything that it contained the last time it was replicated.</p>
<p>If there is any discrepancy in any of these checks, the current local data is left unchanged.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity.png" width="4286" height="2143" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" alt="Replicating with Veracity">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity.png" width="4286" height="2143" alt="Replicating with Veracity"></noscript>
  <figcaption class="figure-caption"><em>Replicating Transparency Logs with Veracity</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity" tabindex="-1" aria-labelledby="replicated-veracity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" width="4286" height="2143" alt="Replicating with Veracity">
      </div>
  
  </div>
</div>
<h3 id="replicating-the-next-open-massif">Replicating the Next Open Massif</h3>
<p>The local replica starts out only having Massifs 0 &amp; 1.
And 1 happens to be complete.
On the next event recorded by DataTrails, a new remote massif, Massif 2, is created.
More events may be recorded before the replica is updated.
Each massif contains verification data for a little over 16,000 events.
Provided the replication commands are run before Massif 2 is also filled, we are dealing with this case.</p>
<p>The local Massif 1 is read because, before copying the remote Massif 2 into the local replica, its consistency against both the remote seal <em>and</em> the previous <em>local</em> massif, Massif 1, are checked.</p>
<p>Once those checks are successfully made, the local replica gains its initial copy of Massif 2.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity-2" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2.png" width="4286" height="2735" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" alt="Replicating Next Open Massif">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2.png" width="4286" height="2735" alt="Replicating Next Open Massif"></noscript>
  <figcaption class="figure-caption"><em>Replicating The Next Open Massif with Veracity</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity-2" tabindex="-1" aria-labelledby="replicated-veracity-2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" width="4286" height="2735" alt="Replicating Next Open Massif">
      </div>
  
  </div>
</div>
<h3 id="replicating-but-leaving-a-gap">Replicating, but Leaving a Gap</h3>
<p>By default, veracity will fetch and verify all massifs, up to the requested, that follow on immediately after the most recent local massif.
In this case, where we request <code>--massif 4</code> the default would be to fetch, verify and replicate Massifs 2, 3 &amp; 4.</p>
<p>By default, a full tenant log is replicated.
The storage requirements are roughly 4mb per massif, and each massif has the verification data for about 16,000 events.</p>
<p>To provide a means to bound the size of the local replica and also to bound the amount of work, we provide the <code>--ancestors</code> option.
This specifies a fixed limit on the number of massifs that will be fetched.
In this example, the limit is <code>0</code>, meaning massif 4 is fetched and verified, and we leave a <em>gap</em> between the local massifs 2 &amp; the new local massif 4.
The gap means the consistency of the remote massif 4 is <em>not</em> checked against the local replica.</p>
<p>The command <code>veracity replicate-logs --ancestors 0 --massif 4</code> requests that massif 4 is verified and then replicated locally, but prevents it from being verified for consistency against the current local replica.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity-gaps" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps.png" width="4286" height="2848" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" alt="Replicating With Gaps">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps.png" width="4286" height="2848" alt="Replicating With Gaps"></noscript>
  <figcaption class="figure-caption"><em>Replicating The With Gaps</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity-gaps" tabindex="-1" aria-labelledby="replicated-veracity-gaps" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" width="4286" height="2848" alt="Replicating With Gaps">
      </div>
  
  </div>
</div>
<h2 id="replicating-the-log-for-the-public-tenant">Replicating the Log for the Public Tenant</h2>
<p>For illustration, we take a more detailed look at using <code>watch</code> and <code>replicate-logs</code> to replicate the public tenant verifiable log data.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-4" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-4-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-4-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-4"><div id="tabset-developersdeveloper-patterns3rdparty-verification-4-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-4-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --tenant <span class="nv">$PUBLIC_TENANT</span> watch
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;massifindex&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;idcommitted&#34;</span><span class="p">:</span> <span class="s2">&#34;0191c424e62d04b300&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;idconfirmed&#34;</span><span class="p">:</span> <span class="s2">&#34;0191c424e62d04b300&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;lastmodified&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-05T21:43:58Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;massif&#34;</span><span class="p">:</span> <span class="s2">&#34;v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;seal&#34;</span><span class="p">:</span> <span class="s2">&#34;v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>If instead you get:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">error: no changes found
</span></span></code></pre></div><p>There has been no activity in any tenant for the default watch horizon (how far back we look for changes).</p>
<p>To set an explicit, and in this example very large, horizon try the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 10000h
</span></span></code></pre></div></div></div>

<p>The <code>watch</code> command is used to determine the <code>massifindex</code>, even when you are only interested in a single tenant.
You then provide that index to the <code>replicate-logs</code> command using the <code>--massif</code> option:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-5" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-5-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-5-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-5"><div id="tabset-developersdeveloper-patterns3rdparty-verification-5-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-5-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant <span class="nv">$PUBLIC_TENANT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    replicate-logs --massif <span class="m">1</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --replicadir merklelogs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">find merklelogs -type f
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000000.sth
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth
</span></span></code></pre></div></div></div>

<p>By default, all massifs up to and including the massif specified by <code>--massif &lt;N&gt;</code> are verified remotely and checked for consistency against the local replica (following the logical steps in the diagram above).</p>
<p>The numbered <code>.log</code> files are the verifiable data for your log.</p>
<p>The <code>.sth</code> files are 
<a href="https://datatracker.ietf.org/doc/html/rfc8152#section-4.2" target="_blank" rel="noopener">COSE Sign1</a> binary format signed messages.
Each <code>.sth</code> is associated with the identically numbered massif.
The log root material in the <code>.sth</code> signature attests to the entire state of the log up to the end of the associated massif.
The details of consuming the binary format of the seal and verifying the signature are beyond the scope of this article.</p>
<p>However, the implementation used by <code>veracity</code> can be found in the open source merkle log library maintained by DataTrails 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/massifs/rootsigverify.go" target="_blank" rel="noopener">go-datatrails-merklelog</a></p>
<h2 id="takeaways">Takeaways</h2>
<ul>
<li>To be sure mistaken, or malicious, changes to DataTrails data stores can always be detected run this command about once a week:
<code>veracity  --tenant $TENANT watch --horizon 180h | veracity replicate-logs --replicadir merklelogs</code></li>
<li>This process guarantees you can&rsquo;t be misrepresented, any alternate version of events would be provably false.</li>
<li>To guarantee continued operation even if DataTrails is prevented from operating, a copy of the DataTrails metadata must be retained.</li>
<li>You can reasonably chose to trust DataTrails copy, because, even in the most extreme cases, it is &ldquo;fail-safe&rdquo; if DataTrails SaaS storage is compromised, when combined with a replicated verifiable merkle log.</li>
</ul>
`},{id:23,href:"https://docs.datatrails.ai/platform/administration/dropbox-integration/",title:"Dropbox Integration",description:"Integrating with Dropbox",content:`<h2 id="the-dropbox-integration">The Dropbox Integration</h2>
<p>Connecting your DataTrails tenancy to your Dropbox account will allow you to automatically record and maintain the provenance metadata of your files in an immutable Audit Trail.</p>
<p>DataTrails uses transparent and auditable distributed ledger technology to maintain an immutable trail of provenance metadata independent of, but in concert with, the original file in Dropbox.
The original data never enters the DataTrails system and remains on Dropbox.
The provenance metadata that is recorded in the immutable audit trail can be shared and verified globally completely independently of the data itself. This increases the scope for efficient and transparent collaboration without changing the risk profile of the data.</p>
<p>During the set up process you will select which Dropbox folders will be linked to DataTrails. A provenance metatdata record will be created on your DataTrails tenancy for every file found within a linked folder. It will be created as a 
<a href="/developers/developer-patterns/document-profile/">Document Profile Asset</a> which can be verified using 
<a href="/platform/overview/instaproof/">Instaproof</a>.</p>
<p>From then on, each time a new file is created in a linked folder, a corresponding provenance metadata record will be created on DataTrails. Any modifications to a file in a linked folder will be recorded as a 
<a href="/developers/developer-patterns/document-profile/#publish-event">Publish Event</a> in the provenance metadata record for that file.<br>
The result is that the auditable provenance record for your files begins at the moment that you link a folder and that an immutable audit trail for each file automatically grows as the files are modified.</p>
<p>You are free, at any time, to link and unlink a folder at all levels of your folder tree using the instructions at 
<a href="/platform/administration/dropbox-integration/#editing-the-list-of-linked-folders">Editing the list of Linked folders</a></p>
<p>Please also see our 
<a href="https://support.datatrails.ai/hc/en-gb/articles/14378210620562-Dropbox-File-and-Folder-Management-FAQ" target="_blank" rel="noopener">FAQ</a> for more information.
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> During configuration, when you link a folder in the UI we will automatically link any subfolders too. Similarly, if you unlink a folder in the UI we will automatically unlink any subfolders.</p>
<p>If you create a subfolder in Dropbox after the integration has been set up it will be automatically added to the linked folder list. If you delete a subfolder or move it to an unlinked location it will be automatically removed from the linked folder list.</p>
<p>If a folder is unlinked for any reason, such by as direct configuration or by being moved, the Audit Trail will stop. Relinking the folder will restart the Audit Trail but we cannot recover any Events that happened while the folder was unlinked.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails masks the file path and replaces the filename with the Asset ID in the public Asset view that is returned by Instaproof. This is intentional so that private information cannot be accidentally released via the Instaproof search results.<br>
Knowledge of the filename is not needed to prove provenance because Instaproof will attest and verify the content of a file even if the filename has been changed.<br>
The permissioned view that is seen by an administrator who is logged into a tenancy will show the file name and the file path.</div>
  </blockquote></p>
<h3 id="connecting-datatrails-to-dropbox">Connecting DataTrails to Dropbox</h3>
<ol>
<li>Select <strong>Settings</strong> or <strong>Integrations</strong> from the side bar and then the <strong>Integrations</strong> tab


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxStart" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxStart.png" width="1041" height="507" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxStart.png" width="1041" height="507" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Settings</em></figcaption>
</figure>





<div class="modal fade" id="DropboxStart" tabindex="-1" aria-labelledby="DropboxStart" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" width="1041" height="507" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Select <strong>Dropbox</strong> and then <strong>Proceed</strong>.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxProceed" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxProceed.png" width="481" height="479" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxProceed.png" width="481" height="479" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Proceed</em></figcaption>
</figure>





<div class="modal fade" id="DropboxProceed" tabindex="-1" aria-labelledby="DropboxProceed" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" width="481" height="479" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
If you are already logged into Dropbox on the device that you are using to set up the integration then you will proceed directly to step 3.<br>If you are not logged in then Dropbox will ask you to authenticate.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxAuth" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxAuth.png" width="397" height="713" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" src="/platform/administration/dropbox-integration/DropBoxAuth.png" width="397" height="713" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Log in to Dropbox</em></figcaption>
</figure>





<div class="modal fade" id="DropboxAuth" tabindex="-1" aria-labelledby="DropboxAuth" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" width="397" height="713" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>DataTrails now asks for permission to see metadata for your files and folders. Click <strong>Allow</strong> to give DataTrails permission to access your Dropbox Folders.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxDataTrailsAllow" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow.png" width="695" height="495" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow.png" width="695" height="495" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Select Allow</em></figcaption>
</figure>





<div class="modal fade" id="DropboxDataTrailsAllow" tabindex="-1" aria-labelledby="DropboxDataTrailsAllow" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" width="695" height="495" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Select the Dropbox folder that you wish to link to DataTrails and then click <strong>Confirm</strong>. The contents of this folder and <em>all its subfolders</em> will be added to DataTrails as public Document Profile Assets.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConfirm" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Select folder and Confirm</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConfirm" tabindex="-1" aria-labelledby="DropboxConfirm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" width="477" height="441" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>You will see a success message. Dropbox will be connected and the selected folders will be linked.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxSuccess" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxSuccess.png" width="479" height="323" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxSuccess.png" width="479" height="323" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Success!</em></figcaption>
</figure>





<div class="modal fade" id="DropboxSuccess" tabindex="-1" aria-labelledby="DropboxSuccess" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" width="479" height="323" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
Click on an icon on the right to edit the connection or to disconnect.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConnected" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConnected.png" width="1446" height="623" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConnected.png" width="1446" height="623" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Configuration icons on the right</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConnected" tabindex="-1" aria-labelledby="DropboxConnected" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" width="1446" height="623" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Check the Asset Overview to see your Dropbox files.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxAssets" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxAssets.png" width="1576" height="260" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxAssets.png" width="1576" height="260" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Assets</em></figcaption>
</figure>





<div class="modal fade" id="DropboxAssets" tabindex="-1" aria-labelledby="DropboxAssets" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" width="1576" height="260" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Remember:</strong> The filenames of the Dropbox files are masked using the format <em>xxx&hellip;</em></div>
  </blockquote></li>
</ol>
<h3 id="editing-the-list-of-linked-folders">Editing the list of Linked folders</h3>
<ol>
<li>Select the File icon in DataTrails


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DataTrailsDisconnect" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>File icon on the right</em></figcaption>
</figure>





<div class="modal fade" id="DataTrailsDisconnect" tabindex="-1" aria-labelledby="DataTrailsDisconnect" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" width="1240" height="176" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>You will see the list of available folders. Select a folder to link or deselect a folder to unlink and then click <strong>Confirm</strong>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConfirm" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Reconfigure folders and Confirm</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConfirm" tabindex="-1" aria-labelledby="DropboxConfirm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" width="477" height="441" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
</ol>
<h3 id="disconnecting-datatrails-from-dropbox">Disconnecting DataTrails from Dropbox</h3>
<p>To disconnect DataTrails and Dropbox you have the option to disconnect using both applications.</p>
<ol>
<li>Select the Disconnect icon in DataTrails


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DataTrailsDisconnect" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect Dropbox</em></figcaption>
</figure>





<div class="modal fade" id="DataTrailsDisconnect" tabindex="-1" aria-labelledby="DataTrailsDisconnect" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" width="1240" height="176" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
You will see a warning message.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DisconnectWarning" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DisconnectWarning.png" width="480" height="304" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DisconnectWarning.png" width="480" height="304" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect Warning</em></figcaption>
</figure>





<div class="modal fade" id="DisconnectWarning" tabindex="-1" aria-labelledby="DisconnectWarning" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" width="480" height="304" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
This means that this specific tenancy will no longer be used for provenance. You would do this if you no longer want to use a connected tenancy while continuing to use other connected tenancies.</li>
<li>If you also want to disconnect in Dropbox, log in to Dropbox, select your account and then <strong>Settings</strong> followed by the <strong>Apps</strong> tab. Select DataTrails and then <strong>Disconnect</strong>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxDisconnectApp" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp.png" width="1248" height="790" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp.png" width="1248" height="790" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect DataTrails</em></figcaption>
</figure>





<div class="modal fade" id="DropboxDisconnectApp" tabindex="-1" aria-labelledby="DropboxDisconnectApp" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" width="1248" height="790" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
You would disconnect in Dropbox if you no longer wish to use DataTrails for provenance. This will remove access permissions for all your tenancies and should be done after you have disconnected all your individual tenancies in DataTrails.</li>
</ol>
<p>This is how to connect and disconnect DataTrails and Dropbox, it is that simple! Please see our 
<a href="https://support.datatrails.ai/hc/en-gb/articles/14378210620562-Dropbox-File-and-Folder-Management-FAQ" target="_blank" rel="noopener">FAQ</a> for more information.</p>
`},{id:24,href:"https://docs.datatrails.ai/platform/administration/compliance-policies/",title:"Compliance Policies",description:"Creating and Managing Compliance Policies",content:`<h2 id="creating-a-compliance-policy">Creating a Compliance Policy</h2>
<p>Compliance Policies are user-defined rule sets that Assets can be tested against. Compliance Policies only need to be created once; all applicable Assets will be tested against that policy thereafter.</p>
<p>For example, a policy might assert that “Maintenance Alarm Events must be addressed by a Maintenance Report Event, recorded within 72 hours of the alarm”. This creates a Compliance Policy in the system which any Asset can be tested against as needed.</p>
<p>As compliance is ensured by a regular series of Events, an Audit Trail builds up over time that allows compliance to be checked for the entire lifetime of the Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creation and editing of Compliance Policies is <strong>only supported through the API</strong>.</div>
  </blockquote>
<p>DataTrails allows for several types of Compliance Policies:</p>
<h3 id="compliance_since">COMPLIANCE_SINCE</h3>
<p>Checks that the time elapsed since a specific type of Event has not exceeded a defined threshold.</p>
<p>For example, &ldquo;time since last maintenance must be less than 72 hours&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_since" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_since-0" type="button" role="tab" aria-controls="compliance_since-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_since-1" type="button" role="tab" aria-controls="compliance_since-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_since"><div id="compliance_since-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_since-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_SINCE policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance should be performed every 72h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Regular Maintenance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_SINCE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">time_period_seconds</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;259200&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_since-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_since-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_SINCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance should be performed every 72h&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Regular Maintenance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_current_outstanding">COMPLIANCE_CURRENT_OUTSTANDING</h3>
<p>Checks if there is a closing Event addressing an outstanding Event.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<p>This allows you to identify which closing Event belongs with each opening Event.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;a Maintenance Request Event must be addressed by a Maintenance Performed Event&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_current_outstanding" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_current_outstanding-0" type="button" role="tab" aria-controls="compliance_current_outstanding-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_current_outstanding-1" type="button" role="tab" aria-controls="compliance_current_outstanding-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_current_outstanding"><div id="compliance_current_outstanding-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_current_outstanding-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_CURRENT_OUTSTANDING policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outstanding Maintenance Requests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_CURRENT_OUTSTANDING</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_current_outstanding-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_current_outstanding-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_period_outstanding">COMPLIANCE_PERIOD_OUTSTANDING</h3>
<p>Checks if the time between correlated Events does not exceed set threshold.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;a Maintenance Request Event must be addressed by a Maintenance Performed Event within 72 hours&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_period_outstanding" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_period_outstanding-0" type="button" role="tab" aria-controls="compliance_period_outstanding-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_period_outstanding-1" type="button" role="tab" aria-controls="compliance_period_outstanding-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_period_outstanding"><div id="compliance_period_outstanding-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_period_outstanding-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_PERIOD_OUTSTANDING policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">There should not be outstanding Maintenance Requests for longer than 72hr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outstanding Maintenance Requests 72hr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_PERIOD_OUTSTANDING</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">time_period_seconds</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;259200&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_period_outstanding-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_period_outstanding-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_PERIOD_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests longer than 72hr&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests 72hr&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_dynamic_tolerance">COMPLIANCE_DYNAMIC_TOLERANCE</h3>
<p>Checks that the time between correlated Events is not excessively different to the observed average normal duration for similar Events.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;the time between a Maintenance Request Event and Maintenance Performed Event in the last week does not exceed a variation of 0.5 standard deviations around the mean&rdquo;.</p>
<p>The <code>dynamic_window</code> is the time period to evaluate on, in this case, one week. The <code>dynamic_variability</code> is the number of standard deviations from the mean allowed, in this case, 0.5.</p>
<ul class="nav nav-tabs" id="compliance_dynamic_tolerance" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_dynamic_tolerance-0" type="button" role="tab" aria-controls="compliance_dynamic_tolerance-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_dynamic_tolerance-1" type="button" role="tab" aria-controls="compliance_dynamic_tolerance-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_dynamic_tolerance"><div id="compliance_dynamic_tolerance-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_dynamic_tolerance-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_DYNAMIC_TOLERANCE policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Average time between Maintenance Requested/Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outlying Maintenance Requests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_DYNAMIC_TOLERANCE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">dynamic_window</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;604800&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">dynamic_variability</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.5&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_dynamic_tolerance-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_dynamic_tolerance-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_DYNAMIC_TOLERANCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Average time between Maintenance Requested/Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outlying Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_window&#34;</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_variability&#34;</span><span class="p">:</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_richness">COMPLIANCE_RICHNESS</h3>
<p>Checks whether Attributes are within expected bounds or otherwise meet defined conditions.</p>
<p>This type of policy uses <code>richness_assertions</code>. An assertion is comprised of an attribute name, comparison value, and an operator to compare with.</p>
<p>The operator can be one of six relational operators: equal to (<code>=</code>), not equal to (<code>!=</code>), greater than (<code>&gt;</code>), less than (<code>&lt;</code>), greater than or equal to (<code>&gt;=</code>), less than or equal to (<code>&lt;=</code>).</p>
<p>For example, &ldquo;radiation level must be less than 7&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_richness" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_richness-0" type="button" role="tab" aria-controls="compliance_richness-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_richness-1" type="button" role="tab" aria-controls="compliance_richness-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_richness"><div id="compliance_richness-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_richness-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_RICHNESS policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Radiation level must be less than 7&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Rad Limit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_RICHNESS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">richness_assertions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_richness-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_richness-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_RICHNESS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad level is less than 7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad Limit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;richness_assertions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h2 id="checking-compliance-status">Checking Compliance Status</h2>
<p>You may check the compliance status of a specific Asset within your tenancy.</p>
<p><ul class="nav nav-tabs" id="compliance_status" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_status-0" type="button" role="tab" aria-controls="compliance_status-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_status-1" type="button" role="tab" aria-controls="compliance_status-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_status"><div id="compliance_status-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_status-0">
<p>Create a yaml file, using the desired Asset ID as your <code>asset_label</code>. Setting <code>report: true</code> will print the compliance information for the Asset when the file is run.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_COMPLIANT_AT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Check Compliance of desired Asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">report</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_status-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_status-1">
<p>Run the following command using the desired Asset ID to check its compliance status. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance/assets/&lt;asset-id&gt;
</span></span></code></pre></div><p>You may also determine compliance at a 
<a href="/platform/overview/advanced-concepts/#perspectives">historical date</a> by adding the desired date to the query.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/compliance/assets/&lt;asset-id&gt;?compliant_at=2019-11-27T14:44:19Z&#34;</span>
</span></span></code></pre></div></div></div>

<br>
An example response for a non-compliant Asset</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant&#34;</span>: false,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliance&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">        <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliance_policy_identity&#34;</span>: <span class="s2">&#34;compliance_policies/71fb7b23-485a-492b-9957-e5d1c9400a76&#34;</span>,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliant&#34;</span>: false,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;reason&#34;</span>: <span class="s2">&#34;No events found&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;next_page_token&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant_at&#34;</span>: <span class="s2">&#34;2024-01-17T10:04:41Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>An example response for a compliant Asset</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant&#34;</span>: true,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliance&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">        <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliance_policy_identity&#34;</span>: <span class="s2">&#34;compliance_policies/71fb7b23-485a-492b-9957-e5d1c9400a76&#34;</span>,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliant&#34;</span>: true,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;reason&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;next_page_token&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant_at&#34;</span>: <span class="s2">&#34;2024-01-17T10:16:12Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div>`},{id:25,href:"https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/",title:"Grouping Assets by Location",description:"Adding a Location",content:`<p>Locations associate an Asset with a &lsquo;home&rsquo; that can help when governing sharing policies with OBAC and ABAC. Locations do not need pinpoint precision and can be named by site, building, or other logical grouping.</p>
<p>It may be useful to indicate an Asset&rsquo;s origin. For example, if tracking traveling consultant&rsquo;s laptops, you may wish to associate them with a &lsquo;home&rsquo; office.</p>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> It is important to recognize that the location does not necessarily denote the Asset’s current position in space; it simply determines which facility the Asset belongs to. For things that move around, use GIS coordinates on Events instead. See 
<a href="../../overview/advanced-concepts/#geolocation">concept docs on locations</a> for more information.</div>
  </blockquote>
<h2 id="creating-a-location">Creating a Location</h2>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The Locations UI is not displayed in the side menu until after the first location has been created using the 
<a href="/developers/api-reference/locations-api/">API</a>. After this you can use the UI to create new locations but to update or delete a location you will still need to use the API</div>
  </blockquote>
<ol>
<li>
<p>Create your location
<ul class="nav nav-tabs" id="add_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_locations-0" type="button" role="tab" aria-controls="add_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_locations-1" type="button" role="tab" aria-controls="add_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_locations-2" type="button" role="tab" aria-controls="add_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_locations"><div id="add_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_locations-0">
<p>In the dashboard, select <code>Locations</code>, then <code>Add Location</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAddNew" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAddNew.png" width="1644" height="324" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAddNew.png" width="1644" height="324" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAddNew" tabindex="-1" aria-labelledby="LocationAddNew" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w&quot; width=&quot;1644&quot; height=&quot;324&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_locations-1">
<p>The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an <code>action</code>.</p>
<p>In order to create a location, we use the action <code>LOCATIONS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_locations-2">
<p>Create an empty file, in later steps we will add the correct JSON</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Add information about the location you are creating
<ul class="nav nav-tabs" id="add_location_info_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_info_locations-0" type="button" role="tab" aria-controls="add_location_info_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_info_locations-1" type="button" role="tab" aria-controls="add_location_info_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_info_locations-2" type="button" role="tab" aria-controls="add_location_info_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_info_locations"><div id="add_location_info_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_info_locations-0">
<p>The following screen will appear:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationDescribe" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationDescribe.png" width="790" height="432" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationDescribe.png" width="790" height="432" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Location Webform</em></figcaption>
</figure>
<div class="modal fade" id="LocationDescribe" tabindex="-1" aria-labelledby="LocationDescribe" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w&quot; width=&quot;790&quot; height=&quot;432&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_info_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_info_locations-1">
<p>You may add a <code>description</code> and a <code>selector</code>. The <code>selector</code> is the identifying attribute used to check if your location exists before attempting to create it. In this case, we use <code>display_name</code> which represents the name of the location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_info_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_info_locations-2">
<p>You may add a <code>display_name</code> and <code>description</code> to identify your location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Enter the required location name and address, or in the case of YAML and JSON, coordinates
<ul class="nav nav-tabs" id="add_location_name_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_name_locations-0" type="button" role="tab" aria-controls="add_location_name_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_name_locations-1" type="button" role="tab" aria-controls="add_location_name_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_name_locations-2" type="button" role="tab" aria-controls="add_location_name_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_name_locations"><div id="add_location_name_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_name_locations-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationForm" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationForm.png" width="781" height="434" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationForm.png" width="781" height="434" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding the Location Details</em></figcaption>
</figure>
<div class="modal fade" id="LocationForm" tabindex="-1" aria-labelledby="LocationForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w&quot; width=&quot;781&quot; height=&quot;434&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_location_name_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_name_locations-1">
<p>Use <code>latitude</code> and <code>longitude</code> to describe the physical location</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Industrial Warehouse in Bristol Harbor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">51.4477</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">2.5980</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_name_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_name_locations-2">
<p>Use <code>latitude</code> and <code>longitude</code> to describe the physical location</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">51.4477</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.5980</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>There is an option to add extended attributes to a location. This is useful to add metadata to a location, i.e. a site contact&rsquo;s number and email address
<ul class="nav nav-tabs" id="add_location_attributes_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_attributes_locations-0" type="button" role="tab" aria-controls="add_location_attributes_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_attributes_locations-1" type="button" role="tab" aria-controls="add_location_attributes_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_attributes_locations-2" type="button" role="tab" aria-controls="add_location_attributes_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_attributes_locations"><div id="add_location_attributes_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_attributes_locations-0">
<p>Use the <code>Extended Attributes</code> tab.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAttributes" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAttributes.png" width="776" height="506" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAttributes.png" width="776" height="506" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding Extended Attributes to a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAttributes" tabindex="-1" aria-labelledby="LocationAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w&quot; width=&quot;776&quot; height=&quot;506&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_attributes_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_attributes_locations-1">
<p>Like Assets and Events, locations may also have extended attributes added as key-value pairs</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Factory in Bristol Harbor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">51.4477</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">2.5980</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l">Princes Wharf, Wapping Rd, Bristol BS1 4RN, UK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Primary_Contact</span><span class="p">:</span><span class="w"> </span><span class="l">Jill Tiller</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Primary_Mobile_Number</span><span class="p">:</span><span class="w"> </span><span class="l">+447700900077</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_attributes_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_attributes_locations-2">
<p>Like Assets and Events, locations may also have extended attributes added as key-value pairs</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">51.4477</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.5980</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Princes Wharf, Wapping Rd, Bristol BS1 4RN, UK&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;Primary_Contact&#34;</span><span class="p">:</span> <span class="s2">&#34;Jill Tiller&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;Primary_Mobile_Number&#34;</span><span class="p">:</span> <span class="s2">&#34;+447700900077&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Complete your location
<ul class="nav nav-tabs" id="complete_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_location_locations-0" type="button" role="tab" aria-controls="complete_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_location_locations-1" type="button" role="tab" aria-controls="complete_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_location_locations-2" type="button" role="tab" aria-controls="complete_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_location_locations"><div id="complete_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_location_locations-0">
<p>Click <code>Add Location</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationSubmitted" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationSubmitted.png" width="773" height="432" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationSubmitted.png" width="773" height="432" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationSubmitted" tabindex="-1" aria-labelledby="LocationSubmitted" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w&quot; width=&quot;773&quot; height=&quot;432&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_location_locations-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      UK_factory_location.yaml
</span></span></code></pre></div></div>
  <div id="complete_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_location_locations-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>View your locations
<ul class="nav nav-tabs" id="location_list_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#location_list_locations-0" type="button" role="tab" aria-controls="location_list_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#location_list_locations-1" type="button" role="tab" aria-controls="location_list_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#location_list_locations-2" type="button" role="tab" aria-controls="location_list_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="location_list_locations"><div id="location_list_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="location_list_locations-0">
<p>Navigate to <code>Locations</code> in the sidebar to see a list of existing locations.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAdded" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAdded.png" width="1669" height="366" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAdded.png" width="1669" height="366" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAdded" tabindex="-1" aria-labelledby="LocationAdded" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w&quot; width=&quot;1669&quot; height=&quot;366&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="location_list_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="location_list_locations-1">
<p>You can view all location data using the <code>LOCATIONS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all locations.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="location_list_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="location_list_locations-2">
<p>Use the 
<a href="/developers/api-reference/locations-api/">Locations API</a> to GET a list of existing locations.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>View details of the location you just created
<ul class="nav nav-tabs" id="specific_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#specific_location_locations-0" type="button" role="tab" aria-controls="specific_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#specific_location_locations-1" type="button" role="tab" aria-controls="specific_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#specific_location_locations-2" type="button" role="tab" aria-controls="specific_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="specific_location_locations"><div id="specific_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="specific_location_locations-0">
<p>You can inspect details of a single location. Click the desired location row</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationDetails" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationDetails.png" width="383" height="422" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w" src="/platform/administration/grouping-assets-by-location/LocationDetails.png" width="383" height="422" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationDetails" tabindex="-1" aria-labelledby="LocationDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w&quot; width=&quot;383&quot; height=&quot;422&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="specific_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="specific_location_locations-1">
<p>The <code>LOCATIONS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Location named UK Factory. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="specific_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="specific_location_locations-2">
<p>Use the 
<a href="/developers/api-reference/locations-api/">Locations API</a> to GET the specific location by name.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/locations?display_name=UK%20Factory&#34;</span>
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
<h2 id="assigning-a-location-to-an-asset">Assigning a Location to an Asset</h2>
<h3 id="adding-at-asset-creation">Adding at Asset Creation</h3>
<p>To assign a pre-existing location to an Asset during Asset creation, you need only select it
<ul class="nav nav-tabs" id="add_at_asset_create" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_at_asset_create-0" type="button" role="tab" aria-controls="add_at_asset_create-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_at_asset_create-1" type="button" role="tab" aria-controls="add_at_asset_create-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_at_asset_create-2" type="button" role="tab" aria-controls="add_at_asset_create-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_at_asset_create"><div id="add_at_asset_create-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_at_asset_create-0">
<p>Choose the desired location from the <code>Location</code> drop-down.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAssetCreation" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAssetCreation.png" width="859" height="530" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAssetCreation.png" width="859" height="530" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating an Asset with an Existing Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAssetCreation" tabindex="-1" aria-labelledby="LocationAssetCreation" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w&quot; width=&quot;859&quot; height=&quot;530&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_at_asset_create-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_at_asset_create-1">
<p>A pre-existing location can be added during Asset creation, using the Location ID as an identifier (e.g. <code>locations/&lt;location-id&gt;</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset with pre-existing Location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_home_location_identity</span><span class="p">:</span><span class="w"> </span><span class="l">&lt;your-location-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The YAML Runner also allows you to create new locations at Asset Creation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Container Origin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">52.2025</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">0.1311</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">location_label</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_at_asset_create-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_at_asset_create-2">
<p>A pre-existing location can be added during Asset creation, using the Location ID as an identifier (e.g. <code>locations/&lt;location-id&gt;</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Traffic light with violation camera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
<h3 id="adding-to-a-pre-existing-asset">Adding to a pre-existing Asset</h3>
<ol>
<li>
<p>To assign a pre-existing Asset with a new location, you need to identify the Location ID. To do this, view the location details by clicking the location row.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationIdentity" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationIdentity.png" width="369" height="409" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" src="/platform/administration/grouping-assets-by-location/LocationIdentity.png" width="369" height="409" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Location Identity</em></figcaption>
</figure>





<div class="modal fade" id="LocationIdentity" tabindex="-1" aria-labelledby="LocationIdentity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" width="369" height="409" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Then create an Event for the Asset and specify the identity of the new location as noted in step 1, against the <code>arc_home_location_identity</code> key<br>
For more information on creating Events, please visit 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset</a>.
<ul class="nav nav-tabs" id="add_to_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_to_asset-0" type="button" role="tab" aria-controls="add_to_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_to_asset-1" type="button" role="tab" aria-controls="add_to_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_to_asset-2" type="button" role="tab" aria-controls="add_to_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_to_asset"><div id="add_to_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_to_asset-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAssetUpdate" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAssetUpdate.png" width="770" height="487" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAssetUpdate.png" width="770" height="487" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Updating an Existing Asset with a new Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAssetUpdate" tabindex="-1" aria-labelledby="LocationAssetUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w&quot; width=&quot;770&quot; height=&quot;487&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_to_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_to_asset-1">
<p>The <code>EVENTS_CREATE</code> action must contain at least one key-value pair for <code>event_attributes</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Add Location to existing Asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt; </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">new_event</span><span class="p">:</span><span class="w"> </span><span class="l">Record Asset Location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_home_location_identity</span><span class="p">:</span><span class="w"> </span><span class="l">locations/&lt;location-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_to_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_to_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> - The Event must be recorded against the appropriate <code>assets/&lt;asset-id&gt;</code> when the curl command is executed. 
<a href="/platform/overview/creating-an-event-against-an-asset/">See Step 4 here for more details.</a></div>
  </blockquote>
</div></div>

<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> - You need to include the full <code>locations/&lt;location-id&gt;</code> reference as using only the <code>UUID</code> will not be recognized.</div>
  </blockquote></p>
</li>
<li>
<p>In the following screenshot, note the location of our Asset has been updated


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationUpdateComplete" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete.png" width="1209" height="576" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete.png" width="1209" height="576" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Completed update of Asset Location</em></figcaption>
</figure>





<div class="modal fade" id="LocationUpdateComplete" tabindex="-1" aria-labelledby="LocationUpdateComplete" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" width="1209" height="576" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
`},{id:26,href:"https://docs.datatrails.ai/developers/api-reference/app-registrations-api/",title:"App Registrations API",description:"App Registrations API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="app-registrations-api-examples">App Registrations API Examples</h2>
<p>The App Registrations API enables you to create and manage application identities with access to your DataTrails Tenancy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> App Registrations are called Custom Integrations in the DataTrail application UI.</div>
  </blockquote>
<p>It supports the OpenID Connect Client Credentials Flow, which means that for each application you register, a <code>CLIENT_ID</code> and <code>SECRET</code> are generated and returned.</p>
<p>These credentials are then used to request an access token from <code>https://app.datatrails.ai/archivist/iam/v1/appidp/token</code>, which is used for API authentication to DataTrails.</p>
<p>Each App Registration is created with Non-Administrator privileges by default.</p>
<p>To provide your credentials with access to the Assets and Events in your Tenancy, it is best practice to create an 
<a href="../iam-policies-api/">ABAC policy</a> with specific, declared permissions.</p>
<p>If you wish to give your credentials Administrator privileges to access everything in your Tenancy, you would use the <code>client-id</code> as the subject and <code>https://app.datatrails.ai/appidpv1</code> as the issuer in the <code>Settings</code> screen or by using the 
<a href="../tenancies-api/">Administrators Endpoint in the Tenancies API</a>.<br>This would be necessary if you want to carry out Tenancy administration via the API.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more information on App Registrations and access tokens, visit 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">DataTrails Developer Patterns</a>.</div>
  </blockquote>
<h3 id="creating-an-application">Creating an Application</h3>
<p>Create a JSON file with the parameters of your new application. Below is an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;TL1000000101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Once you have created your file, you can then submit it to the DataTrails API:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/applications
</span></span></code></pre></div><p>An example response is shown below.</p>
<p>The client secret <em><strong>must</strong></em> be taken note of at this point, as it will be redacted in any attempt to retrieve the application (shown as an empty string.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/53e6bed7-6f4c-4a37-8c4f-cf889f2b1aa6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;credentials&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;secret&#34;</span><span class="p">:</span><span class="s2">&#34;a0c09972b6ac912a4d67815fef88093c81a99b49977d35ecf6d162631aa29173&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_from&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-09-21T16:43:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_until&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-09-21T16:43:19Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;TL1000000101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> The expiry date refers to the secret only, any tokens generated with this secret will not automatically become invalid when the secret expires or is rotated. Each token has a TTL of 1 hour.</div>
  </blockquote>
<h4 id="authenticating-with-your-application">Authenticating with your Application</h4>
<p>Now that you&rsquo;ve created an application, you get a token.</p>
<p>Replace <code>\${CLIENT_ID}</code> with the Application ID, and <code>\${SECRET}</code> with your secret from the App Registration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/archivist/iam/v1/appidp/token <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;grant_type=client_credentials&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_id=</span><span class="si">\${</span><span class="nv">CLIENT_ID</span><span class="si">}</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_secret=</span><span class="si">\${</span><span class="nv">SECRET</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span></code></pre></div><p>The token is found in the <code>.access_token</code> field and it is a base64 encoded 
<a href="https://jwt.io/introduction/" target="_blank" rel="noopener">JSON Web Token</a>.</p>
<p>A common method to extract the token is to use <code>jq</code>, where <code>$RESPONSE</code> is the output your curl command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="nv">$RESPONSE</span> <span class="p">|</span> jq -r .access_token<span class="k">)</span>
</span></span></code></pre></div><p>You should then save the token to a local <code>bearer_token</code> file with <code>0600</code> permissions in the following format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Authorization: Bearer <span class="nv">$TOKEN</span>
</span></span></code></pre></div><p>Where <code>$TOKEN</code> is the extracted token value.</p>
<p>You can then use this bearer token to interact with other DataTrails services.</p>
<h3 id="listing-applications">Listing Applications</h3>
<p>All of the applications created for your DataTrails tenancy can be viewed using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/applications
</span></span></code></pre></div><h3 id="viewing-applications">Viewing Applications</h3>
<p>The following example shows how to view the details of a single application.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><h3 id="updating-applications">Updating Applications</h3>
<p>You may edit the display name and/or the custom claims of an application.</p>
<p>Create a JSON file containing the details you wish to update. Partial updating of applications is also supported. Below is an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Once you&rsquo;ve created your file, submit it to the DataTrails API:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@/path/to/json&#34;</span>
</span></span><span class="line"><span class="cl">     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><p>Example response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/53e6bed7-6f4c-4a37-8c4f-cf889f2b1aa6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;credentials&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;secret&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_from&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-09-21T16:43:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_until&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-09-21T16:43:19Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="regenerating-application-secrets">Regenerating Application Secrets</h3>
<p>It is possible to regenerate the secret for an existing application.</p>
<p>The expected response will be the same as for 
<a href="./#creating-an-application">creation</a>, but the credential entry will have been updated with a new secret, along with new expiry dates.</p>
<p>Once again, you <em><strong>must</strong></em> take note of the secret at this point, as it will not be recoverable.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>:regenerate-secret
</span></span></code></pre></div><blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> The expiry date refers to the secret only, any tokens generated with this secret will not automatically become invalid when the secret expires or is rotated. Each token has a TTL of 1 hour.</div>
  </blockquote>
<h3 id="deleting-applications">Deleting Applications</h3>
<p>The following example shows how to delete an application.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><h2 id="app-registrations-openapi-docs">App Registrations OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Application Registrations.</p>
    </div>
      <div class="accordion" id='AppRegistrations_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API1' aria-expanded="true" aria-controls='collapseAppRegistrations_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API1' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications</span></h4>
                      </div>
                      <h5>List applications for the user&#39;s tenant</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists all applications for the user&rsquo;s tenant</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API1' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "applications": [
    {
      "client_id": "b222a12e-03d8-40b0-8d28-b851c2caadd0",
      "credentials": [
        {
          "secret": "",
          "valid_from": "2021-09-17T16:48:32Z",
          "valid_until": "2022-09-17T16:48:32Z"
        }
      ],
      "custom_claims": {
        "a": "b"
      },
      "display_name": "a",
      "identity": "applications/b222a12e-03d8-40b0-8d28-b851c2caadd0",
      "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
    },
    {
      "client_id": "288e8cef-62fa-4eb0-9d36-ab01db27c182",
      "credentials": [
        {
          "secret": "",
          "valid_from": "2021-09-17T16:54:05Z",
          "valid_until": "2022-09-17T16:54:05Z"
        }
      ],
      "custom_claims": {
        "asf": "asbdf"
      },
      "display_name": "test",
      "identity": "applications/288e8cef-62fa-4eb0-9d36-ab01db27c182",
      "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
    }
  ],
  "next_page_token": "eyJvcmlnX3JlcSI6eyJwYWdlX3NpemUiOjJ9LCJza2lwIjoyfQ=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>applications</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single application used for machine authentication</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Pagination token. Empty on first request. On subsequent requests copied from response.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API2' aria-expanded="true" aria-controls='collapseAppRegistrations_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications</span></h4>
                      </div>
                      <h5>Registers a new application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Registers a new application, generating a client ID and secret for use in machine authentication. Regenerates the client secret for the application matching the supplied UUID. The response will include the client secret, but it will not be possible to retrieve it afterwards.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAppRegistrations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAppRegistrations_API2' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAppRegistrations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "custom_claims": {
    "has_cyclist_light": "true",
    "serial_number": "TL1000000101"
  },
  "display_name": "TrafficLight101"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>custom_claims</th>
                                    <td>object</td>
                                    
                                      <td>Custom claims to add to Application for use in access policies.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Human-readable display name for this Application.</td>
                                    
                                  
                                  <tr>
                                    <th>roles</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td></td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API2' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of app registrations policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API3' aria-expanded="true" aria-controls='collapseAppRegistrations_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API3' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Delete an application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes the application matching the supplied UUID</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API4' aria-expanded="true" aria-controls='collapseAppRegistrations_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API4' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Fetch an application record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Fetches the application record for the supplied UUID</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API4' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API5' aria-expanded="true" aria-controls='collapseAppRegistrations_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API5' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Update an existing application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Allows updating of the display name and custom claims for an application</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API5' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API6' aria-expanded="true" aria-controls='collapseAppRegistrations_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}:regenerate-secret</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API6' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}:regenerate-secret</span></h4>
                      </div>
                      <h5>Regenerate the client secret for an application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Regenerates the client secret for the application matching the supplied UUID. The response will include the client secret, but it will not be possible to retrieve it afterwards.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API6' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:27,href:"https://docs.datatrails.ai/developers/api-reference/assets-api/",title:"Assets API",description:"Assets API Reference",content:`<p><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more information on Assets and Asset creation, visit our 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> and 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a> guide.</div>
  </blockquote></p>
<h2 id="asset-api-examples">Asset API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="asset-record-creation">Asset Record Creation</h3>
<p>Define the asset parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; /tmp/asset.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;behaviours&#34;: [&#34;RecordEvidence&#34;],
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;attributes&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_type&#34;: &#34;Cat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_name&#34;: &#34;My Cat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;weight&#34;: &#34;3.6kg&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  },
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;public&#34;: false
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div><p>Create the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/asset.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Cat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My Cat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.6kg&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:35:13Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;proof_mechanism&#34;</span><span class="p">:</span> <span class="s2">&#34;MERKLE_LOG&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="updating-an-asset-attribute">Updating an Asset Attribute</h4>
<p>To update an Asset attribute, record an Event and enter the new value. Here we will update the weight of the cat from the previous example.</p>
<p>See the 
<a href="https://docs.datatrails.ai/developers/api-reference/events-api/" target="_blank" rel="noopener">Events API reference</a> for more information about Events.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>   
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><p>POST the Event to update the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><h4 id="creating-a-public-asset">Creating a Public Asset</h4>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning</strong>: Assets can only be made public at Asset creation and cannot be made private afterwards.</div>
  </blockquote>
<p>In most cases it is appropriate to create a standard Asset. These Assets can only be shared externally using Access Policies as described in 
<a href="/platform/administration/sharing-access-outside-your-tenant/">Sharing Assets with OBAC</a> or the 
<a href="../iam-policies-api/">IAM Policies API Reference</a>.</p>
<p>However, it is also possible to create a Public Asset which can be shared with a read-only public url; similar to the link sharing you may have seen in file sharing services like Google Drive or DropBox.</p>
<p>Public Assets can be used for Public Attestation, where you may wish to publicly assert data you have published.</p>
<p>For example, the vulnerability reports against an OpenSource software package, or perhaps the maintenance records for a public building.</p>
<p>Creating a Public Asset just requires flipping the <code>public</code> value in the above request to <code>true</code>. From then on, <strong>only</strong> the creating Tenancy may update the Asset and Events on a Public Asset through their private, signed-in interface.</p>
<p>All Public Assets are then given a read-only public URL that can be retrieved using 
<a href="./#fetch-a-public-assets-url">Fetch a Public Asset&rsquo;s URL</a>, any Events added to that Public Asset will also get their own unique Public URL that can be retrieved with 
<a href="./#fetch-a-public-assets-event-url">Fetch a Public Asset&rsquo;s Event URL</a>.</p>
<p>This link can be shared with anyone to give them read-only access to the Asset or Event without the need to sign in.</p>
<p>To interact with the unauthenticated Public Interface for a Public Asset see the 
<a href="../public-assets-api/">Public Assets API Reference</a>. To update the Assets and Events as the creating Tenant on a Public Asset&rsquo;s authenticated Private Interface, you would still use the standard Assets and Events API as normal.</p>
<h4 id="creating-a-document-profile-asset">Creating a Document Profile Asset</h4>
<p>This class of Asset conforms to the 
<a href="/developers/developer-patterns/document-profile/">Document Profile Developer Pattern</a>, which allows you to trace the lifecycle of a document.</p>
<p>Define the asset parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Marketing glossy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span><span class="s2">&#34;Test Document Profile Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span><span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span><span class="s2">&#34;anything you like&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong>: Document Profile Assets must be set to <code>public</code> to be compatible with 
<a href="/platform/overview/instaproof/">Instaproof</a> verification.</div>
  </blockquote>
<p>Create the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;anything you like&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Marketing glossy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Test Document Profile Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;sha256&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T11:32:22Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="asset-record-retrieval">Asset Record Retrieval</h3>
<p>Asset records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><p>If you do not know the Asset’s identity you can fetch Asset records using other information you do know.</p>
<h4 id="fetch-all-assets">Fetch All Assets</h4>
<p>To fetch all Asset records, simply <code>GET</code> the Assets resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?page_size<span class="o">=</span><span class="m">5</span>
</span></span></code></pre></div><h4 id="fetch-specific-asset-by-identity">Fetch Specific Asset by Identity</h4>
<p>If you know the unique identity of the Asset record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><h4 id="fetch-specific-asset-at-given-point-in-time-by-identity">Fetch Specific Asset at Given Point in Time by Identity</h4>
<p>If you know the unique identity of an Asset record and want to show its state at any given point in the past, simply <code>GET</code> with the following query parameter:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx?at_time=2021-01-13T12:34:21Z&#34;</span>
</span></span></code></pre></div><p>This will return the Asset record with the values it had on <code>2021-01-13T12:34:21Z</code>.</p>
<h4 id="fetch-assets-by-name">Fetch Assets by Name</h4>
<p>To fetch all Assets with a specific name, GET the Assets resource and filter on <code>arc_display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name=tcl.ccj.003&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-type">Fetch Assets by Type</h4>
<p>To fetch all Assets of a specific type, <code>GET</code> the Assets resource and filter on <code>arc_display_type</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_type=Traffic%20light&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-proof-mechanism">Fetch Assets by Proof Mechanism</h4>
<p>To fetch all Assets that use a specific Proof Mechanism, <code>GET</code> the Assets resource and filter on <code>proof_mechanism</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?proof_mechanism=MERKLE_LOG&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-ordered-for-simplehashv1-schema">Fetch Events Ordered for SIMPLEHASHV1 Schema</h4>
<p>To fetch Simple Hash Events in the order needed for the 
<a href="https://github.com/datatrails/datatrails-simplehash-python" target="_blank" rel="noopener">SIMPLEHASHV1 schema</a>, <code>GET</code> the Assets resource, specifying a specific Asset ID or using <code>assets/-/events</code> to fetch Events for all Assets:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?order_by=SIMPLEHASHV1&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-filtering-for-presence-of-a-field">Fetch Assets by Filtering for Presence of a Field</h4>
<p>To fetch all Assets with a field set to any value, <code>GET</code> the Assets resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name=*&#34;</span>
</span></span></code></pre></div><p>Returns all Assets which have <code>arc_display_name</code> that is not empty.</p>
<h4 id="fetch-assets-which-are-missing-a-field">Fetch Assets Which are Missing a Field</h4>
<p>To fetch all Assets with a field which is not set to any value, <code>GET</code> the Assets resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name!=*&#34;</span>
</span></span></code></pre></div><p>Returns all Assets which do not have <code>arc_display_name</code> or in which <code>arc_display_name</code> is empty.</p>
<h4 id="fetch-a-public-assets-url">Fetch a Public Asset&rsquo;s URL</h4>
<p>Fetch the Public URL of a Public Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:publicurl
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;publicurl&#34;</span><span class="p">:</span><span class="s2">&#34;https://app.datatrails.ai/archivist/publicassets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="fetch-a-public-assets-event-url">Fetch a Public Asset&rsquo;s Event URL</h4>
<p>Fetch the Public URL of an Event on a Public Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:publicurl
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;publicurl&#34;</span><span class="p">:</span><span class="s2">&#34;https://app.datatrails.ai/archivist/publicassets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="tracking-and-untracking-assets">Tracking and Untracking Assets</h3>
<p>While deleting Assets is not possible, it is possible to hide them from default searches so that old or obsolete records don&rsquo;t crowd out the tenant estate or show up in partner tenancies when they shouldn&rsquo;t.</p>
<h4 id="untracking-an-asset">Untracking an Asset</h4>
<p>Untracking is actually an Event in the Asset lifecycle, so it is necessary to know the Asset identity and POST to it directly. Here we assume we are working with an Asset with identity <code>assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>.</p>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StopTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Untrack the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StopTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="re-tracking-an-asset">(Re-)Tracking an Asset</h4>
<p>It is possible to reverse an untracking Event by tracking the Asset again, assuming you know the Asset identity. Here we assume we are working with an Asset with identity <code>assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>.</p>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StartTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Track the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StartTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="asset-openapi-docs">Asset OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for asset and event management.</p>
    </div>
      <div class="accordion" id='Assets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API1' aria-expanded="true" aria-controls='collapseAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>List Assets</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Assets</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API1' aria-expanded="true" aria-controls='collapserequestAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Assets exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header if the &lsquo;x-request-total-count&rsquo; header on the request is set to &rsquo;true&rsquo;. The exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;. Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Assets for the given proof mechanism has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Assets.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API2' aria-expanded="true" aria-controls='collapseAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>Create an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Asset</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "proof_mechanism": "MERKLE_LOG",
  "public": false
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviours</th>
                                    <td>array</td>
                                    
                                      <td>list of behaviours enabled for this asset</td>
                                    
                                  
                                  <tr>
                                    <th>chain_id</th>
                                    <td>string</td>
                                    
                                      <td>chain id of the blockchain associated with this asset</td>
                                    
                                  
                                  <tr>
                                    <th>proof_mechanism</th>
                                    <td>string</td>
                                    
                                      <td>specify the mechanism used to provide evidential proof for Events on this Asset</td>
                                    
                                  
                                  <tr>
                                    <th>public</th>
                                    <td>boolean</td>
                                    
                                      <td>Public asset. A public asset and all its events are visible to the general public.Sharing to specific organisations is not available for public assets.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user either has not enabled blockchain storage orthe number of assets would exceed the user&rsquo;s quota</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an Asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API3' aria-expanded="true" aria-controls='collapseAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Event</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API3' aria-expanded="true" aria-controls='collapserequestAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view Event.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API4' aria-expanded="true" aria-controls='collapseAssets_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerAssets_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Event public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Event.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API4' aria-expanded="true" aria-controls='collapserequestAssets_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API5' aria-expanded="true" aria-controls='collapseAssets_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerAssets_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API5' aria-expanded="true" aria-controls='collapserequestAssets_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API6' aria-expanded="true" aria-controls='collapseAssets_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerAssets_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Events</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Events</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API6' aria-expanded="true" aria-controls='collapserequestAssets_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Events exceeds the server&rsquo;s limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Events.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API7' aria-expanded="true" aria-controls='collapseAssets_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerAssets_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>Creates an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Event</p>

                      
                        
                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "behaviour": "RecordEvidence",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "operation": "Record"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of asset attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviour</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>event_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>operation</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>principal_declared</th>
                                    <td></td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>timestamp_declared</th>
                                    <td>string</td>
                                    
                                      <td>time of event as declared by the user</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Events has been reached.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API8'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API8' aria-expanded="true" aria-controls='collapseAssets_API8'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerAssets_API8' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Asset public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Asset.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API8'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API8' aria-expanded="true" aria-controls='collapserequestAssets_API8'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API8' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:28,href:"https://docs.datatrails.ai/developers/api-reference/attachments-api/",title:"Attachments API",description:"Attachments API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.io" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="attachment-api-examples">Attachment API Examples</h2>
<p>The Attachments API enables you to query Binary Large OBjects (BLOBs) such as documents, process artifacts and images that are attached to your evidence ledger. For details of how to actually attach these BLOBs to Events and Assets, see the 
<a href="../events-api/#adding-attachments">the Events API Reference</a>.</p>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="retrieve-a-specific-attachment-on-an-asset">Retrieve a Specific Attachment on an Asset</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h3 id="retrieve-a-specific-attachment-on-an-event">Retrieve a Specific Attachment on an Event</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/events/de834094-f6c3-4e38-9b37-8c61dea312c9/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h3 id="retrieve-information-about-a-specific-attachment">Retrieve Information About a Specific Attachment</h3>
<p>It’s also possible to retrieve information about specific attachment using this API.</p>
<p>This information includes the <code>scanned_status</code> of the attachment. Attachment scanning happens each day.</p>
<p>To do so, simply issue a request as above with the suffix <code>/info</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/08838336-c357-460d-902a-3aba9528dd22/info
</span></span></code></pre></div><p>The response will include basic information about the attachment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;75debbfc7a4d988f2321dfb158fe65c62dabe50d4d7b6efb961e83be43a8aa77&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;attachments/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="attachment-openapi-docs">Attachment OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading attachments.</p>
    </div>
      <div class="accordion" id='Attachments_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API1' aria-expanded="true" aria-controls='collapseAttachments_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API1' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an event attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an event attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API2' aria-expanded="true" aria-controls='collapseAttachments_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API2' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAttachments_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAttachments_API2' aria-expanded="true" aria-controls='collapserequestAttachments_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAttachments_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAttachments_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API3' aria-expanded="true" aria-controls='collapseAttachments_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API3' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an asset attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an asset attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API4' aria-expanded="true" aria-controls='collapseAttachments_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API4' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAttachments_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAttachments_API4' aria-expanded="true" aria-controls='collapserequestAttachments_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAttachments_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAttachments_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>



 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading attachments from public Assets.</p>
    </div>
      <div class="accordion" id='Public_Attachments_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API1' aria-expanded="true" aria-controls='collapsePublic_Attachments_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API1' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an event attachment from public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an event attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API2' aria-expanded="true" aria-controls='collapsePublic_Attachments_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API2' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment from a public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublic_Attachments_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublic_Attachments_API2' aria-expanded="true" aria-controls='collapserequestPublic_Attachments_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublic_Attachments_API2' class="accordion-collapse collapse" aria-labelledby='headerresponsePublic_Attachments_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API3' aria-expanded="true" aria-controls='collapsePublic_Attachments_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API3' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an public asset attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an asset attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API4' aria-expanded="true" aria-controls='collapsePublic_Attachments_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API4' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment from a public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublic_Attachments_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublic_Attachments_API4' aria-expanded="true" aria-controls='collapserequestPublic_Attachments_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublic_Attachments_API4' class="accordion-collapse collapse" aria-labelledby='headerresponsePublic_Attachments_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

</p>
`},{id:29,href:"https://docs.datatrails.ai/developers/api-reference/blobs-api/",title:"Blobs API",description:"Blobs API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="blob-api-examples">Blob API Examples</h2>
<p>The Blobs API enables you to upload Binary Large OBjects (BLOBs) such as documents, process artifacts and images to attach to your evidence ledger.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Blobs cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment. Take note of the Blob ID returned in the API response, it will be needed for use with Assets and Events.<br>
For information on Attachments and how to implement them, please refer to 
<a href="../events-api/#adding-attachments">the Events API Reference</a>.</div>
  </blockquote>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="upload-a-blob">Upload a Blob</h3>
<p>Upload the blob stored at /path/to/file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=image/jpg&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -F <span class="s2">&#34;file=@/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxx&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="retrieve-a-blob">Retrieve a Blob</h3>
<p>Retrieve a specific Blob:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=image/jpg&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --output <span class="s2">&#34;/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxx&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="blobs-openapi-docs">Blobs OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading blobs.</p>
    </div>
      <div class="accordion" id='Blobs_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API1' aria-expanded="true" aria-controls='collapseBlobs_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API1' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs</span></h4>
                      </div>
                      <h5>Upload.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Uploads a blob.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseBlobs_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseBlobs_API1' aria-expanded="true" aria-controls='collapserequestBlobs_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseBlobs_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseBlobs_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the number of blobs would exceed the user&rsquo;s quota or the size of the blob exceeds the user&rsquo;s allocation.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a blob.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API2' aria-expanded="true" aria-controls='collapseBlobs_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API2' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs/{uuid}</span></h4>
                      </div>
                      <h5>Download.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads a blob.</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API3' aria-expanded="true" aria-controls='collapseBlobs_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API3' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve blob metadata.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns metadata information on a blob.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseBlobs_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseBlobs_API3' aria-expanded="true" aria-controls='collapserequestBlobs_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseBlobs_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseBlobs_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:30,href:"https://docs.datatrails.ai/developers/api-reference/compliance-api/",title:"Compliance API",description:"Compliance API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="compliance-api-examples">Compliance API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="types-of-compliance-policies">Types of Compliance Policies</h3>
<p>Compliance posture is measured against user-defined rule sets called Compliance Policies.</p>
<p>Compliance Policies are created once and then Assets can be tested against them at any point in time.</p>
<p>For instance, a policy might state that “Maintenance Alarm Events must be addressed with a Maintenance Report Event recorded in 72 hours”.</p>
<p>This creates a Compliance Policy object in the system against which any Asset can be tested as needed.</p>
<p>DataTrails allows users to define Compliance Policies of the following types:</p>
<h4 id="compliance_since">COMPLIANCE_SINCE</h4>
<p>This Compliance Policy checks if the time since the last occurrence of a specific Event type has elapsed a specified threshold.</p>
<p>For example “Time since last Maintenance must be less than 72 hours”:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_SINCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance should be performed every 72h&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Regular Maintenance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event we want to check with this Compliance Policy</td>
</tr>
<tr>
<td><code>time_period_seconds</code></td>
<td>The maximum amount of time allowed since a specified Event type last occurred, in seconds</td>
</tr>
</tbody>
</table>

<h4 id="compliance_current_outstanding">COMPLIANCE_CURRENT_OUTSTANDING</h4>
<p>This Compliance Policy will only pass if there is an associated closing event addressing a specified outstanding Event.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, defining pairs of Events like <code>Maintenance Request</code> and <code>Maintenance Performed</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
</tbody>
</table>

<h4 id="compliance_period_outstanding">COMPLIANCE_PERIOD_OUTSTANDING</h4>
<p>This Compliance Policy will only pass if the time between a pair of correlated Events did not exceed the defined threshold.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, a policy checking that the time between <code>Maintenance Request</code> and <code>Maintenance Performed</code> Events does not exceed the maximum 72 hours:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_PERIOD_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
<tr>
<td><code>time_period_seconds</code></td>
<td>Maximum amount of time that can elapse between associated Events, in seconds</td>
</tr>
</tbody>
</table>

<h4 id="compliance_dynamic_tolerance">COMPLIANCE_DYNAMIC_TOLERANCE</h4>
<p>This Compliance Policy will only pass if the time between correlated Events is not excessively different to the observed average normal duration for similar Events.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, a policy checking that the time between <code>Maintenance Request</code> and <code>Maintenance Performed</code> Events in the last week does not exceed a variability of 0.5 standard deviations around the mean:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_DYNAMIC_TOLERANCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Average time between Maintenance Requested/Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outlying Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_window&#34;</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_variability&#34;</span><span class="p">:</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
<tr>
<td><code>dynamic_window</code></td>
<td>Number of seconds in the past - only Events in this time window are considered</td>
</tr>
<tr>
<td><code>dynamic_variability</code></td>
<td>Exceeding this number of standard deviations from the mean will cause compliance to fail for a particular pair of matching Events</td>
</tr>
</tbody>
</table>

<h4 id="compliance_richness">COMPLIANCE_RICHNESS</h4>
<p>This Compliance Policy will only pass if attributes are within expected bounds or otherwise meet defined conditions.</p>
<p>An assertion is comprised of: an attribute name, a comparison value and an operator to compare with; for example <code>rad&lt;7</code>.</p>
<p>The operator can be one of six relational operators: equal to, not equal to, greater than, less than, greater than or equal to, less than or equal to; <code>[=|!=|&gt;|&lt;|&gt;=|&lt;=]</code>.</p>
<p>Assertions are comprised of two lists, an inner list and outer list. The inner list states that, if any of the assertions pass, then the list is compliant (<code>OR</code> logic). For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span><span class="err">“or”:</span> <span class="err">[“rad&lt;7”,</span> <span class="err">“rad=10”]</span><span class="p">}</span><span class="err">.</span> 
</span></span></code></pre></div><p>The outer list states that, all inner lists need to be compliant in order for the policy to be compliant (<code>AND</code> logic).</p>
<p>Compliance is a signal, not a perfect answer. Therefore equivalence of floats is exact, not approximate.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_RICHNESS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad level is less than 7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad limit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;richness_assertions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;rad&lt;7&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>richness_assertions</code></td>
<td>The assertions to be made, against Asset attributes, to check if the Asset is compliant.</td>
</tr>
</tbody>
</table>

<h3 id="compliance-policy-creation">Compliance Policy Creation</h3>
<p>Create a Compliance Policy with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div><p>Using data from <code>/path/to/jsonfile</code> in the format described in 
<a href="#types-of-compliance-policies">Types of Compliance Policies</a>.</p>
<p>Sample response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;compliance_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="checking-compliance">Checking Compliance</h3>
<p>The compliance v1 endpoint reports on the status of an Asset’s compliance with Compliance Policies.</p>
<p>Query the endpoint:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance/assets/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><p>or if determining compliance at some historical date:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/compliance/assets/6a951b62-0a26-4c22-a886-1082297b063b?compliant_at=2019-11-27T14:44:19Z&#34;</span>
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliant&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;compliance_policy_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;compliance_policies/0000-0000-000000000-00000000&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;compliant&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliant_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="compliance-openapi-docs">Compliance OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Compliance.</p>
    </div>
      <div class="accordion" id='Compliance_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_API1' aria-expanded="true" aria-controls='collapseCompliance_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance/assets/archivist/v1/compliance/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_API1' class="accordion-collapse collapse" aria-labelledby='headerCompliance_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance/assets/archivist/v1/compliance/assets/{uuid}</span></h4>
                      </div>
                      <h5>List all compliance status relevant to an asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: </p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_API1' aria-expanded="true" aria-controls='collapserequestCompliance_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "compliance": [
    {
      "compliance_policy_identity": "compliance_policies/0000-0000-000000000-00000000",
      "compliant": false
    }
  ],
  "compliant": false,
  "compliant_at": "2019-11-27T14:44:19Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>compliance</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>simple compliance status against a compliance policy.</td>
                                  
                                
                                <tr>
                                  <th>compliant</th>
                                  <td>boolean</td>
                                  
                                    <td>overall compliance status for the asset</td>
                                  
                                
                                <tr>
                                  <th>compliant_at</th>
                                  <td>string</td>
                                  
                                    <td>time at which compliance is determined</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of compliance statements exceeds the servers limit.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the no asset with the provided id can be found.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Compliance Policies.</p>
    </div>
      <div class="accordion" id='Compliance_Policies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API1' aria-expanded="true" aria-controls='collapseCompliance_Policies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API1' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span></h4>
                      </div>
                      <h5>List Compliance Policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Compliance Policies</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API1' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "compliance_policies": [
    {
      "asset_filter": [
        {
          "or": [
            "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
          ]
        }
      ],
      "compliance_type": "COMPLIANCE_SINCE",
      "description": "sample compliance policy",
      "display_name": "my compliance policy",
      "event_display_type": "tracked event",
      "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
      "time_period_seconds": 86400
    }
  ],
  "next_page_token": "NDYzZmFiM2EtYmFlNS00MzQ5LThmNzYtZjY0NTRkYTIwYzlkCg=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>compliance_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>compliance policy</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API2' aria-expanded="true" aria-controls='collapseCompliance_Policies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span></h4>
                      </div>
                      <h5>Create a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates a Compliance Policy</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestCompliance_Policies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestCompliance_Policies_API2' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestCompliance_Policies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_filter</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                  <tr>
                                    <th>closing_event_display_type</th>
                                    <td>string</td>
                                    
                                      <td>this is the correlated event type - required except for RICHNESS policy type</td>
                                    
                                  
                                  <tr>
                                    <th>compliance_type</th>
                                    <td></td>
                                    
                                      <td>policy type</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Customer description of the compliance policy.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>display name</td>
                                    
                                  
                                  <tr>
                                    <th>dynamic_variability</th>
                                    <td>number</td>
                                    
                                      <td>number of standard deviations - required for DYNAMIC_TOLERANCE</td>
                                    
                                  
                                  <tr>
                                    <th>dynamic_window</th>
                                    <td>string</td>
                                    
                                      <td>valid period for policy - required for DYNAMIC_TOLERANCE</td>
                                    
                                  
                                  <tr>
                                    <th>event_display_type</th>
                                    <td>string</td>
                                    
                                      <td>this is the target event_display_type - required except for RICHNESS policy type</td>
                                    
                                  
                                  <tr>
                                    <th>richness_assertions</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                  <tr>
                                    <th>time_period_seconds</th>
                                    <td>string</td>
                                    
                                      <td>time delta - required for SINCE and PERIOD_OUTSTANDING</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API2' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of compliance policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API3' aria-expanded="true" aria-controls='collapseCompliance_Policies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API3' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span></h4>
                      </div>
                      <h5>Delete a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes a Compliance Policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API3' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API4' aria-expanded="true" aria-controls='collapseCompliance_Policies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API4' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Compliance Policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API4' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:31,href:"https://docs.datatrails.ai/developers/api-reference/events-api/",title:"Events API",description:"Events API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="events-api-examples">Events API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You will need to create an Asset first in order to submit Events against it.
The dependency on Assets is being deprecated.
In a future release, Events will be created independently from Assets.</div>
  </blockquote>
<h3 id="asset-reference">Asset Reference</h3>
<p>Capture the Asset ID by which the events will be associated.
See 
<a href="../assets-api/#fetch-all-assets">Fetch All Assets</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">ASSET_UUID</span><span class="o">=</span>&lt;ASSET_UUID&gt;
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails will soon be moving to an event centric design, removing the need to create and reference Assets to hold your Event collections.</div>
  </blockquote>
<h3 id="event-creation">Event Creation</h3>
<ul>
<li>
<p>Define the Event parameters and store in <code>/tmp/event.json</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; /tmp/event.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;operation&#34;: &#34;Record&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;behaviour&#34;: &#34;RecordEvidence&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;event_attributes&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_type&#34;: &#34;Safety Conformance&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;Safety Rating&#34;: &#34;90&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;inspector&#34;: &#34;Clouseau&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  }
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div></li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> <code>RecordEvidence</code> is the primary, default behavior for creating Events.</div>
  </blockquote>
<ul>
<li>
<p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="p">|</span> jq
</span></span></code></pre></div></li>
<li>
<p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;inspector&#34;</span><span class="p">:</span> <span class="s2">&#34;Clouseau&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Safety Rating&#34;</span><span class="p">:</span> <span class="s2">&#34;90&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:45:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:45:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>To query the events jump to 
<a href="#fetch-events-for-a-specific-asset">Fetch Specific Events by Identity</a></p>
</li>
</ul>
<h3 id="updating-an-asset-attribute">Updating an Asset Attribute</h3>
<p>To update an Asset attribute, record an Event and enter the new value. Here we will update the weight of the cat Asset created in the 
<a href="https://docs.datatrails.ai/developers/api-reference/assets-api/#asset-record-creation" target="_blank" rel="noopener">Assets API reference</a> example.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>   
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>POST the Event to update the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><h3 id="document-profile-event-creation">Document Profile Event Creation</h3>
<p>There are two 
<a href="/developers/developer-patterns/document-profile/">Document Profile Events</a> that are available as part of the document lifecycle. These are to <code>publish</code> a new version and to <code>withdraw</code> the document from use.</p>
<h4 id="publish">Publish</h4>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Publish version 2 of Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Publish&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;George&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;george@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Zippy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;zippy@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Bungle&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;bungle@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;George&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;george@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Zippy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;zippy@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Bungle&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;bungle@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish version 2 of Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;sha256&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T12:55:16Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T12:55:16Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="withdraw">Withdraw</h4>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw the Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdraw the Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T13:08:32Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T13:08:32Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="adding-attachments">Adding Attachments</h3>
<p>The following assumes that an attachment has already been uploaded to DataTrails using the 
<a href="../blobs-api">Blob API</a>.</p>
<p>This attachment uuid is generically referred to as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><p>Each attachment has an associated hash value and the name of the hash algorithm used that you can also get from the Blob API response.</p>
<p>Once you&rsquo;ve uploaded your file, you can use the <code>&quot;arc_attribute_type&quot;: &quot;arc_attachment&quot;</code> key-value pair within a dictionary of blob information to add the attachment to either your Asset or Event.</p>
<p>The following example shows you usage with both the <code>event_attributes</code> and the <code>asset_attributes</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety conformance approved for version 1.6. See attached conformance report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_evidence&#34;</span><span class="p">:</span> <span class="s2">&#34;DVA Conformance Report attached&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;photo.jpg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latest_conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Latest Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset Record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety conformance approved for version 1.6. See attached conformance report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_evidence&#34;</span><span class="p">:</span> <span class="s2">&#34;DVA Conformance Report attached&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latest_conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Latest Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T15:13:21Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T15:15:02Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;0x07569&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="event-record-retrieval">Event Record Retrieval</h3>
<p>Event records in DataTrails are tokenized at creation time and referred to in all future API calls by a permanent unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">assets/<span class="nv">$ASSET_UUID</span>/events/<span class="nv">$EVENT_ID</span>
</span></span></code></pre></div><p>If you do not know the Event’s identity you can fetch Event records using other information you do know.</p>
<h4 id="fetch-all-events">Fetch All Events</h4>
<p>To fetch all Event records, simply <code>GET</code> the Events resources:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-for-a-specific-asset">Fetch Events for a Specific Asset</h4>
<p>If you know the unique identity of the Asset record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/</span><span class="nv">$ASSET_UUID</span><span class="s2">/events?page_size=5&#34;</span>
</span></span></code></pre></div><h4 id="fetch-specific-events-by-identity">Fetch Specific Events by Identity</h4>
<p>If you know the unique identity of the Asset and Event record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivst/v2/assets/</span><span class="nv">$ASSET_UUID</span><span class="s2">/events/&lt;EVENT_UUID&gt;&#34;</span>
</span></span></code></pre></div><h4 id="fetch-event-by-type">Fetch Event by Type</h4>
<p>To fetch all Events of a specific type, <code>GET</code> the Events resource and filter on <code>arc_display_type</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type=Software%20Package%20Release&#34;</span>
</span></span></code></pre></div><h4 id="fetch-event-by-asset-attribute">Fetch Event by Asset Attribute</h4>
<p>To fetch all Events of a specific Asset attribute, <code>GET</code> the Events resource and filter on <code>asset_attributes</code> at the Asset level:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?asset_attributes.document_status=Published&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-by-filtering-for-presence-of-a-field">Fetch Events by Filtering for Presence of a Field</h4>
<p>To fetch all Events with a field set to any value, <code>GET</code> the Events resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type=*&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have <code>arc_display_type</code> that is not empty.</p>
<h4 id="fetch-events-which-are-missing-a-field">Fetch Events Which are Missing a Field</h4>
<p>To fetch all Events with a field which is not set to any value, <code>GET</code> the Events resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type!=*&#34;</span>
</span></span></code></pre></div><p>Returns all Events which do not have <code>arc_display_type</code> or in which <code>arc_display_type</code> is empty.</p>
<h4 id="fetch-events-by-minimum-confirmation-status">Fetch Events by Minimum Confirmation Status</h4>
<p>To fetch all Events with a specified confirmation status or higher, <code>GET</code> the Events resource and filter on <code>minimum_trust</code>.
For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?minimum_trust=COMMITTED&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have a <code>confirmation_status</code> level of COMMITTED, CONFIRMED or UNEQUIVOCAL.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?minimum_trust=CONFIRMED&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have a <code>confirmation_status</code> level of CONFIRMED or UNEQUIVOCAL.</p>
<h2 id="events-openapi-docs">Events OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for asset and event management.</p>
    </div>
      <div class="accordion" id='Assets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API1' aria-expanded="true" aria-controls='collapseAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>List Assets</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Assets</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API1' aria-expanded="true" aria-controls='collapserequestAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Assets exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header if the &lsquo;x-request-total-count&rsquo; header on the request is set to &rsquo;true&rsquo;. The exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;. Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Assets for the given proof mechanism has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Assets.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API2' aria-expanded="true" aria-controls='collapseAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>Create an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Asset</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "proof_mechanism": "MERKLE_LOG",
  "public": false
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviours</th>
                                    <td>array</td>
                                    
                                      <td>list of behaviours enabled for this asset</td>
                                    
                                  
                                  <tr>
                                    <th>chain_id</th>
                                    <td>string</td>
                                    
                                      <td>chain id of the blockchain associated with this asset</td>
                                    
                                  
                                  <tr>
                                    <th>proof_mechanism</th>
                                    <td>string</td>
                                    
                                      <td>specify the mechanism used to provide evidential proof for Events on this Asset</td>
                                    
                                  
                                  <tr>
                                    <th>public</th>
                                    <td>boolean</td>
                                    
                                      <td>Public asset. A public asset and all its events are visible to the general public.Sharing to specific organisations is not available for public assets.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user either has not enabled blockchain storage orthe number of assets would exceed the user&rsquo;s quota</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an Asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API3' aria-expanded="true" aria-controls='collapseAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Event</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API3' aria-expanded="true" aria-controls='collapserequestAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view Event.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API4' aria-expanded="true" aria-controls='collapseAssets_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerAssets_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Event public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Event.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API4' aria-expanded="true" aria-controls='collapserequestAssets_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API5' aria-expanded="true" aria-controls='collapseAssets_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerAssets_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API5' aria-expanded="true" aria-controls='collapserequestAssets_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API6' aria-expanded="true" aria-controls='collapseAssets_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerAssets_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Events</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Events</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API6' aria-expanded="true" aria-controls='collapserequestAssets_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Events exceeds the server&rsquo;s limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Events.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API7' aria-expanded="true" aria-controls='collapseAssets_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerAssets_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>Creates an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Event</p>

                      
                        
                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "behaviour": "RecordEvidence",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "operation": "Record"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of asset attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviour</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>event_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>operation</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>principal_declared</th>
                                    <td></td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>timestamp_declared</th>
                                    <td>string</td>
                                    
                                      <td>time of event as declared by the user</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Events has been reached.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API8'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API8' aria-expanded="true" aria-controls='collapseAssets_API8'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerAssets_API8' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Asset public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Asset.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API8'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API8' aria-expanded="true" aria-controls='collapserequestAssets_API8'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API8' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:32,href:"https://docs.datatrails.ai/developers/api-reference/iam-policies-api/",title:"IAM Policies API",description:"IAM Policies API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="iam-policies-api-examples">IAM Policies API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<p>An 
<a href="/platform/administration/sharing-access-inside-your-tenant/">ABAC</a> policy is used to share permissions with Non-Administrators within your Tenancy. A Non-Administrator could be a user who has been added using the 
<a href="../invites-api/">Invites API</a> or could be an App Registration used for client credentials, which are created as Non-Root by default.</p>
<p>To create an ABAC Policy, you should use the <code>user_attributes</code> keyword. Specify <code>email</code> for invited users, and <code>subject</code>, using the client-id of your credentials, for App Registrations.</p>
<p>You may also set permissions based on the Custom Claims of an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">App Registration</a> using JSON Web Tokens (JWTs). To do so, you must include the prefix <code>jwt_</code> followed by the desired claim as one of the <code>user_attributes</code> in the policy. For example, the key <code>jwt_app_reg_role</code> to match on claim <code>app_reg_role</code>.</p>
<p>An 
<a href="/platform/administration/sharing-access-outside-your-tenant/">OBAC</a> policy is used to share with the Administrators of an external organization.</p>
<p>To begin sharing with OBAC, you must first import your collaborator&rsquo;s Organization ID using either the 
<a href="../iam-subjects-api/">IAM Subjects API</a> or the instructions in the 
<a href="/platform/administration/sharing-assets-with-obac/#importing-another-organizations-ids">administration section</a>.</p>
<p>This will return a <code>subjects/&lt;UUID&gt;</code> object you would then specify with the <code>subjects</code> keyword to make it an OBAC Policy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To accept a Subject import request, both organizations must have imported the other&rsquo;s Subject ID. This acknowledges that the organizations wish to share with each other.</div>
  </blockquote>
<p>As both ABAC and OBAC use the same filter syntax, it is possible to have a mix of internal and external sharing within a single policy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Learn more about 
<a href="/platform/administration/sharing-access-inside-your-tenant/">ABAC</a> and 
<a href="/platform/administration/sharing-access-outside-your-tenant/">OBAC</a> policies in our DataTrails Basics guides.</div>
  </blockquote>
<h3 id="iam-policy-creation">IAM Policy Creation</h3>
<p>The following example shows how you can mix the <code>user_attributes</code> keyword for ABAC and <code>subjects</code> keyword for OBAC.</p>
<p>Define the access_policies parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Create the Access Policy:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
<h3 id="iam-policy-retrieval">IAM Policy Retrieval</h3>
<p>IAM Access Policy records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">access_policies/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Access Policy ID you can fetch IAM Access Policy records using other information you do know, such as the Access Policy name.</p>
<h4 id="fetch-all-iam-access_policies-v1">Fetch all IAM access_policies (v1)</h4>
<p>To fetch all IAM <code>access_policies</code> records, simply <code>GET</code> the <code>iam/access_policies</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div><h4 id="fetch-specific-iam-access-policy-by-identity-v1">Fetch specific IAM access Policy by identity (v1)</h4>
<p>If you know the unique identity of the IAM access policy Record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><h4 id="fetch-iam-access-policies-by-name-v1">Fetch IAM Access Policies by name (v1)</h4>
<p>To fetch all IAM <code>access_policies</code> with a specific name, <code>GET</code> the <code>iam/access_policies</code> resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/access_policies?display_name=Some%20description&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM Access Policies records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_policies&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Name to display&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_display_type=door_access_reader&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-policy-deletion">IAM Policy Deletion</h3>
<p>To delete an IAM Access Policy, issue following request:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{}</span>
</span></span></code></pre></div><h3 id="iam-policy-update">IAM Policy Update</h3>
<p>Define the Access Policy parameters to be changed and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the Access Policy:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="matching-assets-with-iam-policies">Matching Assets with IAM Policies</h3>
<p>IAM Access Policy records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">access_policies/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Access Policy ID you can fetch IAM Access Policy records using other information you do know, such as the Access Policy name.</p>
<h4 id="fetch-all-assets-matching-specific-iam-access-policy-v1">Fetch all Assets Matching Specific IAM Access Policy (v1)</h4>
<p>If you know the unique identity of the IAM Access Policy Record simply GET the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies/6a951b62-0a26-4c22-a886-1082297b063b/assets
</span></span></code></pre></div><p>Each of these calls returns a list of matching Asset records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Pump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_firmware_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/866790d8-4ed6-4cc9-8f60-07672609b331&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;vtl-x4-07&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Pump at A603 North East&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;tcl.ccj.003&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;value&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/1754b920-cf20-4d7e-9d36-9ed7d479744d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;somepic.jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="fetch-all-iam-access_policies-matching-specific-asset-v1">Fetch all IAM access_policies Matching Specific Asset (v1)</h4>
<p>If you know the unique identity of the Asset Record simply GET matching policies:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/assets/6a951b62-0a26-4c22-a886-1082297b063b/access_policies
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM <code>access_policies</code> records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_policies&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>  <span class="s2">&#34;RecordEvidence&#34;</span>  <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_display_type=door_access_reader&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="iam-policies-openapi-docs">IAM Policies OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Access Management AccessPolicies.</p>
    </div>
      <div class="accordion" id='IAMAccessPolicies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API1' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span></h4>
                      </div>
                      <h5>List access policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of access_policies</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API1' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_policies": [
    {
      "access_permissions": [
        {
          "asset_attributes_read": [
            "attribute1",
            "attribute2"
          ],
          "behaviours": [
            "behaviour1",
            "behaviour2"
          ],
          "subjects": [
            "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
            "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
          ],
          "user_attributes": [
            {
              "or": [
                "group:maintainers",
                "group:supervisors"
              ]
            }
          ]
        }
      ],
      "display_name": "Some description",
      "filters": [
        {
          "or": [
            "location=basingstoke",
            "location=cambridge"
          ]
        },
        {
          "or": [
            "asset_type=door_access_reader"
          ]
        }
      ],
      "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
    }
  ],
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes an Access Policy for OBAC</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span></h4>
                      </div>
                      <h5>Create an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: This request creates a new access policy. The display_name is the friendly name.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestIAMAccessPolicies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestIAMAccessPolicies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "Customers description for the policy",
  "display_name": "Customers name for the policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>access_permissions</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Permissions</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Customer description for the access policy.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the access policy.</td>
                                    
                                  
                                  <tr>
                                    <th>filters</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of access policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an access policy.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API3' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API3' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Delete an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified access policy</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API4' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API4' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Get an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified access policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API4' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API5' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API5' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Update a access policy details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified access policy</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API5' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API6' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API6' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}/assets</span></h4>
                      </div>
                      <h5>Returns assets matching access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns assets matching access policy</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API6' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Assets AccessPolicies.</p>
    </div>
      <div class="accordion" id='IAMAssets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAssets_API1' aria-expanded="true" aria-controls='collapseIAMAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/assets/archivist/iam/v1/assets/{uuid}/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/assets/archivist/iam/v1/assets/{uuid}/access_policies</span></h4>
                      </div>
                      <h5>Get matching access policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Get matching access policies for specified asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAssets_API1' aria-expanded="true" aria-controls='collapserequestIAMAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_policies": [
    {
      "access_permissions": [
        {
          "asset_attributes_read": [
            "attribute1",
            "attribute2"
          ],
          "behaviours": [
            "behaviour1",
            "behaviour2"
          ],
          "subjects": [
            "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
            "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
          ],
          "user_attributes": [
            {
              "or": [
                "group:maintainers",
                "group:supervisors"
              ]
            }
          ]
        }
      ],
      "display_name": "Some description",
      "filters": [
        {
          "or": [
            "location=basingstoke",
            "location=cambridge"
          ]
        },
        {
          "or": [
            "asset_type=door_access_reader"
          ]
        }
      ],
      "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
    }
  ],
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes an Access Policy for OBAC</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:33,href:"https://docs.datatrails.ai/developers/api-reference/iam-subjects-api/",title:"IAM Subjects API",description:"IAM Subjects API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="iam-subjects-api-examples">IAM Subjects API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="iam-subjects-creation">IAM Subjects Creation</h3>
<p>Define the Subject parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The values for <code>wallet_pub_key</code> and <code>tessera_pub_key</code> are found by decoding the Subject string that is provided by the Tenancy Administrator of the other organization. See the JSON tab 
<a href="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/" target="_blank" rel="noopener">here</a> for more detail.</div>
  </blockquote>
<p>Create the IAM Subject:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subjects-retrieval">IAM Subjects Retrieval</h3>
<p>IAM Subject records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">subjects/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Subjects’s identity you can fetch IAM Subject records using other information you do know, such as the Subject’s name.</p>
<h4 id="fetch-all-iam-subjects-v1">Fetch all IAM Subjects (v1)</h4>
<p>To fetch all IAM Subjects records, simply <code>GET</code> the <code>/subjects</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div><h4 id="fetch-specific-iam-subject-by-identity-v1">Fetch specific IAM Subject by identity (v1)</h4>
<p>If you know the unique identity of the IAM Subject record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><h4 id="fetch-iam-subjects-by-name-v1">Fetch IAM Subjects by Name (v1)</h4>
<p>To fetch all IAM subjects with a specific name, <code>GET</code> the <code>/subjects</code> resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/subjects?display_name=Acme&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM Subjects records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key5&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address5&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key7&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subject-deletion">IAM Subject Deletion</h3>
<p>To delete an IAM Subject, issue the following request:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is <code>{}</code>.</p>
<h3 id="iam-subject-update">IAM Subject Update</h3>
<p>Define the Subject parameters to be changed and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the IAM Subject:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key3&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subject-self-entry">IAM Subject Self Entry</h3>
<p>There is an immutable entry in the Subjects API called <code>Self</code> that contains the keys for the hosting organization of the DataTrails Tenant.</p>
<p>This entry cannot be deleted or updated.</p>
<p>This special identity is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">subjects/00000000-0000-0000-0000-000000000000
</span></span></code></pre></div><h4 id="fetch-self-iam-subject-by-identity-v1">Fetch Self IAM Subject by Identity (v1)</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects/00000000-0000-0000-0000-000000000000
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/00000000-0000-0000-0000-000000000000&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key3&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><h2 id="iam-subjects-openapi-docs">IAM Subjects OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Access Management Subjects.</p>
    </div>
      <div class="accordion" id='IAMSubjects_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API1' aria-expanded="true" aria-controls='collapseIAMSubjects_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span></h4>
                      </div>
                      <h5>List subjects</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of subjects</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API1' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "subjects": [
    {
      "confirmation_status": "PENDING",
      "display_name": "Some description",
      "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
      "tessera_pub_key": [
        "key3"
      ],
      "wallet_pub_key": [
        "key1"
      ]
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>subjects</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes Organization including wallet addresses and public keys used to create assets and events.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the subject.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API2' aria-expanded="true" aria-controls='collapseIAMSubjects_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span></h4>
                      </div>
                      <h5>Create an subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: This request creates a new subject. The display_name is the friendly name.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestIAMSubjects_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestIAMSubjects_API2' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestIAMSubjects_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "Some description",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the subject.</td>
                                    
                                  
                                  <tr>
                                    <th>tessera_pub_key</th>
                                    <td>array</td>
                                    
                                      <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                    
                                  
                                  <tr>
                                    <th>wallet_pub_key</th>
                                    <td>array</td>
                                    
                                      <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API2' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a subject.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API3' aria-expanded="true" aria-controls='collapseIAMSubjects_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API3' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Delete a subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified subject</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified laccess policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API4' aria-expanded="true" aria-controls='collapseIAMSubjects_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API4' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Get an subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified subject</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API4' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified subject does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API5' aria-expanded="true" aria-controls='collapseIAMSubjects_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API5' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Update a subject&#39;s details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified subject</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API5' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified subject does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:34,href:"https://docs.datatrails.ai/developers/developer-patterns/scitt-api/",title:"Quickstart: SCITT Statements (Preview)",description:"Getting Started with SCITT: creating a collection of statements  (Preview)",content:`<blockquote class="caution callout">
    <div><strong></strong> The SCITT API is currently in preview and subject to change</div>
  </blockquote>
<p>The <strong>S</strong>upply <strong>C</strong>hain <strong>I</strong>ntegrity, <strong>T</strong>ransparency and <strong>T</strong>rust (SCITT) initiative is a set of 
<a href="https://datatracker.ietf.org/group/scitt/documents/" target="_blank" rel="noopener">IETF standards</a> for managing the compliance and auditability of goods and services across end-to-end supply chains.
SCITT supports the ongoing verification of goods and services where the authenticity of entities, evidence, policy, and artifacts can be assured and the actions of entities can be guaranteed to be authorized, non-repudiable, immutable, and auditable.</p>
<p>To assure insights to supply chain artifacts are current, the SCITT APIs provide a correlation of statements, allowing verifiers to view a full history of statements.
This includes previously registered statements, and newly registered statements providing the most up to date insights.</p>
<p>This quickstart will:</p>
<ol>
<li>create, or use an existing a key to sign a collection of statements about an artifact</li>
<li>create and register a statement for an artifact</li>
<li>query a collection of statements about the artifact</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>
<a href="https://app.datatrails.ai/signup" target="_blank" rel="noopener">A DataTrails subscription</a> with a 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">Token</a> for API access</li>
<li>
<a href="#datatrails-sample-code">DataTrails sample code</a></li>
<li>
<a href="https://www.python.org/downloads/" target="_blank" rel="noopener">Python</a> to run the samples</li>
<li>
<a href="#environment-configuration">Environment Configuration</a></li>
</ul>
<h3 id="datatrails-sample-code">DataTrails Sample Code</h3>
<p>The Quickstart uses existing samples and scripts to focus on the SCITT APIs.</p>
<p>Clone the 
<a href="https://github.com/datatrails/datatrails-scitt-samples" target="_blank" rel="noopener">DataTrails SCITT Examples</a> repository to copy those files to your environment.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/datatrails/datatrails-scitt-samples.git <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="nb">cd</span> datatrails-scitt-samples
</span></span></code></pre></div><h2 id="environment-configuration">Environment Configuration</h2>
<ol>
<li>
<p>Create a Python Virtual Environment for the sample scripts and install the dependencies</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python -m  venv venv <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="nb">source</span> venv/bin/activate <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>pip install --upgrade pip <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>pip install -r requirements.txt
</span></span></code></pre></div></li>
<li>
<p>To ease copying and pasting commands, update any variables to fit your environment</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># your identity</span>
</span></span><span class="line"><span class="cl"><span class="nv">ISSUER</span><span class="o">=</span><span class="s2">&#34;sample.synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># signing key to sign the SCITT Statements</span>
</span></span><span class="line"><span class="cl"><span class="nv">SIGNING_KEY</span><span class="o">=</span><span class="s2">&#34;my-signing-key.pem&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># File representing the signed statement to be registered</span>
</span></span><span class="line"><span class="cl"><span class="nv">SIGNED_STATEMENT_FILE</span><span class="o">=</span><span class="s2">&#34;signed-statement.cbor&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># File representing the transparent statement, which includes the signed statement and the registration receipt</span>
</span></span><span class="line"><span class="cl"><span class="nv">TRANSPARENT_STATEMENT_FILE</span><span class="o">=</span><span class="s2">&#34;transparent-statement.cbor&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Subject is a property used to correlate a collection of statements about an artifact</span>
</span></span><span class="line"><span class="cl"><span class="nv">SUBJECT</span><span class="o">=</span><span class="s2">&#34;my-product-id&#34;</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="create-a-signing-key">Create a Signing Key</h2>
<blockquote class="note callout">
    <div><strong></strong> If you already have a signing key, skip ahead to 
<a href="#generating-a-payload">Generating a Payload</a></div>
  </blockquote>
<p>For the Quickstart, create a testing key which DataTrails will cryptographically validate upon registration</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">openssl ecparam -name prime256v1 -genkey -out <span class="nv">$SIGNING_KEY</span>
</span></span></code></pre></div><h2 id="generate-a-payload">Generate a Payload</h2>
<p>Create any payload you wish to register on DataTrails.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; payload.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;author&#34;: &#34;fred&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;title&#34;: &#34;my biography&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;reviews&#34;: &#34;mixed&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div><h2 id="create-a-cose-signed-statement">Create a COSE Signed Statement</h2>
<p>Create a COSE Signed Statement, hashing the content of the <code>payload.json</code> file.
The payload may already be stored in another storage/package manager, which can be referenced with the <code>--location-hint</code> parameter.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/create_hashed_signed_statement.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --content-type <span class="s2">&#34;application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --issuer <span class="nv">$ISSUER</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --payload-file payload.json <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --payload-location <span class="s2">&#34;https://storage.example/</span><span class="nv">$SUBJECT</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --signing-key-file <span class="nv">$SIGNING_KEY</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --subject <span class="nv">$SUBJECT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --output-file <span class="nv">$SIGNED_STATEMENT_FILE</span>
</span></span></code></pre></div><h2 id="register-the-scitt-statement-on-datatrails">Register the SCITT Statement on DataTrails</h2>
<ol>
<li>
<p>Submit the Signed Statement to DataTrails, using the credentials in the <code>DATATRAILS_CLIENT_ID</code> and <code>DATATRAILS_CLIENT_SECRET</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/register_signed_statement.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --signed-statement-file signed-statement.cbor <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --output-file <span class="nv">$TRANSPARENT_STATEMENT_FILE</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --log-level INFO
</span></span></code></pre></div></li>
<li>
<p>View the Transparent Statement, as a result of registering the Signed Statement</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/dump_cbor.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --input transparent-statement.cbor
</span></span></code></pre></div></li>
<li>
<p>Verify the signature of the receipt</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/verify_receipt_signature.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --transparent-statement-file <span class="nv">$TRANSPARENT_STATEMENT_FILE</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="retrieve-statements-for-the-artifact">Retrieve Statements for the Artifact</h2>
<p>The power of SCITT is the ability to retrieve the history of statements made for a given artifact.
By querying the series of statements, consumers can verify who did what and when for a given artifact.</p>
<ol>
<li>
<p>Query DataTrails for the collection of statements</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H @<span class="nv">$HOME</span>/.datatrails/bearer-token.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/archivist/v2/publicassets/-/events?event_attributes.subject<span class="o">=</span><span class="nv">$SUBJECT</span> <span class="p">|</span> jq
</span></span></code></pre></div></li>
</ol>
<blockquote class="note callout">
    <div><strong></strong> Coming soon: Filter on specific content types, such as what SBOMs have been registered, or which issuers have made statements.</div>
  </blockquote>
<h2 id="summary">Summary</h2>
<p>The quickstart created a collection of statements for a given artifact.
Over time, as new information is available, authors can publish new statements which verifiers and consumers can benefit from, making decisions specific to their environment.</p>
<p>There are no limits to the types of additional statements that may be registered, which may include new vulnerability information, notifications of new versions, end of life (EOL) notifications, or more.
By using the content-type parameter, verifiers can filter to specific types, filter statements by the issuer, or other headers &amp; metadata.</p>
<p>For more information:</p>
<!-- - [DataTrails SCITT API Reference](TBD) -->
<ul>
<li>
<a href="SCITT.io">SCITT.io</a></li>
</ul>
`},{id:35,href:"https://docs.datatrails.ai/developers/api-reference/locations-api/",title:"Locations API",description:"Locations API Reference",content:`<p><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> See 
<a href="/platform/administration/grouping-assets-by-location/">DataTrails Administration</a> for additional information on creating and using locations with DataTrails.</div>
  </blockquote></p>
<h2 id="locations-api-examples">Locations API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="location-creation">Location Creation</h3>
<p>Define the location parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">53.2546799</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.1213956</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Unit 6A, Synsation Park, Maccelsfield&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Create the location to POSTing to the locations resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">53.2546799</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.1213956</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Bridgewater, Somerset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="location-retrieval">Location Retrieval</h3>
<h4 id="fetch-all-locations">Fetch All Locations</h4>
<p>To fetch all locations, simply <code>GET</code> the locations resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div><h4 id="fetch-specific-location-by-identity">Fetch Specific Location by Identity</h4>
<p>If you know the unique identity of the location record, simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h4 id="fetch-location-by-name">Fetch Location by Name</h4>
<p>To fetch all locations with a specific name, <code>GET</code> the Assets resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/locations?display_name=Macclesfield%2C%20Cheshire&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching Asset records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;locations&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="s2">&#34;53.2546799&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="s2">&#34;-2.1213956,14.54&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Bridgewater, Somerset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="locations-openapi-docs">Locations OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage locations.</p>
    </div>
      <div class="accordion" id='Locations_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API1' aria-expanded="true" aria-controls='collapseLocations_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API1' class="accordion-collapse collapse" aria-labelledby='headerLocations_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations</span></h4>
                      </div>
                      <h5>List locations</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of locations</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API1' aria-expanded="true" aria-controls='collapserequestLocations_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "locations": [
    {
      "attributes": {
        "Facility Type": "Manufacture",
        "address": "Bridgewater, Somerset",
        "director": "John Smith",
        "support_email": "support@macclesfield.com",
        "support_phone": "123 456 789"
      },
      "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
      "display_name": "Macclesfield, Cheshire",
      "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
      "latitude": 53.2546799,
      "longitude": -2.1213956
    },
    {
      "attributes": {
        "Facility Type": "Distribution",
        "address": "Newtown",
        "director": "June Smith",
        "support_email": "support@example.com",
        "support_phone": "321 654 987"
      },
      "description": "Distribution Centre, Wales, Cardiff, Glamorganshire",
      "display_name": "Cardiff, Glamorganshire",
      "identity": "locations/19749457-d468-572c-6e3b-3acb0417ec13",
      "latitude": 51.481583,
      "longitude": -3.17909
    }
  ],
  "next_page_token": "eyJvcmlnX3JlcSI6eyJwYWdlX3NpemUiOjJ9LCJza2lwIjoyfQ=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>locations</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a location for asset resources</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the location.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API2' aria-expanded="true" aria-controls='collapseLocations_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerLocations_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations</span></h4>
                      </div>
                      <h5>Create a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Create a new location.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestLocations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestLocations_API2' aria-expanded="true" aria-controls='collapserequestLocations_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestLocations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of location properties</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Free text description of the location</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the location.</td>
                                    
                                  
                                  <tr>
                                    <th>latitude</th>
                                    <td>number</td>
                                    
                                      <td>Latitude in decimal degrees format.</td>
                                    
                                  
                                  <tr>
                                    <th>longitude</th>
                                    <td>number</td>
                                    
                                      <td>longitude in decimal degrees format.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API2' aria-expanded="true" aria-controls='collapserequestLocations_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of locations policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a location.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API3' aria-expanded="true" aria-controls='collapseLocations_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API3' class="accordion-collapse collapse" aria-labelledby='headerLocations_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Delete a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified location</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API4' aria-expanded="true" aria-controls='collapseLocations_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API4' class="accordion-collapse collapse" aria-labelledby='headerLocations_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Get a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified location</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API4' aria-expanded="true" aria-controls='collapserequestLocations_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API5' aria-expanded="true" aria-controls='collapseLocations_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API5' class="accordion-collapse collapse" aria-labelledby='headerLocations_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Update a location&#39;s details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified location</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API5' aria-expanded="true" aria-controls='collapserequestLocations_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API6' aria-expanded="true" aria-controls='collapseLocations_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API6' class="accordion-collapse collapse" aria-labelledby='headerLocations_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span></h4>
                      </div>
                      <h5>Get location permissions</h5>
                      <p><a href=""></a></p>
                      <p>Description: Get location permissions for identified location</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API6' aria-expanded="true" aria-controls='collapserequestLocations_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "location_identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "permissions": {
    "subject_identities": [
      "bob@example.com",
      "orgb"
    ]
  }
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>location_identity</th>
                                  <td>string</td>
                                  
                                    <td>The location identity in the form: <code>locations/{uuid}</code></td>
                                  
                                
                                <tr>
                                  <th>permissions</th>
                                  <td></td>
                                  
                                    <td>Subject identities this location is shared with</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list permissions for the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API7' aria-expanded="true" aria-controls='collapseLocations_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API7' class="accordion-collapse collapse" aria-labelledby='headerLocations_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span></h4>
                      </div>
                      <h5>Patch location permissions</h5>
                      <p><a href=""></a></p>
                      <p>Description: Patch location permissions for identified location</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API7' aria-expanded="true" aria-controls='collapserequestLocations_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "location_identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "permissions": {
    "subject_identities": [
      "bob@example.com",
      "orgb"
    ]
  }
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>location_identity</th>
                                  <td>string</td>
                                  
                                    <td>The location identity in the form: <code>locations/{uuid}</code></td>
                                  
                                
                                <tr>
                                  <th>permissions</th>
                                  <td></td>
                                  
                                    <td>Subject identities this location is shared with</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access permissions for the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:36,href:"https://docs.datatrails.ai/developers/api-reference/public-assets-api/",title:"Public Assets API",description:"Public Assets API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="public-assets-api-examples">Public Assets API Examples</h2>
<p>Public Assets are created using the 
<a href="../assets-api/">Assets API</a> and setting the value of <code>public</code> to <code>true</code>.</p>
<p>To see more information about creating a Public Asset, see 
<a href="../assets-api/#creating-a-public-asset">Creating a Public Asset</a>.</p>
<p>Each Public Asset has a private and a public interface. The private interface is used to update the Asset by the creating Tenancy and the public interface is a read-only view of the Asset that you do not need to be authenticated for.</p>
<p>The methods described below cover interacting with the public interface only. To interact with the private interface, use the standard 
<a href="../assets-api/">Assets API</a>.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Visit the 
<a href="/platform/overview/public-attestation/">Public Attestation</a> guide for more information.</div>
  </blockquote>
<h3 id="fetch-a-public-asset-record">Fetch a Public Asset Record</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span> <span class="s2">&#34;AssetCreator&#34;</span><span class="p">]</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;foo&#34;</span><span class="p">:</span> <span class="s2">&#34;bar&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This asset is public&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Public Asset&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-15T14:26:40Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="fetch-all-of-a-public-assets-events-records">Fetch All Of a Public Asset&rsquo;s Events Records</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4/events
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;events&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/083f90fb-c379-40db-b56a-190564d53cd5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Change&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24.681514884Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/10d252f2-3116-4c22-b34a-7e3f768895c9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_always_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;tessera&#34;</span><span class="p">:</span> <span class="s2">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;wallet&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;0x4609ea6bbe85F61bc64760273ce6D89A632B569f&#34;</span><span class="p">:</span> <span class="s2">&#34;wallet&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">:</span> <span class="s2">&#34;tessera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;*&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">:</span> <span class="s2">&#34;tessera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;*&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;0x4609ea6bbe85F61bc64760273ce6D89A632B569f&#34;</span><span class="p">:</span> <span class="s2">&#34;wallet&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;foo&#34;</span><span class="p">:</span> <span class="s2">&#34;bar&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This asset is public&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Public Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Asset&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;NewAsset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:34Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:34Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:35.143791572Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="fetch-a-public-assets-specific-event-record">Fetch a Public Asset&rsquo;s Specific Event Record</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4/events/7da272ad-19d5-4106-b4af-2980a84c2721
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/083f90fb-c379-40db-b56a-190564d53cd5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Change&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24.681514884Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="public-assets-openapi-docs">Public Assets OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for public asset and event management.</p>
    </div>
      <div class="accordion" id='PublicAssets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API1' aria-expanded="true" aria-controls='collapsePublicAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves Archivist event for public asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Archivist event for a public asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API1' aria-expanded="true" aria-controls='collapserequestPublicAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>publicassets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API2' aria-expanded="true" aria-controls='collapsePublicAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves a specific public Archivist asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific public Archivist asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API2' aria-expanded="true" aria-controls='collapserequestPublicAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policy</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of behaviour to private for keys</td>
                                  
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>publicassets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>404</th><td>Returned when the no asset with the provided id can be found.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API3' aria-expanded="true" aria-controls='collapsePublicAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Archivist events for a public asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Archivist events for a public asset</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API3' aria-expanded="true" aria-controls='collapserequestPublicAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "publicassets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "publicassets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of events exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:37,href:"https://docs.datatrails.ai/developers/api-reference/tenancies-api/",title:"Tenancies API",description:"Tenancies API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="tenancies-api-examples">Tenancies API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="retrieve-the-current-list-of-administrators">Retrieve the Current List of Administrators</h3>
<p>To fetch the list of Administrators, simply <code>GET</code> the <code>tenancies/root_principals</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v1/tenancies/root_principals
</span></span></code></pre></div><h3 id="update-the-list-of-administrators">Update the List of Administrators</h3>
<p>Define the update parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;administrators&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://login.microsoftonline.com/5c129635-5858-4fe3-9bef-444f6c7ee1cf/v2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;58589bef-4fe3-9a3b-23df-8527bc45e1cf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Jane Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;email&#34;</span><span class="p">:</span>  <span class="s2">&#34;jane.smith@synsation.org&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="p">},</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://login.microsoftonline.com/5c129635-5858-4fe3-9bef-444f6c7ee1cf/v2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;27bc5b4f-9a3b-4fe3-23df-e1c7bc45e1cf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Nate Rogers&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;email&#34;</span><span class="p">:</span>  <span class="s2">&#34;nate.rogers@synsation.org&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the Administrators by PATCHing the <code>tenancies/root_principals</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/tenancies/root_principals
</span></span></code></pre></div><h2 id="tenancies-openapi-docs">Tenancies OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage tenancies</p>
    </div>
      <div class="accordion" id='Tenancies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API1' aria-expanded="true" aria-controls='collapseTenancies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API1' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span></h4>
                      </div>
                      <h5>Fetch the current list of tenant root user principals</h5>
                      <p><a href=""></a></p>
                      <p>Description: Fetch the current list of tenant root user principals.</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API1' aria-expanded="true" aria-controls='collapserequestTenancies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>root_principals</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the root principals.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API2' aria-expanded="true" aria-controls='collapseTenancies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span></h4>
                      </div>
                      <h5>Update the list of tenant root user principals</h5>
                      <p><a href=""></a></p>
                      <p>Description: Replace the list of tenant root user principals.  Note that you are not able to remove yourself from the list.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestTenancies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestTenancies_API2' aria-expanded="true" aria-controls='collapserequestTenancies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestTenancies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>root_principals</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API2' aria-expanded="true" aria-controls='collapserequestTenancies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>root_principals</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.  Including, but not limited to, attempting to remove yourself as a root uesr principal.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the root principals.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API3' aria-expanded="true" aria-controls='collapseTenancies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/self</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API3' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/self</span></h4>
                      </div>
                      <h5>Get tenant record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns an administrator&rsquo;s view of tenant for which they&rsquo;re authenticated</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API3' aria-expanded="true" aria-controls='collapserequestTenancies_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "My First Tenancy",
  "enterprise_sso_config": {
    "client_id": "foo",
    "client_secret": "",
    "config_url": "foo",
    "issuer": "foo",
    "policy_id": "foo"
  },
  "enterprise_sso_enabled": true,
  "identity": "tenant/08838336-c357-460d-902a-3aba9528dd22",
  "verified_domain": "foo.com"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the tenant.</td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_config</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_enabled</th>
                                  <td>boolean</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>tenant identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Supplied parameters were invalid</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to retrieve the tenant id.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API4' aria-expanded="true" aria-controls='collapseTenancies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/self</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API4' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/self</span></h4>
                      </div>
                      <h5>Update tenant record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Enables a root principal of the tenant to update the tenant record.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API4' aria-expanded="true" aria-controls='collapserequestTenancies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "My First Tenancy",
  "enterprise_sso_config": {
    "client_id": "foo",
    "client_secret": "",
    "config_url": "foo",
    "issuer": "foo",
    "policy_id": "foo"
  },
  "enterprise_sso_enabled": true,
  "identity": "tenant/08838336-c357-460d-902a-3aba9528dd22",
  "verified_domain": "foo.com"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the tenant.</td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_config</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_enabled</th>
                                  <td>boolean</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>tenant identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to perform this action.</td>
                          
                            <tr><th>404</th><td>Returned when the referenced tenant does not exist.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API5' aria-expanded="true" aria-controls='collapseTenancies_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/users</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API5' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/users</span></h4>
                      </div>
                      <h5>List Users</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a list of Users active in or invited to the tenant.</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API5' aria-expanded="true" aria-controls='collapserequestTenancies_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "users": [
    {
      "email": "frank123@example.com",
      "identity": "users/87d349ed-44d7-43e1-9a83-5f2406dee5bd",
      "issuer": "frank@example.com",
      "subject": "franky123",
      "user_status": "ACTIVE"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>users</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>User Data</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the users.</td>
                          
                            <tr><th>404</th><td>Returned when the identified users don&rsquo;t exist.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API6' aria-expanded="true" aria-controls='collapseTenancies_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/users/{user_uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API6' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/users/{user_uuid}</span></h4>
                      </div>
                      <h5>Deletes User</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes a User from the tenancy.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API6' aria-expanded="true" aria-controls='collapserequestTenancies_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "email": "frank123@example.com",
  "identity": "users/87d349ed-44d7-43e1-9a83-5f2406dee5bd",
  "issuer": "frank@example.com",
  "subject": "franky123",
  "user_status": "ACTIVE"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>displayName</th>
                                  <td>string</td>
                                  
                                    <td>display name for the user</td>
                                  
                                
                                <tr>
                                  <th>email</th>
                                  <td>string</td>
                                  
                                    <td>User email.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>user identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>optional issuer of the principal identity. Where the issuer is not provided the subject is treated as a free string</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>unique identifier of the principal (within issuer context)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the user.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API7' aria-expanded="true" aria-controls='collapseTenancies_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/{uuid}:publicinfo</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API7' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/{uuid}:publicinfo</span></h4>
                      </div>
                      <h5>Public Tenant Information.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Return the publically avaialble tenant information.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API7' aria-expanded="true" aria-controls='collapserequestTenancies_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "identity": "tenant/add30235-1424-4fda-840a-d5ef82c4c96f",
  "verified_domain": "exampleltd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>Simple API for User Management</p>
    </div>
      <div class="accordion" id='UserManagement_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerUserManagement_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseUserManagement_API1' aria-expanded="true" aria-controls='collapseUserManagement_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/users/archivist/v1/users/tenants</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseUserManagement_API1' class="accordion-collapse collapse" aria-labelledby='headerUserManagement_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/users/archivist/v1/users/tenants</span></h4>
                      </div>
                      <h5>List User Tenants</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a list of tenancies the user has access to.</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseUserManagement_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseUserManagement_API1' aria-expanded="true" aria-controls='collapserequestUserManagement_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseUserManagement_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseUserManagement_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "tenants": [
    {
      "display_name": "Bobs Tenancy",
      "identity": "tenant/01038663-c357-470d-912a-3abc9528dd21"
    },
    {
      "display_name": "Alices Tenancy",
      "identity": "tenant/12149552-f258-430d-922b-4bcd8413ee30"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>tenants</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Tenant information for a user.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the user.</td>
                          
                            <tr><th>404</th><td>Returned when the identified user don&rsquo;t exist.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:38,href:"https://docs.datatrails.ai/developers/yaml-reference/story-runner-components/",title:"YAML Runner Components",description:"Common Keys Used for the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<table>
<thead>
<tr>
<th><strong>Key</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>action</strong></td>
<td>Required for every operation, the action specifies what function will be performed.</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td>Optional string that describes what the step is doing. For example, &ldquo;Create the Asset My First Container&rdquo;.</td>
</tr>
<tr>
<td><strong>asset_label</strong></td>
<td>For a series of steps run as one file, the Asset label could be a friendly name used by later steps to refer back to an Asset created in a previous step. If the Asset already exists, this field may be used to reference the Asset ID in the form <code>assets/&lt;asset-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>location_label</strong></td>
<td>For a series of steps run as one file, the location label could be a friendly name used by later steps to refer back to a location created in a previous step. If the location already exists, this field may be used to reference the Location ID in the form <code>locations/&lt;location-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>subject_label</strong></td>
<td>For a series of steps run as one file, the Subject label could be a friendly name used by later steps to refer back to a Subject created in a previous step. If the Subject already exists, this field may be used to reference the Subject ID in the form <code>subjects/&lt;subject-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>print_response</strong></td>
<td>Specifying this field as true emits a JSON representation of the response, useful for debugging purposes.</td>
</tr>
<tr>
<td><strong>wait_time</strong></td>
<td>Optional field specifying a number of seconds the story runner will pause before executing the next step. Useful for demonstration and/or testing Compliance Policies.</td>
</tr>
</tbody>
</table>
<p>Each step of the YAML Runner follows the same general pattern:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wait_time</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Radiation bag 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">location_label</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">...definition of request body and other parameters</span><span class="w">
</span></span></span></code></pre></div><p>Depending on the action, some fields are required but others are optional. We will discuss each action in further detail in the upcoming sections.</p>
<p>Once you have created a YAML file with your desired steps, run the file using the <code>archivist_runner</code> command to execute the actions you defined. The command follows this format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div>`},{id:39,href:"https://docs.datatrails.ai/developers/yaml-reference/assets/",title:"Assets YAML Runner",description:"Asset Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="assets-create">Assets Create</h2>
<p>Adding an <code>asset_label</code> allows your Asset to be referenced in later steps of the story. For example, if you want to add a Compliance Policy for the Asset after it is created.</p>
<p>The <code>arc_namespace</code> (for the Asset) and the <code>namespace</code> (for the location) are used to distinguish between Assets and Locations created between runs of the story. Usually, these field values are derived from an environment variable <code>ARCHIVIST_NAMESPACE</code> (default value is namespace).</p>
<p>The optional <code>confirm: true</code> entry means that the YAML Runner will wait for the Asset to be committed before moving on to the next step. This is beneficial if the Asset will be referenced in later steps.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ev_pump</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;true&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The output of this action is available in the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">DataTrails UI</a>:</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetsCreate" img class="img-fluid responsive" src="/developers/yaml-reference/assets/AssetsCreate.png" width="1203" height="599" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" src="/developers/yaml-reference/assets/AssetsCreate.png" width="1203" height="599" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>ASSETS_CREATE Output</em></figcaption>
</figure>





<div class="modal fade" id="AssetsCreate" tabindex="-1" aria-labelledby="AssetsCreate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" width="1203" height="599" alt="Rectangle">
      </div>
  
  </div>
</div>
<h2 id="assets-create-if-not-exists">Assets Create If Not Exists</h2>
<p>This action is similar to <code>ASSETS_CREATE</code>, with the additional functionality of checking if an Asset with the same identifier exists before executing the creation of a new one.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ev_pump</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;true&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><h2 id="assets-list">Assets List</h2>
<p>This action returns a list of all Assets that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>In the example below, our action will return a list of all Assets with <code>arc_display_type: pump</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all pumps</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span></code></pre></div><p>The response printed was ev pump 1, the Asset created in the <code>Assets Create</code> example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">Response</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/&lt;asset-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssetCreator&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;pump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;wipp&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ev_pump&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;ev pump 1&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0x6ba1CA0a5f4a2aBC23412419bC0E14233E88d233&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-11-18T16:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;827586838445807967&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="assets-count">Assets Count</h2>
<p>This action returns a count of all Assets that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>In the example below, our action will return a count of all Assets with <code>arc_display_type: pump</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count all pumps</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span></code></pre></div><h2 id="assets-wait-for-confirmed">Assets Wait For Confirmed</h2>
<p>This action tells the YAML Runner to wait before proceeding to the next step until all Assets that meet your specified criteria are confirmed/committed.</p>
<p>This step is optional and only necessary if your workflow requires 3rd parties (public or other DataTrails tenancies) to immediately view or interact with your Assets.
If this is not needed then do not wait for confirmation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_WAIT_FOR_CONFIRMED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Wait for all Assets in the wipp namespace to be confirmed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span></code></pre></div>`},{id:40,href:"https://docs.datatrails.ai/developers/yaml-reference/events/",title:"Events YAML Runner",description:"Event Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="events-create">Events Create</h2>
<p>The <code>asset_label</code> must match the setting when the Asset was created in an earlier step. The <code>asset_label</code> may also be specified as the Asset ID of an existing Asset, in the form <code>assets/&lt;asset-id&gt;</code>.</p>
<p>There are a few optional settings that can be used when creating Events. <code>attachments</code> uploads the attachment to DataTrails and the response is added to the Event before posting. <code>location</code> creates the location if it does not exist and adds it to the Event. The <code>sbom</code> setting uploads the SBOM to DataTrails and adds the response to the Event before posting.</p>
<p><code>confirm: true</code> tells the YAML Runner to wait for the Event to be committed before moving to the next step.
This is optional and only necessary if your workflow requires 3rd parties (public or other DataTrails tenancies) to immediately view the Event.
If this is not needed then do not wait for confirmation.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Access Card, opens Courts of justice front door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Access Card</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Opened Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_evidence</span><span class="p">:</span><span class="w"> </span><span class="l">ARQC 0x12345678</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_correlation_value</span><span class="p">:</span><span class="w"> </span><span class="l">be5c8061-236d-4400-a625-b74a34e5801b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wavestone_door_name</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wavestone_evt_type</span><span class="p">:</span><span class="w"> </span><span class="l">door_open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">namespace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Paris Courts of Justice</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Public museum in the former Palais de Justice</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">48.855722</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">2.345051</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">door entry</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="l">Boulevard du Palais, 75001 Paris, France</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">wavestone_ext</span><span class="p">:</span><span class="w"> </span><span class="l">managed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attachments</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">functests/test_resources/doors/events/door_open.png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">image/png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>This example creates an Event with custom Event attributes, creates and adds a location, and adds an image attachment.</p>
<p>Events may also be used to release a software package as an SBOM, such as the example below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Release YYYYMMDD.1 of Test SBOM for YAML story</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Corporation Detector SAAS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Corporation Detector SAAS Released YYYYMMDD.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Software Package Release</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">sbom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">functests/test_resources/sbom/gen1.xml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">text/xml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Generation1 SBOM</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">params</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">privacy</span><span class="p">:</span><span class="w"> </span><span class="l">PRIVATE</span><span class="w">
</span></span></span></code></pre></div><h2 id="events-list">Events List</h2>
<p>This action returns a list of all Events that meet your specified criteria. The <code>asset_label</code> can be identified as the friendly name of an Asset created in a previous step, or as an Asset ID for an existing Asset. If no <code>asset_label</code> is set, data for all Assets will be used.</p>
<p>Specifying <code>props</code>, <code>attrs</code>, and <code>asset_attrs</code> are optional criteria.</p>
<p>Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>The following example lists all &ldquo;open door&rdquo; Events for the Courts of Justice Paris Front Door:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events for Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">props</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirmation_status</span><span class="p">:</span><span class="w"> </span><span class="l">COMMITTED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">door</span><span class="w">
</span></span></span></code></pre></div><h2 id="events-count">Events Count</h2>
<p>This action returns a count of all Events that meet your specified criteria. The same criteria options available for <code>Events List</code> are possible. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>The following example counts all &ldquo;open door&rdquo; Events for the Courts of Justice Paris Front Door:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events for Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">props</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirmation_status</span><span class="p">:</span><span class="w"> </span><span class="l">COMMITTED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">door</span><span class="w">
</span></span></span></code></pre></div>`},{id:41,href:"https://docs.datatrails.ai/developers/yaml-reference/locations/",title:"Locations YAML Runner",description:"Location Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="locations-create-if-not-exists">Locations Create If Not Exists</h2>
<p>This action checks to see if the location you are looking to create already exists, and if not, executes the creation of your new location. The action checks for a location with the same identifier to verify that the location does not already exist.</p>
<p>If this action is executed as part of a series of YAML Runner steps, the location created can be referenced in later steps using the key <code>location_label</code>.</p>
<p>When you create your location, you may also add location attributes. In the example below, information such as the facility address and type have been included, as well as contact information for the location&rsquo;s reception:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create Cape Town Location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">namespace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">South Africa Office</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">33.92527778</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">18.42388889</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">synsation industries</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town Downtown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Facility Type</span><span class="p">:</span><span class="w"> </span><span class="l">Satellite Office</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">reception_email</span><span class="p">:</span><span class="w"> </span><span class="l">reception_CT@synsation.io</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">reception_phone</span><span class="p">:</span><span class="w"> </span><span class="l">+27 (21) 123-456</span><span class="w">
</span></span></span></code></pre></div><h2 id="locations-list">Locations List</h2>
<p>This action returns a list of all locations that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List locations for which John Smith is director</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">director</span><span class="p">:</span><span class="w"> </span><span class="l">John Smith</span><span class="w">
</span></span></span></code></pre></div><h2 id="locations-count">Locations Count</h2>
<p>This action returns a count of all locations that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count location for which John Smith is director</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">director</span><span class="p">:</span><span class="w"> </span><span class="l">John Smith</span><span class="w">
</span></span></span></code></pre></div>`},{id:42,href:"https://docs.datatrails.ai/developers/yaml-reference/subjects/",title:"Subjects YAML Runner",description:"Subject Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="subjects-create">Subjects Create</h2>
<p>This action creates a Subject using their <code>wallet_pub_key</code> and <code>tessera_pub_key</code>. Adding a <code>subject_label</code> allows the Subject to be referenced in later YAML Runner steps.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">wallet_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tessera_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key2</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-create-from-base64">Subjects Create From base64</h2>
<p>This action creates a Subject using their base64 <code>subject_string</code>. Adding a <code>subject_label</code> allows the Subject to be referenced in later YAML Runner steps.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_CREATE_FROM_B64</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Import a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">An imported subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">An imported subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">subject_string</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      eyJpZGVudGl0eSI6ICJzdWJqZWN0cy8wMDAwMDAwMC0wMDAwLTAwMDAtMDA
</span></span></span><span class="line"><span class="cl"><span class="sd">      wMC0wMDAwMDAwMDAwMDAiLCAiZGlzcGxheV9uYW1lIjogIlNlbGYiLCAid2
</span></span></span><span class="line"><span class="cl"><span class="sd">      FsbGV0X3B1Yl9rZXkiOiBbIjA0YzExNzNiZjc4NDRiZjFjNjA3Yjc5YzE4Z
</span></span></span><span class="line"><span class="cl"><span class="sd">      GIwOTFiOTU1OGZmZTU4MWJmMTMyYjhjZjNiMzc2NTcyMzBmYTMyMWEwODgw
</span></span></span><span class="line"><span class="cl"><span class="sd">      YjU0YTc5YTg4YjI4YmM3MTBlZGU2ZGNmM2Q4MjcyYzUyMTBiZmQ0MWVhODM
</span></span></span><span class="line"><span class="cl"><span class="sd">      xODhlMzg1ZDEyYzE4OWMiXSwgIndhbGxldF9hZGRyZXNzIjogWyIweDk5Rm
</span></span></span><span class="line"><span class="cl"><span class="sd">      E0QUFCMEFGMkI1M2YxNTgwODNEOGYyNDRiYjQ1MjMzODgxOTciXSwgInRlc
</span></span></span><span class="line"><span class="cl"><span class="sd">      3NlcmFfcHViX2tleSI6IFsiZWZkZzlKMFFoU0IyZzRJeEtjYVhnSm1OS2J6
</span></span></span><span class="line"><span class="cl"><span class="sd">      cHhzMDNGRllJaVlZdWVraz0iXSwgInRlbmFudCI6ICIiLCAiY29uZmlybWF
</span></span></span><span class="line"><span class="cl"><span class="sd">      0aW9uX3N0YXR1cyI6ICJDT05GSVJNQVRJT05fU1RBVFVTX1VOU1BFQ0lGSU
</span></span></span><span class="line"><span class="cl"><span class="sd">      VEIn0=</span><span class="w">      
</span></span></span></code></pre></div><h2 id="subjects-update">Subjects Update</h2>
<p>To update a Subject&rsquo;s entity, the <code>subject_label</code> from a previous action in the YAML Runner steps is required. The <code>subject_label</code> may also be specified as the Subject ID of an existing Subject, in the form <code>subjects/&lt;subject-id</code>.</p>
<p><code>display_name</code>, <code>wallet_pub_key</code>, and <code>tessera_pub_key</code> are optional, but at least one must be specified.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_UPDATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Update a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">wallet_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tessera_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key2</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-delete">Subjects Delete</h2>
<p>This action deletes the specified Subject.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_DELETE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Delete subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-read">Subjects Read</h2>
<p>This action allows you to read the details for the specified Subject. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_READ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Read subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">subjects/&lt;subject-id&gt;</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-list">Subjects List</h2>
<p>This action returns a list of all Subjects that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>For example, to list all Subjects with the name John Doe:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all subjects with name John Doe</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">John Doe</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-count">Subjects Count</h2>
<p>This action returns a count of all Subjects that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count all subjects</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">John Doe</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-wait-for-confirmation">Subjects Wait for Confirmation</h2>
<p>This action tells the YAML Runner to wait before proceeding to the next step until all Subjects that meet your specified criteria are confirmed/committed.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_WAIT_FOR_CONFIRMATION</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Wait for all subjects to be confirmed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">\`\`</span><span class="w">
</span></span></span></code></pre></div>`},{id:43,href:"https://docs.datatrails.ai/developers/yaml-reference/compliance/",title:"Compliance Policies YAML Runner",description:"Compliance Policy Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="compliance-policies-create">Compliance Policies Create</h2>
<p>This action creates a Compliance Policy that assets may be tested against.</p>
<p>The specific fields required for creating Compliance Policies vary depending on the type of policy being used. Please see the 
<a href="/platform/administration/compliance-policies/">Compliance Policies</a> section for details regarding Compliance Policy types and YAML Runner examples of each.</p>
<p>For example, a <code>COMPLIANCE_RICHNESS</code> policy that asserts radiation level must be less than 7:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_RICHNESS policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Radiation level must be less than 7&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Rad Limit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_RICHNESS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">richness_assertions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span></code></pre></div><h2 id="compliance-compliant-at">Compliance Compliant At</h2>
<p>The <code>COMPLIANCE_COMPLIANT_AT</code> action checks an Asset against its Compliance Policies.</p>
<p><code>asset_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Asset ID of an existing subject, in the form <code>assets/&lt;asset-id&gt;</code>. Setting <code>report: true</code> will trigger a report to be printed on the Asset&rsquo;s compliance status.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_COMPLIANT_AT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Check Compliance of EV pump 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">report</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span></code></pre></div>`},{id:44,href:"https://docs.datatrails.ai/developers/yaml-reference/estate-info/",title:"Estate Information YAML Runner",description:"Retrieve Estate Info Using the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="composite-estate-info">Composite Estate Info</h2>
<p>This action returns a report on the current number of Assets, Events, and locations in your DataTrails estate.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPOSITE_ESTATE_INFO</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Estate Info Report</span><span class="w">
</span></span></span></code></pre></div>`},{id:45,href:"https://docs.datatrails.ai/developers/developer-patterns/",title:"Developer Patterns",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Developer Patterns</h1>
      <p>This sub-section of the Developers subject area contains more detailed information on topics that cannot be covered by the API or YAML Runner references. <br></p>
      <p>You will find articles on common developer tasks and concept guides that are relevant to developers.</p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">Getting Access Tokens using App Registrations &rarr;</a><br>
      <a href="/developers/developer-patterns/containers-as-assets/">Containers as Assets &rarr;</a><br>
      <a href="/developers/developer-patterns/namespace/">Namespace &rarr;</a><br>
      <a href="/developers/developer-patterns/verifying-with-simple-hash/">Verifying Assets and Events with Simple Hash &rarr;</a><br>
      <a href="/developers/developer-patterns/navigating-merklelogs/">Navigating the Merkle Logs &rarr;</a><br>
      <a href="/developers/developer-patterns/massif-blob-offset-tables/">Massif Blob Offset Tables &rarr;</a><br>
      <a href="/developers/developer-patterns/document-profile/">Document Profile &rarr;</a><br>
      <a href="/developers/developer-patterns/software-package-profile/">Software Package Profile &rarr;</a></p>
    </div>
</div>
`},{id:46,href:"https://docs.datatrails.ai/developers/api-reference/caps-api/",title:"Caps API",description:"Caps API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="caps-api-examples">Caps API Examples</h2>
<p>The Caps API enables you to check the resource limits remaining under your Tenancy subscription.</p>
<h3 id="retrieve-a-cap">Retrieve a Cap</h3>
<p>Retrieve the number of remaining Access Policies:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/caps?service=access_policies&#34;</span>    
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;caps&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;resource_type&#34;</span><span class="p">:</span> <span class="s2">&#34;AccessPolicies&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;resource_remaining&#34;</span><span class="p">:</span> <span class="s2">&#34;6&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>These are the available values for &ldquo;<strong>?service=</strong>&rdquo;:</p>
<ul>
<li>access_policies</li>
<li>applications</li>
<li>assets</li>
<li>blobs</li>
<li>compliance_policies</li>
<li>locations</li>
<li>tenancies/users</li>
</ul>
<h2 id="caps-openapi-docs">Caps OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API providing caps data for DataTrails APIs</p>
    </div>
      <div class="accordion" id='Caps_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCaps_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCaps_API1' aria-expanded="true" aria-controls='collapseCaps_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/caps/archivist/v1/caps</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCaps_API1' class="accordion-collapse collapse" aria-labelledby='headerCaps_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/caps/archivist/v1/caps</span></h4>
                      </div>
                      <h5>Returns caps for the given resource</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns caps for the given resource</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the resource.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`},{id:47,href:"https://docs.datatrails.ai/platform/administration/",title:"Administration",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Administration</h1>
      <p>This section is for Tenancy Administrators who need to know how to manage their Users and configure access to Assets.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/platform/administration/identity-and-access-management/">Identity and Access Management &rarr;</a><br>
      <a href="/platform/administration/verified-domain/">Verified Domain &rarr;</a><br>
      <a href="/platform/administration/sharing-access-inside-your-tenant/">Managing Internal Access to Your Tenant &rarr;</a><br>
      <a href="/platform/administration/sharing-assets-outside-your-tenant/">Managing External Access to Your Tenant &rarr;</a><br>
      <a href="/platform/administration/dropbox-integration/">Dropbox Integration &rarr;</a><br>
      <a href="/platform/administration/compliance-policies/">Compliance Policies &rarr;</a><br>
      <a href="/platform/administration/grouping-assets-by-location/">Grouping Assets by Location &rarr;</a></p>
    </div>
</div>
`},{id:48,href:"https://docs.datatrails.ai/developers/templates/",title:"Templates",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>DataTrails Templates</h1>
      <p>A collection of templates for various scenarios.
      Some templates are targeted at industry standards, providing interop, such as SCITT Statements.
      Other templates are more generic, providing a baseline for getting started.<br></p>
      <p> Check out the articles below for more information:</p>
      <a href="/developers/templates/vcons/">Creating DataTrails Events for vCons&rarr;</a><br>
      <a href="/developers/templates/scitt/">Creating SCITT Entries on the DataTrails Platform &rarr;</a><br>
    </div>
</div>
`},{id:49,href:"https://docs.datatrails.ai/developers/yaml-reference/",title:"YAML Reference",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>YAML Runner Reference</h1>
      <p>This sub-section of the Developers subject area contains articles that describe and define the functionality of the DataTrails YAML Runner.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/yaml-reference/story-runner-components/">YAML Runner Components &rarr;</a><br>
      <a href="/developers/yaml-reference/assets/">Assets YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/events/">Events YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/locations/">Locations YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/subjects/">Subjects YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/compliance/">Compliance Policies YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/estate-info/">Estate Information YAML Runner &rarr;</a></p>
    </div>
</div>
`},{id:50,href:"https://docs.datatrails.ai/developers/api-reference/",title:"API Reference",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>API Reference</h1>
      <p>This sub-section of the Developers subject area contains articles that describe and define the DataTrails REST API endpoints.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/api-reference/app-registrations-api/">App Registrations API Registrations &rarr;</a><br>
      <a href="/developers/api-reference/assets-api/">Assets API &rarr;</a><br>
      <a href="/developers/api-reference/attachments-api/">Attachments API &rarr;</a><br>
      <a href="/developers/api-reference/blobs-api/">Blobs API &rarr;</a><br>
      <a href="/developers/api-reference/compliance-api/">Compliance API &rarr;</a><br>
      <a href="/developers/api-reference/events-api/">Events API &rarr;</a><br>
      <a href="/developers/api-reference/iam-policies-api/">IAM Policies API &rarr;</a><br>
      <a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API &rarr;</a><br>
      <a href="/developers/api-reference/locations-api/">Locations API &rarr;</a><br>
      <a href="/developers/api-reference/public-assets-api/">Public Assets API &rarr;</a><br>
      <a href="/developers/api-reference/tenancies-api/">Tenancies API &rarr;</a><br>
      <a href="/developers/api-reference/caps-api/">Tenancy Caps API &rarr;</a></p>
    </div>
</div>
`},{id:51,href:"https://docs.datatrails.ai/platform/overview/",title:"Overview",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Overview</h1>
      <p>Begin your DataTrails journey here.<br></p>
      <p> Check out the articles below for an introduction to the DataTrails platform.</p><br>
      <p><a href="/platform/overview/introduction/">Introduction &rarr;</a><br>
      <a href="/platform/overview/core-concepts/">Core Concepts &rarr;</a><br>
      <a href="/platform/overview/advanced-concepts/">Advanced Concepts &rarr;</a><br>
      <a href="/platform/overview/creating-an-asset/">Creating an Asset  &rarr;</a><br>
      <a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset &rarr;</a><br>
      <a href="/platform/overview/registering-a-document-profile-asset/">Registering a Document Profile Asset &rarr;</a><br>
      <a href="/platform/overview/registering-an-event-against-a-document-profile-asset/">Registering an Event Against a Document Profile Asset &rarr;</a><br>
      <a href="/platform/overview/instaproof/">Instaproof &rarr;</a><br>
      <a href="/platform/overview/public-attestation/">Public Attestation &rarr;</a></p>
    </div>
</div>
`},{id:52,href:"https://docs.datatrails.ai/developers/",title:"Developers",description:"DataTrails developer documentation",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <h1>Developers</h1>
    <p>If you are a developer who is looking to easily add provenance to their data, this section is for you. <br>
    You may be building a new application or looking for a way to add functionality to something that you already use every day.</p>
    <p>The DataTrails REST API, python SDK, or the YAML runner provide a simple way for you to integrate a provenance layer into your existing data platform so that you do not need to change the way that your users work.</p>
    <p> Check out the sub-sections below for more information!</p>
    </div>
</div>
<section class="section section-sm" style="padding-top: 20px; padding-bottom: 20px;">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <p><a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">Developer Patterns &rarr;</a><br>
    Go here for information on setting up an App Registration, requesting an Access Token together with other developer concepts and user profile descriptions.</p>
    <p><a href="/developers/api-reference/app-registrations-api">API Reference &rarr;</a><br>
    The DataTrails REST API endpoint examples and definitions can be found here.</p>
    <a href="/developers/yaml-reference/story-runner-components">YAML Runner Reference &rarr;</a><br>
    The YAML reference contains information and examples for those who work with YAML files and would prefer to use this method to access the API.
    </div>
  </div>
</section>
<section class="section section-sm">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <p>Additional resources are available from our <a href="https://pypi.org/project/datatrails-archivist/" target="_blank">Python SDK</a> and the <a href="https://github.com/datatrails/datatrails-samples" target="_blank">Python Samples</a>.</p>
    </div>
  </div>
</section>
`},{id:53,href:"https://docs.datatrails.ai/platform/",title:"Platform",description:"DataTrails Platform and configuration documentation",content:`<div class= "row justify-content-center">
  <div class="col-md-12 col-lg-10 col-xl-10">
    <h1>Platform</h1>
    <p>If you are new to DataTrails, this is the place to start.<br></p>
    <p>The foundations of understanding the DataTrails platform are explained in the Overview. This will introduce the basic (and not so basic) concepts and take you through creating your first Asset and registering the first Event of your audit trail.</p>
    <p>The Administration section will show you how to manage your Tenancy and control access to your Assets.
    <p> Check out the sub-sections below for more information!</p>
  </div>
</div>
<section class="section section-sm" style="padding-top: 20px; padding-bottom: 20px;">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">    
    <a href="/platform/overview/introduction/">Overview &rarr;</a><br>
    Core concepts and tasks<br>
    <a href="/platform/administration/identity-and-access-management/">Administration &rarr;</a><br>
    Create users, set access rights and share Assets
    </div>
  </div>
</section>
`}];console.log("[developers platform]"),e.add({id:0,href:"https://docs.datatrails.ai/developers/templates/vcons/",title:"vCon Template",description:"Creating DataTrails Events for vCons",content:`<p>vCons safely and securely carry conversations from the network elements that create them to the applications that analyze them, enabling responsible management of the most personal of data.
Recording the current state of a vCon on DataTrails secures the integrity and inclusion of the vCon from tampering or deleting a specific version.</p>
<p><blockquote class="caution callout">
    <div><strong></strong> <a href="https://datatracker.ietf.org/wg/scitt/about/" target="_blank" rel="noopener">IETF SCITT</a> is currently in draft and subject to change.
The following template provides DataTrails Event APIs, enabling production SLA for securing vCons.</div>
  </blockquote>
<blockquote class="caution callout">
    <div><strong></strong> <a href="https://datatracker.ietf.org/wg/vcon/about/" target="_blank" rel="noopener">IETF vCon</a> is currently in draft and subject to change.
The following template references the specific draft version the template applies to.

<a href="https://datatracker.ietf.org/doc/draft-vcon-vcon-container/00/" target="_blank" rel="noopener">vCon Draft 00</a></div>
  </blockquote></p>
<p>The following provides a template for how to secure a vCon on DataTrails.</p>
<h3 id="vcon-event-example">vCon Event Example</h3>
<p>The following example highlights a typical DataTrails Event, based on a vCon:</p>
<p>
<a href="../../api-reference/events-api/">Events API</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon_create&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA-256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_preimage_content_type&#34;</span><span class="p">:</span> <span class="s2">&#34;application/json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;e5e20exxxxxxxxxx78383479f9de138cf71b98b740fd5d7ee3xxxxxxxxxxde05&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_operation&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon_create&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_pipeline&#34;</span><span class="p">:</span> <span class="s2">&#34;create-pipeline&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_pipeline_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-07T16:33:29.004994&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;vcon://xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;vcon_draft_version&#34;</span><span class="p">:</span> <span class="s2">&#34;00&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="arc_display_type-required">arc_display_type (REQUIRED)</h3>
<p>Default within DataTrails to categorize events.
<code>arc_display_type</code> is also the default means to 
<a href="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/" target="_blank" rel="noopener">configure permissions</a> for which type of events a client may view and/or edit.</p>
<p>For simplicity in configuring permissions, this property is a duplicate of the 
<a href="#vcon_operation">vcon_operation</a> but could vary in advanced scenarios.</p>
<h3 id="vcon_operation-required">vcon_operation (REQUIRED)</h3>
<p>A DataTrails Event should be created for each completed vCon operation.
For every creation and update to a vCon, a SCITT Statement would seal the vCon, recording it on the ledger for inclusion and verification.
The defined lifecycle events of a vCon will likely evolve with the standard.
For now, the <code>vcon_operation</code> (<code>string</code>) is the placeholder.</p>
<h3 id="payload_hash_alg-required">payload_hash_alg (REQUIRED)</h3>
<p>The hash algorithm used to hash the vCon.
Currently, this is <code>SHA-256</code>, but should be sourced by the vCon object to support agility.</p>
<h3 id="payload_preimage_content_type-required">payload_preimage_content_type (REQUIRED)</h3>
<p>The property name comes from 
<a href="https://datatracker.ietf.org/doc/draft-steele-cose-hash-envelope/" target="_blank" rel="noopener">draft-ietf-cose-hash-envelope</a>, representing the <code>content-type</code> of the vCon, prior to hashing.</p>
<p>
<a href="https://www.ietf.org/archive/id/draft-vcon-vcon-container-00.html#section-5.3.1" target="_blank" rel="noopener">Section 5.3.1 of vCon 00</a> specifies <code>application/vcon</code>.
There is 
<a href="https://github.com/ietf-wg-vcon/draft-ietf-vcon-vcon-container/issues/7" target="_blank" rel="noopener">vcon issue</a>, and discussion for using <code>application/vcon+json</code></p>
<h3 id="payload_hash_value-required">payload_hash_value (REQUIRED)</h3>
<p>The hash of the vCon as it&rsquo;s recorded on DataTrails.</p>
<h3 id="vcon_pipeline-optional">vcon_pipeline (OPTIONAL)</h3>
<p>vCons are processed by workflow pipelines that run multiple steps.
In the 
<a href="https://www.conserver.io/" target="_blank" rel="noopener">conserver model</a>, these are called chains which run one or more links.
For each chain, a vCon is complete and written to the SCITT Ledger to protect its integrity and inclusion.
For debugging purposes, the vCon pipeline may wish to store the name of the pipeline.
This property may prove to be redundant to the 
<a href="#vcon_operation">vcon_operation</a>.</p>
<h3 id="vcon_pipeline_version-optional">vcon_pipeline_version (OPTIONAL)</h3>
<p>The version of the 
<a href="#vcon_pipeline">vcon_pipeline</a>.</p>
<h3 id="vcon_updated_at-required">vcon_updated_at (REQUIRED)</h3>
<p>See 
<a href="https://www.ietf.org/archive/id/draft-ietf-vcon-vcon-container-00.html#name-updated_at" target="_blank" rel="noopener">vCon updated_at</a></p>
<h3 id="subject-required">subject (REQUIRED)</h3>
<p>The 
<a href="https://www.ietf.org/archive/id/draft-ietf-vcon-vcon-container-00.html#name-uuid" target="_blank" rel="noopener">vCon unique identifier</a>.
Subject is used to align with the 
<a href="https://www.ietf.org/archive/id/draft-ietf-scitt-architecture-08.html#:~:text=Subject:" target="_blank" rel="noopener">SCITT Protected Header</a></p>
<h2 id="user-agent-headers">User Agent Headers</h2>
<p>When submitting requests to DataTrails, the following header parameters are required for tracking, independent of authorization.</p>
<h3 id="datatrails-user-agent-required">DataTrails-User-Agent (REQUIRED)</h3>
<p>Diagnostics and tracking for the source of the request.
Typically set to the code or service.
For example: (<code>DataTrails-User-Agent:oss/conserverlink/0.1.0</code>)</p>
<h3 id="datatrails-partner-id-required">DataTrails-Partner-ID (REQUIRED)</h3>
<p>Diagnostics and tracking of the Partner making requests.
This header is independent of the 
<a href="#datatrails-user-agent">DataTrails-User-Agent</a>, as multiple services may be running the same codebase, such as the 
<a href="https://github.com/vcon-dev/vcon-server/" target="_blank" rel="noopener">vCon Conserver</a></p>
<p>For example: (<code>DataTrails-Partner-ID:synsation.io</code>)</p>
`}).add({id:1,href:"https://docs.datatrails.ai/platform/overview/introduction/",title:"Introduction",description:"Welcome to DataTrails",content:`<p>DataTrails provides Provenance as a Service that continuously proves Who Did What When to all data types.</p>
<p>DataTrails enables enterprises to build trust in data such as documents, images and sound files by ensuring that you know the origin and history of the data that you are using.
This can also be applied to multi-party Assets such as software and physical items allowing you to make sure that processes are fit for purpose to comply with IT controls, corporate policies, and government regulations.</p>
<p>DataTrails permanently records evidence into an <strong>Immutable Audit Trail</strong> to bring the right level of trust in data for faster, confident decisions with lower business risk by combining:</p>
<p><strong>Metadata Governance</strong> - Empower the right people in organizations to set, enforce, and execute complex data sharing policies.</p>
<p><strong>Authenticated Provenance</strong> - Deliver full traceability on all internal and external data sources to speed and assure digital decisions.</p>
<p><strong>Continuous Accountability</strong> - Instantly auditable evidence “Proves Who Did What When” for any shared Asset to delight your GRC team.</p>
<p><strong>Persistent Integrity</strong> - Create a complete, unbroken, and permanent record of shared Event transactions, delivering continuous assurance for faster digital decisions.</p>
<p>DataTrails delivers assured metadata in a single line of code in a way that makes recording and auditing the full lifecycle of a piece of data simple. Any authorized participant (including a user, a software agent or an endpoint device) can register the Events that they are involved in.<br>
Users of the data can see a full picture of the data’s origin and history and by understanding <em>Who Did What When</em>, human actors and software/AI systems can make stronger real-time judgments about the trustworthiness of your data.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#intro" img class="img-fluid responsive" src="/platform/overview/introduction/intro.png" width="1129" height="401" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" src="/platform/overview/introduction/intro.png" width="1129" height="401" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>DataTrails Functionality</em></figcaption>
</figure>





<div class="modal fade" id="intro" tabindex="-1" aria-labelledby="intro" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/introduction/intro_hucaff8f1591dbe6d5c6ecc6665b0f9f72_155653_200x0_resize_box_3.png 200w" width="1129" height="401" alt="Rectangle">
      </div>
  
  </div>
</div></p>
`}).add({id:2,href:"https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/",title:"Creating Access Tokens Using a Custom Integration",description:"Creating Access Tokens Using a Custom Integration",content:`<p>Non-interactive access to the DataTrails platform is managed by creating <code>Integrations</code> with either a Custom Integration or one of the built-in Integrations. This is done using either the <code>Settings</code> or <code>Integrations</code> menus in the DataTrails UI or by using the App Registrations API directly.
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> App Registration is the old name for a Custom Integration.</div>
  </blockquote></p>
<p><code>Custom Integrations</code> have a <code>CLIENT_ID</code> and a <code>SECRET</code>, these are used to authenticate with DataTrails IAM endpoints using 
<a href="https://jwt.io/introduction/" target="_blank" rel="noopener">JSON Web Tokens</a> (JWT).</p>
<p>DataTrails authentication uses the industry-standard OIDC Client Credentials Flow.</p>
<p>The high level steps are:</p>
<ol>
<li>Create an Integration in the UI</li>
<li>Define access permissions for the Integration in the UI</li>
<li>Request an Access Token using the API</li>
<li>Use the Access Token to make a REST API call to your tenancy.</li>
</ol>
<h2 id="creating-a-custom-integration">Creating a Custom Integration</h2>
<p>If you have already saved a <code>CLIENT_ID</code> and a <code>SECRET</code>, with the correct 
<a href="#grant-permissions-to-custom-integration">permissions applied</a>, skip to 
<a href="#getting-a-token-with-the-custom-integration">Getting a Token With the Custom Integration</a></p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creating App Registrations requires Tenancy <strong>Administrator</strong> privileges.<br>
If <code>Settings</code> or <code>Integrations</code> does not appear in the navigation, see your DataTrails Administrator for access.</div>
  </blockquote>
<h3 id="using-the-datatrails-app-to-create-an-integration-first-time-setup">Using the DataTrails App to Create an Integration (First-Time Setup)</h3>
<ol>
<li>
<p>As an Administrator, open the <a href="https://app.datatrails.ai/" target="_blank">DataTrails App</a></p>
</li>
<li>
<p>Navigate to <code>Integrations</code> on the sidebar</p>
</li>
<li>
<p>This opens <code>Settings</code> with the <code>Integrations</code> tab automatically selected

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#IntegrationsTab" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab.png" width="917" height="449" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab.png" width="917" height="449" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Navigate to Settings, then Integration</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="IntegrationsTab" tabindex="-1" aria-labelledby="IntegrationsTab" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/IntegrationsTab_hu67e6b1b30721ec5e77f4af2284b2d482_46627_200x0_resize_box_3.png 200w" width="917" height="449" alt="Rectangle">
        </div>
    
    </div>
  </div></p>
</li>
<li>
<p>Click the <code>Custom</code> box to create a Custom Integration</p>
</li>
<li>
<p>Enter any <code>Display Name</code> you&rsquo;d like

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#Confirm" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm.png" width="580" height="546" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm.png" width="580" height="546" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Completed Web Registration</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="Confirm" tabindex="-1" aria-labelledby="Confirm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/Confirm_hu68eab072393e66f65e073ea482d0f64b_42641_200x0_resize_box_3.png 200w" width="580" height="546" alt="Rectangle">
        </div>
    
    </div>
  </div>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Optionally add any <code>Custom claims</code> at this step by clicking the <code>+ Add</code> button.<br>In this context, claims are pieces of information that are asserted in a JSON Web Token (JWT). <em>Registered</em> claims are name/value pairs that are defined by the JWT standard, <em>Custom</em> claims are not defined and can have any name/value combination.</p>
<p>Ensure the <code>Name</code> <em>does not start</em> with <code>jit_</code> or <code>arc_</code> (DataTrails reserved names) or use any other well-known reserved claims.</p>
<p>See 
<a href="https://auth0.com/docs/security/tokens/json-web-tokens/json-web-token-claims#reserved-claims" target="_blank" rel="noopener">here</a> for more information on JWT Claims</p>
</div>
  </blockquote></p>
</li>
<li>
<p>Once complete, click <code>Confirm</code> to complete the custom integration</p>
</li>
<li>
<p>You will then be presented with the <code>CLIENT_ID</code> and <code>SECRET</code> required by the archivist token endpoint


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordClientIDandSecret" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret.png" width="1242" height="170" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret.png" width="1242" height="170" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Record your Client ID and Secret</em></figcaption>
</figure>





<div class="modal fade" id="RecordClientIDandSecret" tabindex="-1" aria-labelledby="RecordClientIDandSecret" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/RecordClientIDandSecret_hu5951b8175dda4849b7f422e148751f2a_28504_200x0_resize_box_3.png 200w" width="1242" height="170" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> Save the <code>CLIENT_ID</code> and <code>SECRET</code> to a password manager or secret management service as the <code>SECRET</code> can <strong>not</strong> be viewed again. A new <code>SECRET</code> can be regenerated in the Integration configuration screen but this replaces and invalidates the previous <code>SECRET</code>.</div>
  </blockquote></p>
</li>
</ol>
<h3 id="grant-access-permissions-to-your-custom-integration">Grant Access Permissions to your Custom Integration</h3>
<p>In this section we will give your Custom Integration permission to access the Assets, their attributes, and Events that have been recorded in your tenancy.</p>
<p>Integrations are secured by default, with no read or write permissions within your DataTrails Tenancy. This is is important because the alternative would be to allow read/write access to all Assets and Events by default which opens the risk that an application could be maliciously altered to make changes that would not be permitted by the Tenancy Administrator.</p>
<p>The steps below show how to create and assign an Access Policy to control the ability to create and read DataTrails information.<br>For convenience we will grant full access rights to the customer integration in this example. Please see 
<a href="/platform/administration/sharing-access-inside-your-tenant/">this article</a> for information on setting up more finely controlled access.</p>
<ol>
<li>Navigate to <code>Access Policies</code> on the sidebar

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage.png" width="1525" height="369" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage.png" width="1525" height="369" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Access Policies</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyManage_huded91b534d24ea8c8adb1d2df57aad60_43793_200x0_resize_box_3.png 200w" width="1525" height="369" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click <code>CREATE POLICY</code>, setting the <code>Name</code> and <code>Asset Types</code>=<code>*</code> for all types
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Asset types can be filtered as needed. List existing <code>Asset Types</code> by typing at least two characters of a known type</div>
  </blockquote>

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm.png" width="996" height="578" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm.png" width="996" height="578" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Create Access Policy Form</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyForm_hu8a660b171b45526053e0907518d09ee7_45694_200x0_resize_box_3.png 200w" width="996" height="578" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click <code>Permissions</code> to set a scope for the policy</li>
<li>Set Actors to the <code>CLIENT_ID</code> of the Custom Integration
<ul>
<li><code>User</code></li>
<li><code>Subject Identifier</code></li>
<li>Paste the <code>CLIENT_ID</code> from the previous step

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyPermissionActor" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor.png" width="914" height="142" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor.png" width="914" height="142" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Filter on User by Subject Identifier using the CLIENT_ID</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyPermissionActor" tabindex="-1" aria-labelledby="PolicyPermissionActor" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionActor_hu79e50a7c4eaec56e821b6c47bf5c8c07_13248_200x0_resize_box_3.png 200w" width="914" height="142" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
</ul>
</li>
<li>Set <strong>Attribute Access</strong> and <strong>Event Visibility</strong> to <code>All</code>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Each policy can be configured with multiple access rights</div>
  </blockquote>

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyPermissionAccess" img class="img-fluid responsive" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess.png" width="984" height="658" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess.png" width="984" height="658" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Set Attribute Access and Event Visibility</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="PolicyPermissionAccess" tabindex="-1" aria-labelledby="PolicyPermissionAccess" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/getting-access-tokens-using-app-registrations/PolicyPermissionAccess_huacf65594598c35e02a92b90578711ee1_44630_200x0_resize_box_3.png 200w" width="984" height="658" alt="Rectangle">
        </div>
    
    </div>
  </div></li>
<li>Click the <code>ADD PERMISSION GROUP</code> to save the configuration of this policy</li>
<li>Click the <code>CREATE POLICY</code> to complete the creation of this policy</li>
</ol>
<h2 id="getting-a-token-with-the-custom-integration">Getting a Token With the Custom Integration</h2>
<p>Having completed the steps to create a 
<a href="./#creating-a-custom-integration">custom integration</a> and 
<a href="./#grant-access-permissions-to-your-custom-integration">grant access permissions</a>, and having taken note of the <code>CLIENT_ID</code> and the <code>SECRET</code>, a token can be obtained with the following command.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To make things easy we will use local variables and files to store the credentials and token but you can use any method that you wish.</div>
  </blockquote>
<ol>
<li>
<p>Save the <code>CLIENT_ID</code> and <code>SECRET</code> saved from above, to local variables
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Remember that you can regenerate the secret but this will invalidate the previous credentials which may be being used by other applications.
Also note the environment variables below have been namespaced for DataTrails, as you may have <code>CLIENT_ID</code> and <code>SECRET</code>s for other services.</div>
  </blockquote></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DATATRAILS_CLIENT_ID</span><span class="o">=</span>your_id
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">DATATRAILS_CLIENT_SECRET</span><span class="o">=</span>your_secret
</span></span></code></pre></div></li>
<li>
<p>Generate a token using your pre-existing <code>Custom Integration</code> details, saving to a <code>RESPONSE</code> variable</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">RESPONSE</span><span class="o">=</span><span class="k">$(</span>curl <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/appidp/token <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;grant_type=client_credentials&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_id=</span><span class="si">\${</span><span class="nv">DATATRAILS_CLIENT_ID</span><span class="si">}</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_secret=</span><span class="si">\${</span><span class="nv">DATATRAILS_CLIENT_SECRET</span><span class="si">}</span><span class="s2">&#34;</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Save the base64 encoded \`JWT\` using \`jq\` to find \`.access_token\`</span>
</span></span><span class="line"><span class="cl"><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="nv">$RESPONSE</span> <span class="p">|</span> jq -r .access_token<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a Bearer Token file for reference by \`curl\`</span>
</span></span><span class="line"><span class="cl"><span class="c1"># in an \`./datatrails/\` directory</span>
</span></span><span class="line"><span class="cl">mkdir -p <span class="nv">$HOME</span>/.datatrails
</span></span><span class="line"><span class="cl">chmod <span class="m">0700</span> <span class="nv">$HOME</span>/.datatrails
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create the Bearer Token</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> Authorization: Bearer <span class="nv">$TOKEN</span> &gt; <span class="nv">$HOME</span>/.datatrails/bearer-token.txt
</span></span><span class="line"><span class="cl">cat <span class="nv">$HOME</span>/.datatrails/bearer-token.txt
</span></span></code></pre></div></li>
</ol>
<h2 id="testing-token-creation">Testing Token Creation</h2>
<p>You can test access to the DataTrails API using any of the standard API calls. GETing <code>Assets</code> is a simple test.</p>
<p>If successful, you will see a list of the assets the Integration has access to in the tenancy.
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> This may be an empty response if no assets are being shared with the Integration because an Access Policy has not been created for it; this is an expected <em>secure by default</em> behavior.</div>
  </blockquote></p>
<p>Otherwise, check the 
<a href="../../api-reference/assets-api/#assets-openapi-reference">Assets OpenAPI Reference</a> for more detailed information on the response codes you may expect if authentication fails and what they mean.</p>
<h3 id="view-existing-assets">View Existing Assets</h3>
<p>To test the creation of the Custom integration and the configuration of the bearer token file (<code>bearer-token.txt</code>), query the assets API</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>If you have existing assets, the output will be similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;length&#34;</span><span class="p">:</span> <span class="s2">&#34;40&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;20000-lbs&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;width&#34;</span><span class="p">:</span> <span class="s2">&#34;8&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;A shipping container being tracked&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;New Shipping Container #1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;height&#34;</span><span class="p">:</span> <span class="s2">&#34;8&#39;&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-22T03:39:46Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>If the output is an empty structure, you may either not have any assets, or misconfigured the 
<a href="#grant-permissions-to-custom-integration">Access Policy</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>In the <a href="https://app.datatrails.ai/" target="_blank">DataTrails App</a>, Navigate to <code>Assets</code> confirm existing assets. If assets exist, confirm the <code>DATATRAILS_CLIENT_ID</code>, <code>DATATRAILS_CLIENT_SECRET</code> and <code>Access Policy</code> are configured and referenced properly.</p>
<h2 id="troubleshooting-token-generation">Troubleshooting Token Generation</h2>
<p>The header and payload of the <code>TOKEN</code> may be examined with the following commands. This is useful when investigating if tokens contain the correct custom claims or tokens that may appear malformed.</p>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning:</strong> Decoding tokens with an online service exposes details about your DataTrails token credentials. Remember to regenerate the credentials when troubleshooting is complete.</div>
  </blockquote>
<ol>
<li>
<p>View the Header</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> -n <span class="nv">$TOKEN</span> <span class="p">|</span> cut -d <span class="s1">&#39;.&#39;</span> -f <span class="m">1</span> <span class="p">|</span> base64 -d <span class="p">|</span> jq
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;RS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;typ&#34;</span><span class="p">:</span> <span class="s2">&#34;at+jwt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;kid&#34;</span><span class="p">:</span> <span class="s2">&#34;devidp&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>View the Payload</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> -n <span class="nv">$TOKEN</span> <span class="p">|</span> cut -d <span class="s1">&#39;.&#39;</span> -f <span class="m">2</span> <span class="p">|</span> base64 -d <span class="p">|</span> jq
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jit_tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-token&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jit_tier&#34;</span><span class="p">:</span> <span class="s2">&#34;FREE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;jti&#34;</span><span class="p">:</span> <span class="s2">&#34;CCIH_QsZsM6FKzwBR6L5Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;sub&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;iat&#34;</span><span class="p">:</span> <span class="mi">1695254038</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;exp&#34;</span><span class="p">:</span> <span class="mi">1695257698</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;iss&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;aud&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/archivist&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
`}).add({id:3,href:"https://docs.datatrails.ai/platform/overview/core-concepts/",title:"Core Concepts",description:"DataTrails Core Concepts",content:`<h2 id="tenancies">Tenancies</h2>
<p>A Tenancy is an Organization&rsquo;s private area within DataTrails, containing 
<a href="./#assets">Asset</a> and 
<a href="./#events">Event</a> data that build over time to create an Audit Trail. The user who created the Tenancy is the Administrator and has full administrative control over everything in that Tenancy. An Administrator can also create granular 
<a href="./#access-policies">Access Policies</a> which allow data from their Tenancy to be shared to other Tenancies; for example, Organization A would share Asset data from their Tenancy to Organization B&rsquo;s Tenancy.</p>
<p>Administrators may invite other user accounts into their Tenancy. The invited user needs to have signed up for DataTrails with the same email address as the invite, they will then be added to the Tenancy as a Non-Administrator. Non-Administrators start off with no permissions but can be given specific permissions (including being upgraded to an Administrator) by any existing Administrator in that Tenancy.</p>
<h2 id="assets">Assets</h2>
<p>Assets are central to DataTrails. Each Asset Record represents <em><strong>a thing</strong></em>; this could be a file, a physical object, a smart device, or even a business process.</p>
<p>A DataTrails Asset has a collection of attributes that describes its current state and, when combined with a complete life history of Events that brought it to that state, we have an immutable Audit Trail. DataTrails Asset attributes track anything deemed important. For example, a Document will have the attributes of author, title and a content hash and will have a history of different versions and release dates. A Shipping Container as an Asset might have the attributes of height, width and depth, and have a handling history of movements through ports.
These are examples of completely different <em><strong>things</strong></em> that can have a Data Trails Audit Trail.</p>
<p>Each Asset has a fixed identity across all stakeholders, ensuring that all relevant parties are collaborating on the same object and see the same history of the Asset at any given time when shared through 
<a href="./#access-policies">Access Policies</a>.</p>
<h2 id="events">Events</h2>
<p>Events are things that happen during an Asset&rsquo;s lifecycle. Each Event Record contributes to the 
<a href="./#the-golden-thread">&lsquo;Golden Thread&rsquo;</a> of the audit trail by enriching the Asset&rsquo;s history. Events can be used to add or update Asset information if they change the Asset&rsquo;s state, but they also have their own attributes to add process detail and rich evidence.</p>
<p>Events can never be deleted or modified. Events provide details on Asset attributes, such as updating the weight of a shipment, and/or details about the event itself, such as a recording a new document version.</p>
<h2 id="proving-provenance">Proving Provenance</h2>
<p>Artifacts and Events are core to the DataTrails platform, and being able to quickly demonstrate proof that these artifacts have not been tampered is key to knowing the information is secure and trustworthy.</p>
<p>DataTrails attestations are committed to immutable storage that is underpinned by cryptographically verifiable Merkle Mountain Range data structures for long term verifiability, even when offline.</p>
<p><strong>Four Increasing Trust Levels</strong></p>
<p>At DataTrails we believe in holding ourselves to the same levels of accountability as our customers, and the Merkle Log proof mechanism provides the robustness, integrity and availability guarantees needed to ensure data authenticity in any digital or data supply chain. And you don&rsquo;t have to just take our word for it: you can check.</p>
<p>Here&rsquo;s how it works:</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#merkleflow" img class="img-fluid responsive" src="/platform/overview/core-concepts/merkleflow.png" width="860" height="350" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" src="/platform/overview/core-concepts/merkleflow.png" width="860" height="350" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em></em></figcaption>
</figure>





<div class="modal fade" id="merkleflow" tabindex="-1" aria-labelledby="merkleflow" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/merkleflow_huac887bf751d0e9f176f1bb7b842ef1c5_100175_200x0_resize_box_3.png 200w" width="860" height="350" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>Without an Immutable Audit Trail, there is always the risk - or at least the suspicion - that data can be shredded, backdated or otherwise tampered with.</p>
<p>Once <code>STORED</code> in DataTrails and shared with partners, no party to the transaction can tamper, back-date or shred evidence. However while the security and integrity of our customers&rsquo; data is our top priority, there could still be a suspicion that DataTrails (or a hacker in our systems, or our cloud service provider under subpœna) could tamper with the data, or make it unavailable.</p>
<p>Once <code>COMMITTED</code> in the customer’s Tenancy Merkle tree in public blob storage, customers can prove their Events to 3rd parties, AND any tampering by DataTrails is detectable. Because this data is public, anyone can keep and maintain a copy just in case DataTrails’ version disappears. These copies are great for availability and holding DataTrails accountable, but there is a risk that a kind of Sybil attack could be mounted where the community creates forks and then tries to accuse the DataTrails version of being wrong.</p>
<p>By adding all Tenancies to the Merkle Mountain Range (MMR) and signing the root, Events move to the <code>CONFIRMED</code> stage. The signature on the root at once holds DataTrails to account <em>and</em> prevents forks and the Sybil attack mentioned above. Even so, a tiny chance of tampering remains: in principle, multiple MMRs could be signed, creating multiple versions of history.</p>
<p>To make the whole history and individual events <code>UNEQUIVOCAL</code>, the root hash of the Committed MMR is periodically broadcast so that it is clear that there is one, and only one, version of history to underpin your data authenticity.</p>
<h2 id="access-policies">Access Policies</h2>
<p>Sharing the right amount of information with the consumers of your data is critical to creating a trustworthy shared history for any Asset. It is important that every participant be able to see and contribute to the management of those Assets without compromising security and private information. To ensure stakeholders can access only the Assets and attributes relevant to them, transactions are private by default, unless the Asset was created as a 
<a href="./#the-public-view">Public Asset</a>. An Administrator defines how many of the Asset&rsquo;s attributes the Access Policy permits a user to see so that they only see what they need to complete a task.</p>
<p>An Attribute-Based Access Control (ABAC) policy is used to share with Non-Administrators within a Tenancy. An Organization-Based Access Control (OBAC) policy is used to share with the Administrators of another Tenancy. The Administrator of the external Tenancy may then use an ABAC policy to grant permissions to the relevant Non-Administrators of their Tenancy. In both cases, attribute-specific read and write access can be granted using fine-grained controls.</p>
<h2 id="the-public-view">The Public View</h2>
<p>Every Asset has a private view which is only visible to Tenancy Administrators and those who are given access through an Access Policy. Other Assets, such as those that meet the requirements of the 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a>, have a 
<a href="/platform/overview/public-attestation/">Public View</a> which is visible to everyone.
The purpose of this view is to allow anyone to verify that the document that they are using is genuine and has not been altered. When the document Audit Trail is combined with 
<a href="/platform/overview/instaproof/">Instaproof</a> a user of your data can easily find out which version of a document they have and confirm that it is genuine.</p>
<h2 id="the-golden-thread">The Golden Thread</h2>
<p>Using the four concepts of Tenancy, Assets, Events and Access Policies it is possible to create a Golden Thread of evidence makes up the Data Trails Audit Trail.
This has many use cases relating to content authenticity but can also be applied to supply chain integrity and standards compliance, or fact anything where stakeholders need transparency and trust.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#TheGoldenThread" img class="img-fluid responsive" src="/platform/overview/core-concepts/TheGoldenThread.png" width="4007" height="1580" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" src="/platform/overview/core-concepts/TheGoldenThread.png" width="4007" height="1580" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Golden Thread</em></figcaption>
</figure>





<div class="modal fade" id="TheGoldenThread" tabindex="-1" aria-labelledby="TheGoldenThread" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/core-concepts/TheGoldenThread_hu22cfa84ae3b85a68250a220bd521f5e3_1336588_200x0_resize_box_3.png 200w" width="4007" height="1580" alt="Rectangle">
      </div>
  
  </div>
</div>
`}).add({id:4,href:"https://docs.datatrails.ai/platform/overview/advanced-concepts/",title:"Advanced Concepts",description:"DataTrails Advanced Concepts",content:`<h2 id="assets-and-events">Assets and Events</h2>
<p>The core tenets of the DataTrails platform are <em>Assets</em> and <em>Events</em>. These are the records that represent the collective &lsquo;Golden Thread&rsquo; of evidence contributed by all stakeholders about a particular thing.</p>
<p>Assets can represent anything: a file, a piece of data, a physical thing or even a business process. As long as shared accountability needs to be traced and trustworthy, it can be recorded as a DataTrails Asset.</p>
<p>Events are a way to provide updates to Assets, building a historical view of the Asset, what has happened and how it got into its current state. These updates in events can be changes to the thing itself, custody of the thing, or even an observation of an interaction with the thing.<br>
Any interaction with the thing can be significant, from user logins to unexpected restarts or ad-hoc observations. Keeping a record of these Events can build up a picture of how an Asset came to be in its current state and provides crucial insight to future maintenance staff, auditors, and security remediation teams.</p>
<p>Knowing the current state of an Asset isn&rsquo;t enough: sure, it has software version 3.0 now but when was that installed? Before the major incident? After the major incident? This morning before the support call? By recording events into an immutable audit trail, questions relating to that asset can be answered.</p>
<p>DataTrails Assets are essentially very simple: a collection of <em>attributes</em> that describe the Asset expressed as a standard JSON document. The power of the system comes from the fact that those attributes come with complete traceable provenance and are guaranteed to appear the same to every stakeholder, creating a single source of truth for shared business processes.</p>
<p>DataTrails is not opinionated about Asset content, meaning that attributes can trace anything deemed important to participants. Much like #hashtags on social media platforms, they can be invented by anyone at any time, but once an attribute has been seen once it will be fully traced from that point on.</p>
<p>DataTrails ensures complete and tamper-proof lineage and provenance for all Asset attributes by enforcing a simple rule:
<em>The only way to change an Asset attribute is through an Event that records Who Did What When to make that change.</em></p>
<p>A simple Asset might look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">   <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Fixed global identity for this Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// The set of tracked and traced attributes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// arc_* are understood and processed by DataTrails
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Top Trump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Opel Kadett Rallye 1900&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Opel Kadett Rallye 1900 Top Trump card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;5a&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// attribute with &#34;arc_attribute_type&#34;: &#34;arc_attachment&#34; is a reference to a BLOB attached to the Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/1754b920-cf20-4d7e-9d36-9ed7d479744d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;somepic.jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// All others are user-defined attributes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nt">&#34;bhp&#34;</span><span class="p">:</span> <span class="s2">&#34;145&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;top_speed&#34;</span><span class="p">:</span> <span class="s2">&#34;190&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;860&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;engine_capacity&#34;</span><span class="p">:</span> <span class="s2">&#34;1980&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Behaviours define the set of APIs that can be used to interact with the Asset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Date and time at which these attributes were contemporary
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-06-25T12:40:03Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Storage and integrity properties - managed by the system
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;LEDGER&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The Asset Identity is fixed and constant for the life of the Asset and across all stakeholders. This ensures easy traceability and assurance that all stakeholders are collaborating on the same object and see the same complete history of Events.</div>
  </blockquote>
<h3 id="deleting-assets-untracking">Deleting Assets (untracking)</h3>
<p>An essential value of storing evidence in DataTrails is that data is always available to stakeholders and cannot be shredded or manipulated later. Given this, it is not possible to actually delete Assets from the system, but there will be cases where it is desirable to hide Assets in the UI or omit them from default searches or compliance queries (for instance as a result of decommissioning or disposal of the corresponding physical asset).</p>
<p>To accommodate this need DataTrails separates the Asset estate into 2 classes: tracked Assets (those that are interesting to the system and actively recording events) and untracked Assets (those that are no longer actively interesting). When for any reason it becomes desirable to remove an Asset, the Asset owner can make it <em>untracked</em> so that it does not appear in lists or searches.</p>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> Untracking an Asset does not remove it or its Event history from the system; all stakeholders who previously had access to the record will continue to have access to the Event history, <em>including</em> the untracking event, if they look for it.</div>
  </blockquote>
<h3 id="timestamps-on-events">Timestamps on Events</h3>
<p>Lifecycle events in DataTrails give stakeholders a shared view of “Who did What When to an Asset&quot;. The “What” and the &ldquo;Asset&rdquo; are quite straightforward, but the “When” and “Who” can be more nuanced.</p>
<p>Once committed to the DataTrails system, each lifecycle Event record carries 3 separate timestamps:</p>
<ul>
<li><code>timestamp_declared</code> - an optional user-supplied value that tells when an Event happened. This is useful for cases where the client system is off-line for a period but the user still wishes to record the accurate time and order of activities (eg inspection rounds in an air-gapped facility). If unspecified, the system sets timestamp_declared equal to timestamp_accepted (see below).</li>
<li><code>timestamp_accepted</code> - the time the event was actually received on the DataTrails REST interface. Set by the system, cannot be changed by the client.</li>
<li><code>timestamp_committed</code> - the time the event was confirmed distributed to all DLT nodes in the value chain. Set by the system, cannot be changed by the client.</li>
</ul>
<p>Having these 3 fields enables users of DataTrails to accurately reflect what is claimed, whilst also preventing tampering and backdating of entries.</p>
<h3 id="user-principals-on-events">User Principals on Events</h3>
<p>Just as with the &ldquo;When&rdquo;, the &ldquo;Who&rdquo; of “Who Did What When to an Asset&quot; is potentially complicated if, for example, an application or gateway is acting on behalf of some other real-world user.</p>
<p>Once committed to the DataTrails system, each lifecycle Event record carries 2 separate user identities:</p>
<ul>
<li><code>principal_declared</code> - an optional user-supplied value that tells who performed an Event. This is useful for cases where the user principal/credential used to authorize the Event does not accurately or usefully reflect the real-world agent (eg a multi-user application with device-based credentials).</li>
<li><code>principal_accepted</code> - the actual user principal information belonging to the credential used to access the DataTrails REST interface. Set by the system and retrieved from the authorizing IDP, cannot be changed by the client.</li>
</ul>
<p>For more detailed information on Events, and how to implement them, please refer to the 
<a href="/developers/api-reference/events-api/">Events API Reference</a>.</p>
<h2 id="access-policies">Access Policies</h2>
<p>Sharing the right amount of information with your value chain partners is critical to creating a trustworthy shared history for Assets. It is important that every participant be able to see and contribute to the management of Assets without compromising security, commercial, or private personal information. For example, competing vendors should not see each other’s information, but both should be able to freely collaborate with their mutual customer or industry regulator.</p>
<p>In other scenarios, it is desirable to share basic maintenance information with a vendor or external maintenance company, whilst restricting critical operating information such as run cycles and cyber SLAs to a much smaller group.</p>
<p>DataTrails Access Policies are the method through which this access is defined, allowing Asset owners to collaborate with just the right partners at the right time, sharing as much or as little access to Assets as the needs of the value chain partners dictate. All transactions are private by default, meaning that only the Asset owner can see and update Asset histories until a sharing policy has been set up. This ensures ready compliance with important regimes such as GDPR and antitrust regulations, as well as allowing safe and ready collaboration with a large and diverse range of value chain partners in the DataTrails network when required.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To collaborate with a value chain partner you first need to enroll them as a partner in your DataTrails Tenancy by exchanging your public DataTrails Subject Identity with each other, a little like making a new LinkedIn connection or Facebook friend.</p>
<p>This one-time manual process helps to underpin trust and security in your DataTrails Access Policies by ensuring that the partners represented in them are the ones you expect.</p>
</div>
  </blockquote>
<h3 id="public-attestations">Public Attestations</h3>
<p>While a strict, 1-to-1 relationship might be desirable for some use cases, it is also possible that a recorded asset and associated events are recorded in a more widely accessible way. With the use of our <em>Public</em> setting for an asset, you can create an access policy which enables anyone to view that asset record. A viewer of that asset does not have to be registered with DataTrails, and can anonymously use our 
<a href="/platform/overview/instaproof">Instaproof</a> service to check the thing they have against the public record in DataTrails.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Instaproof uses the hash of a file, piece of data or digital artifact to check for associated records with that hash value. This enables users to quickly check if the thing they have is the correct, unaltered version they are expecting.</div>
  </blockquote>
<h3 id="considerations">Considerations</h3>
<p>As with any system handling large amounts of important data, one must carefully consider the design and scope of Access Policy rules in DataTrails.
Every situation is different, and the DataTrails Access Policy system is flexible and powerful enough to support most situations, but in general it is recommended to follow some basic rules:</p>
<ul>
<li>Aim for fewest possible number of policies: This makes it much easier to review and manage access rights.</li>
<li>Balance complex, highly-specific policies with simple, broad ones: Remember rights granted by policy are additive.</li>
<li>A single Access Policy can contain several permission groups, so it is possible to define a single filter to cover a particular population of Assets, then apply different rights to different sets of users and partner organizations. This is often a simpler way to manage access than to create separate Access Policies for each set of users.</li>
<li>Remember attributes can change: ABAC policies are applied at time of access request, not at time of creation, so changing attributes on an asset may change which access policies apply to it. This is one of the primary advantages to an ABAC system, but needs to be kept in mind when designing access control processes.</li>
</ul>
<h3 id="access-policy-configuration">Access Policy configuration</h3>
<p>DataTrails employs a principle called Attribute-Based Access Control (ABAC) for users within an organization who are given 
<a href="/platform/administration/sharing-access-inside-your-tenant/">internal access to your tenant</a>. A related concept called Organization-Based Access Control (OBAC) is provided to mediate data sharing between value chain participants who will share 
<a href="/platform/administration/sharing-access-outside-your-tenant/">external access to their tenants</a>.</p>
<p>Rather than applying a specific fixed policy to each Asset, or grouping them into rigid hierarchies, Access Policies are defined in terms of the observable properties (or attributes) of Assets and users, and if both match, the policy is applied. This enables much greater flexibility and expressivity than traditional hierarchical or role-based methods, whilst at the same time reducing complexity in defining sharing in large-scale systems.</p>
<p>DataTrails Access Policies comprise of 2 main parts:</p>
<ul>
<li>Filters: A list of attributes to match on Assets (this defines the scope of the policy)</li>
<li>Access Permissions: A list of access rights to be granted to users on those matching Assets</li>
</ul>
<p>A simple Access Policy may look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// identity and tenant are non-modifiable system info
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;tenant&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// User-friendly identifiers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Sample Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;An Access Policy created for DataTrails user docs&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Filters define which Assets this Policy applies to
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="s2">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// Any Crate, Box, or Bag ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Crate&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Box&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Bag&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// ... whose registered handler is either Fred or Margaret
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.handler=Fred&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.handler=Margaret&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// Permissions define what can be done with the matching Assets
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// Grant access to partner organizations by Subject Identity
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// The Subject Identity for a known partner eg ACME Co
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="s2">&#34;subjects/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span> 
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Grant access to local users by attribute (eg email address)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> 
</span></span><span class="line"><span class="cl">            <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;email=bill@synsation.com&#34;</span> <span class="p">]</span> <span class="p">}</span> 
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          <span class="c1">// Limit the APIs they can call
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Asset attributes these users can see
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Height&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;arc_display_type&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Asset attributes these users can modify
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Height&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Events from the Asset history these users can see
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Measure&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Open&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Seal&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Select which Events these users can contribute to the history
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Measure&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// Note the include_attributes field is deprecated
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Observe that there are 2 lists in the <code>filters</code> which concern different attributes. The effect of this is to say that an Asset matches the filters if it matches <em>at least one</em> entry from <em>every list</em>. Or in other words, inner lists are <code>OR</code>, while outer lists are <code>AND</code>.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">Filters</span> <span class="err">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">type=Pump</span><span class="p">,</span> <span class="err">type=Valve</span><span class="p">]</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">vendor=SynsationIndustries</span><span class="p">]</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="err">location=ChicagoWest</span><span class="p">,</span><span class="err">location=ChicagoEast</span><span class="p">]</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>In the above simplified example, the policy would apply to any Pump or Valve from SynsationIndustries installed in either the ChicagoWest or ChicagoEast sites, but it would not match:</p>
<ul>
<li>Other device types from SynsationIndustries;</li>
<li>Pumps or Valves from any other vendor;</li>
<li>SynsationIndustries Valves installed in a different location</li>
</ul>
</div>
  </blockquote>
<h3 id="revoking-access">Revoking Access</h3>
<p>DataTrails adopts a ‘default deny’ approach so access to an Asset Record is only possible if an Access Policy explicitly allows it.</p>
<p>Revoking access can therefore be achieved in a number of ways, any of which may be more or less appropriate for the circumstances:</p>
<ul>
<li>Remove the whole Access Policy</li>
<li>Change the attributes of the Asset so that it no longer matches the Access Policy (eg change location)</li>
<li>Change the attributes of the user or subject so that they no longer match the Access Policy (eg change IDP group)</li>
<li>Turn off the user’s login at the IDP</li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> As with any fair decentralized system it is not possible to &lsquo;unsee&rsquo; information. Any change in OBAC access policies <em>including revoking OBAC access to a value chain partner</em> only applies to new information contributed <em>after</em> the policy change. This ensures continued fair access to the historic evidence base for all legitimate participants whilst also maintaining control of future operations with the Asset owner.</div>
  </blockquote>
<h2 id="attachments-and-blobs">Attachments and Blobs</h2>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails intends to be a store of metadata for your data that is independent of that data, allowing you to continue to work in the places where you already work. Where it is possible, DataTrails recommends keeping your data in the places that it is already kept, rather than creating a duplicate copy in your ledger.</div>
  </blockquote>
<p>Attachments in DataTrails enable images, PDFs and other binary data to be attached to Assets and Events. This brings added richness to the evidence base and facilitates high fidelity collaboration between stakeholders.</p>
<p>Adding an attachment to an Asset or Event enables recording of characteristics or evidence that are very difficult to capture in the rigid structured JSON data of Attributes. For example:</p>
<ul>
<li>a photograph of the physical state of a device such as alignment of components or wear on tamper seals at the time of a particular inspection</li>
<li>a PDF of a safety conformance report to support a maintenance event</li>
<li>a software manifest to support an update</li>
<li>an x-ray image</li>
</ul>
<p>Attaching rich evidence to an Asset or Event is a two step process:</p>
<ol>
<li>First a Binary Large OBject (BLOB) is uploaded</li>
<li>Then a reference to that blob is attached to the Event or Asset.</li>
</ol>
<p>To add attachments to an Event, simply specify an attribute in the <code>event_attributes</code> of the POST request with a dictionary including the blob information and with <code>&quot;arc_attribute_type&quot;: &quot;arc_attachment&quot;</code>. To add or update an attachment on an Asset, put the attachment attribute in the <code>asset_attributes</code> of the request instead.</p>
<p>For more detailed information on Attachments and how to implement them, please refer to 
<a href="/developers/api-reference/blobs-api/">the Blobs API Reference</a> and 
<a href="/developers/api-reference/attachments-api/">the Attachments API Reference</a></p>
<h3 id="the-primary-image">The Primary Image</h3>
<p>Attachments on Assets are named in their arc_display_name property, so that they can be searched and indexed. Names are arbitrary and may be defined according to the needs of the application, but one name is reserved and interpreted by the DataTrails services: <code>arc_primary_image</code>.
If an asset has an attachment attribute named <code>arc_primary_image</code>, then this will be used by the SaaS user interface and other tools to represent the asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Blobs and Attachments cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment.</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> While Attachments are generally expected to be unique, the same attachment can be applied to multiple assets, such as the case of a process manual PDF.</div>
  </blockquote>
<h2 id="geolocation">Geolocation</h2>
<p>DataTrails supports 2 different main concepts of geolocation, and it&rsquo;s important to choose the correct one for your use case.</p>
<ul>
<li><em>Locations</em> on Assets, which enable grouping of Assets based on some common management (&ldquo;All these devices live in the Basingstoke factory&rdquo;)</li>
<li><em>GIS coordinates</em> on Events, which enable recording of exactly where an event took place, and when analyzed together can show the movement of an Asset (&ldquo;This was scanned in London, and later sold in Manchester&rdquo;)</li>
</ul>
<p>Essentially Locations give you groupings:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#locations_grouping" img class="img-fluid responsive" src="/platform/overview/advanced-concepts/locations_grouping.png" width="3596" height="1896" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" src="/platform/overview/advanced-concepts/locations_grouping.png" width="3596" height="1896" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Grouping Assets by location</em></figcaption>
</figure>





<div class="modal fade" id="locations_grouping" tabindex="-1" aria-labelledby="locations_grouping" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" width="3596" height="1896" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>Whereas Event coordinates give you tracking:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#gis_tracking" img class="img-fluid responsive" src="/platform/overview/advanced-concepts/gis_tracking.png" width="3596" height="1896" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" src="/platform/overview/advanced-concepts/gis_tracking.png" width="3596" height="1896" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Tracking Assets with GIS coordinates</em></figcaption>
</figure>





<div class="modal fade" id="gis_tracking" tabindex="-1" aria-labelledby="gis_tracking" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" width="3596" height="1896" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<h3 id="asset-locations">Asset Locations</h3>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> It is important to recognize that the location does not necessarily denote the Asset’s current position in space; it simply determines which facility the Asset belongs to. For things that move around, use GIS coordinates on Events instead.</div>
  </blockquote>
<p>Assets in DataTrails can be arranged into locations, which allows virtual assets (eg digital twins) to be grouped together in a physical context (eg a single plant location). Locations have full 6-digit decimal latitude and longitude components along with full address details allowing high-precision placement on any map renderer or GIS software you wish to link them to. It is not required for assets to be associated with a location, but it is a useful way to group assets in the same physical location and provides for numerous convenience functions in the DataTrails UI.</p>
<p>This enables users of the system to quickly identify the answers to questions such as “how many PLCs in the Greyslake plant need to be updated?”, or “who was the last person to touch any device in the Cape Town facility?”. Locations support custom attributes which can be defined and used for any purpose by the user. This enables storage of a mailing address, phone number, or contact details of the site manager, for example.</p>
<p>Locations are editable and deletable as much as you want. Their references are stored on the DLT but the actual objects are not.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> If your use case does not concern physical sites like factory plant locations or offices it is still possible to use locations to logically group related Assets together. However, in this instance it is likely to be better and more scalable to use your own custom attribute to link Assets.</div>
  </blockquote>
<h3 id="gis-coordinates-on-events">GIS Coordinates on Events</h3>
<p>If you&rsquo;re wanting to track the movement of an Asset, or record an audit trail of <em>where</em> a particular Event happens, you can add <code>arc_gis_lat</code> and <code>arc_gis_lng</code> attributes to the <code>event_attributes</code>.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Sighting Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Observed at Fort Mason, San Francisco&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_gis_lat&#34;</span><span class="p">:</span> <span class="s2">&#34;37.807338&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_gis_lng&#34;</span> <span class="p">:</span> <span class="s2">&#34;-122.429286&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>Once applied the GIS coordinates on Events are immutable.</p>
<h2 id="compliance-policies">Compliance Policies</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creation and editing of Compliance Policies is only supported through the API.</div>
  </blockquote>
Trust is subjective. Compliance is a judgement call. No matter what security technology you have in play, every trust decision you make will depend on the circumstances: who is accessing what; where they’re coming from; how sensitive an operation they’re attempting; the consequences of getting it wrong. An Asset that is safe in one context may not be in another.</p>
<p>By maintaining a complete traceable record of Who Did What When to a Thing, DataTrails makes it possible for any authorized stakeholder to quickly and easily verify that critical processes have been followed and recorded correctly.  And if they weren’t, the record makes it easy to discover where things went wrong and what to fix. For instance, missed or late maintenance rounds can be detected simply by spotting gaps in the maintenance record; cyber vulnerable devices can be found by comparing ideal baselines with patching records; out-of-order process execution and handling violations are visible to all; and back-dating is automatically detectable.</p>
<p>All of this is very valuable in audit and RCA situations after an incident, where there is time to collect together Asset records, piece together the important parts, and analyze the meaning.</p>
<p>But what if the same information could be used for real-time decision-making that might avert an incident? This is where DataTrails’ “compliance posture” APIs come in. These take the thinking and processing burden off the client by providing a single, simple API call to answer the complex question: “given all you know about this asset, should I trust it right now?”. Additionally, and crucially for sensitive use cases, the yes or no answer comes with a detailed defensible reason why which can be inspected by relevant stakeholders during or after the event.</p>
<p>When put all together, this enables high quality decision making based on the best available data, even giving confidence to automated or AI systems to play a full part in operations. Assets can be checked as part of access control logic, prior to accepting data or commands from them, accepting a shipment, or anything else that is important to your business. Crucially, each stakeholder is able to define their own view on Compliance, meaning they can each apply their own unique lens and business concerns to the same evidence base.</p>
<h3 id="compliance-policy-configuration">Compliance Policy Configuration</h3>
<p>In order to make these trust decisions, DataTrails can be configured with Compliance Policies to check Assets against. These policies specify things like tolerance for vulnerability windows, maintenance SLAs, or detecting unusual values for attributes. For example:</p>
<ul>
<li>“Assets must be patched within 40 days of vulnerability notification”</li>
<li>“Maintenance calls must be answered within 72 hours”</li>
<li>&ldquo;rad level must be less than 7&rdquo;</li>
</ul>
<p>Policies can also declare relative tolerances,  such as:</p>
<ul>
<li>&ldquo;No shipping transfer should be more than 10% longer than the average time&rdquo;</li>
<li>&ldquo;The reported weight of this container should be within 1 standard deviation of the historic mean&rdquo;</li>
</ul>
<p>Individual assets either pass or fail, and organizations can calculate their overall security/compliance posture based on what proportion of their assets are breaching their policy set. Compliance signals can also be used to identify where risk lies in an organization and help to prioritize remedial activities.</p>
<h4 id="types-of-compliance-policy">Types of Compliance Policy</h4>
<p>As with Assets and Events, Compliance Policies are very flexible and can be configured to answer a wide range of business problems. The following categories of policy are supported:</p>
<ul>
<li><strong>COMPLIANCE RICHNESS</strong>: This Compliance Policy checks whether a specific attribute of an Asset is within acceptable bounds.<br>
For example, &ldquo;Weight attribute must be less than 1000 kg&rdquo;</li>
<li><strong>COMPLIANCE SINCE</strong>: This Compliance Policy checks if the time since the last occurrence of a specific Event Type has elapsed a specified threshold.<br>
For example, &ldquo;Time since last Maintenance must be less than 72 hours&rdquo;</li>
<li><strong>COMPLIANCE CURRENT OUTSTANDING</strong>: This Compliance Policy will only pass if there is an associated closing event addressing a specified outstanding event.<br>
For example, checking there are no outstanding &ldquo;Maintenance Request&rdquo; Events that are not addressed by an associated &ldquo;Maintenance Performed&rdquo; Event.</li>
<li><strong>COMPLIANCE_PERIOD_OUTSTANDING</strong>: This Compliance Policy will only pass if the time between a pair of correlated events did not exceed the defined threshold.<br>
For example, a policy checking that the time between &ldquo;Maintenance Request&rdquo; and  &ldquo;Maintenance Performed&rdquo; Events does not exceed the maximum 72 hours.</li>
<li><strong>COMPLIANCE_DYNAMIC_TOLERANCE</strong>: This Compliance Policy will only pass if the time between a pair of correlated events or the value of an attribute does not exceed the a variability from the usually observed values.<br>
For example, a policy checking that maintenance times are not considerably longer than normal, or the weight of a container is not much less than the typical average.</li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</div>
  </blockquote>
<h2 id="perspectives">Perspectives</h2>
<p>In the Asset example above there is an <code>at_time</code> property, which reflects a date and time at which these attributes and values were contemporary. Usually this will just be the current system time, but with DataTrails it is possible to go back in time and ask the question &ldquo;what would that asset have looked like to me had I looked at it last week/last year/before the incident?&rdquo;. Using its high integrity record of Asset lineage, DataTrails can give clear and faithful answers to those questions with no fear of backdating, forgery, or repudiation getting in the way.</p>
<p>To do this, simply add <code>at_time=TIMESTAMP</code> to your query. For example, to check the state an Asset was in at 15:30 UTC on 23rd June:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Authorization: Bearer </span><span class="k">$(</span>cat .auth_token<span class="k">)</span><span class="s2">&#34;</span> -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx?at_time<span class="o">=</span>2021-06-23T15:30:00Z <span class="p">|</span> jq 
</span></span></code></pre></div><p>Compliance calls can be similarly modified to answer questions like &ldquo;had I asked this question at the time, what would the answer have been?&rdquo; or &ldquo;had the AI asked this question, would it have made a better decision?&rdquo;. This can be done by adding a <code>compliant_at</code> timestamp to the compliance request.</p>
<h2 id="thats-it">That&rsquo;s it</h2>
<p>These are all the basics of DataTrails. With this knowledge you can now 
<a href="/developers/api-reference/">jump straight into the API</a> or try other topics on the 
<a href="/platform/overview/introduction">DataTrails Platform</a>.</p>
`}).add({id:5,href:"https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/",title:"Containers as Assets",description:"Using DataTrails to Represent Containers",content:`<h2 id="represent-containers-using-datatrails">Represent Containers Using DataTrails</h2>
<p>DataTrails Assets can be used to track the status, contents, location, and other key attributes of containers over time. This can also be done for containers within containers. For example, you may wish to track bags inside boxes that are inside a shipping container being transported on a train.</p>
<h2 id="create-a-container-asset">Create a Container Asset</h2>
<p>A Container Asset is not a special type of asset, it is a label that is given to an Asset that has been created to represent a container. For more detail on the Asset creation process, please see our 
<a href="/platform/overview/creating-an-asset/">DataTrails Overview guide</a>.<br>For this example, we will create a simple asset that we will call <code>Shipping Container</code>. Note that with DataTrails, we could also record more complex attributes such as size of the container, weight, location, or any other important details. For now, we will create a minimal Asset that includes the name and type.</p>
<ul class="nav nav-tabs" id="shipping_container_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#shipping_container_asset-0" type="button" role="tab" aria-controls="shipping_container_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#shipping_container_asset-1" type="button" role="tab" aria-controls="shipping_container_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#shipping_container_asset-2" type="button" role="tab" aria-controls="shipping_container_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="shipping_container_asset"><div id="shipping_container_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="shipping_container_asset-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#ShippingContainer" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/ShippingContainer.png" width="851" height="521" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/ShippingContainer.png" width="851" height="521" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Create the Shipping Container</em></figcaption>
</figure>
<div class="modal fade" id="ShippingContainer" tabindex="-1" aria-labelledby="ShippingContainer" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/ShippingContainer_hu5b6cd979a82f9ff826c2a060cf9601ff_37299_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;521&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="shipping_container_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="shipping_container_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a shipping container asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="shipping_container_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="shipping_container_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">asset.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Use <code>curl</code> to <code>POST</code> the asset, viewing the result with <code>jq</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@asset.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>If errors occur, see 
<a href="../getting-access-tokens-using-app-registrations/#troubleshooting-token-generation">Troubleshooting Token Generation</a></p>
</div></div>

<h2 id="associate-an-item-or-container-with-another-container">Associate an Item or Container with Another Container</h2>
<p>Now that we have created a <code>Shipping Container</code> Asset, we can create another Asset to represent an item or a box of items that are to be shipped in the Shipping Container. To do this, we will create another Asset and add a custom <code>Asset Attribute</code> that links it to our Shipping Container. For example, let&rsquo;s create an Asset to represent a box that is being transported within the Shipping Container.</p>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For this example, we used the custom attribute <code>within_container</code>, but you could use any key to associate the Assets that does not contain the reserved <code>arc_</code> prefix.</div>
  </blockquote>
<ul class="nav nav-tabs" id="box_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#box_asset-0" type="button" role="tab" aria-controls="box_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#box_asset-1" type="button" role="tab" aria-controls="box_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#box_asset-2" type="button" role="tab" aria-controls="box_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="box_asset"><div id="box_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="box_asset-0">
</br>
<ol>
<li>
<p>Set the <code>Name</code> and <code>Type</code></p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#BoxAsset" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/BoxAsset.png" width="849" height="520" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/BoxAsset.png" width="849" height="520" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Create the Box</em></figcaption>
 </figure>
 <div class="modal fade" id="BoxAsset" tabindex="-1" aria-labelledby="BoxAsset" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/BoxAsset_hu3a64a0774a5935d8e4e67b90e8919f56_34891_200x0_resize_box_3.png 200w&quot; width=&quot;849&quot; height=&quot;520&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
<li>
<p>Click <code>Advanced Options</code></p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#WithinContainer" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/WithinContainer.png" width="838" height="541" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/WithinContainer.png" width="838" height="541" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Add an Extended Attribute</em></figcaption>
 </figure>
 <div class="modal fade" id="WithinContainer" tabindex="-1" aria-labelledby="WithinContainer" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/WithinContainer_hu6fc945a625afbad1ac15a05b498dbd2b_61296_200x0_resize_box_3.png 200w&quot; width=&quot;838&quot; height=&quot;541&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
<li>
<p>Click <code>ADD ATTRIBUTE</code> to set <code>Extended Attributes</code></p>
</li>
<li>
<p>Add Attribute = <code>within_container</code> and Value = <code>Shipping Container</code></p>
</li>
<li>
<p>Click <code>REGISTER ASSET</code> to complete the association of the box within the container</p>
</li>
<li>
<p>Repeat the above a few times, editing the <code>Name</code> to add several boxes within the <code>Shipping Container</code></p>
</li>
</ol>
</div>
  <div id="box_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="box_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a box asset and associate with Shipping Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Box </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Box-1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Box</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">within_container</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>Repeat the above a few times, editing the <code>arc_display_name</code> to add several boxes within the <code>Shipping Container</code></p>
</div>
  <div id="box_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="box_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">asset-box.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Box-1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Box&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;within_container&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Use <code>curl</code> to <code>POST</code> the asset, viewing the result with <code>jq</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@asset-box.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets <span class="p">|</span> jq
</span></span></code></pre></div><p>Repeat the above a few times, editing the <code>arc_display_name</code> to add several boxes within the <code>Shipping Container</code></p>
<p>If errors occur, see 
<a href="../getting-access-tokens-using-app-registrations/#troubleshooting-token-generation">Troubleshooting Token Generation</a></p>
</div></div>
</p>
<p>The <code>Box(es)</code> have been recorded as being within the <code>Shipping Container</code>.</p>
<h2 id="list-all-assets-associated-with-a-container">List All Assets Associated With a Container</h2>
<p>To retrieve all Assets associated with a container, you can run a query with a filter that will identify which Assets have the attribute <code>within_container</code> set to the desired value. To list all Assets inside of <code>Shipping Container</code>:</p>
<ul class="nav nav-tabs" id="list_contents" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#list_contents-0" type="button" role="tab" aria-controls="list_contents-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#list_contents-1" type="button" role="tab" aria-controls="list_contents-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#list_contents-2" type="button" role="tab" aria-controls="list_contents-2" aria-selected="false">CURL</button>
		</li></ul>
<div class="tab-content" id="list_contents"><div id="list_contents-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="list_contents-0">
</br>
<ol>
<li>
<p>Select <code>Audit/Filter</code> in the navigation to filter Assets and Events within your tenancy</p>
</li>
<li>
<p>Select <code>ADD FILTER</code></p>
</li>
<li>
<p>Select <code>Asset Attribute</code>, set the name to <code>within_container</code> and the value to <code>Shipping Container</code></p>
</li>
<li>
<p>Select <code>APPLY FILTERS</code> to view the subset of Assets created</p>
 <figure class="border-0">
   <input type="image" data-bs-toggle="modal" data-bs-target="#AssetFilter" img class="img-fluid responsive" src="/developers/developer-patterns/containers-as-assets/AssetFilter.png" width="1546" height="532" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w" alt="Rectangle">
   <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/containers-as-assets/AssetFilter.png" width="1546" height="532" alt="Rectangle"></noscript>
   <figcaption class="figure-caption"><em>Filter Assets and Events</em></figcaption>
 </figure>
 <div class="modal fade" id="AssetFilter" tabindex="-1" aria-labelledby="AssetFilter" aria-hidden="true">
   <div class="modal-dialog modal-xl">
<pre><code>   &lt;div class=&quot;modal-body&quot;&gt;

     &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/containers-as-assets/AssetFilter_hufd97a220f23c4289bd144ff97611c52c_65435_200x0_resize_box_3.png 200w&quot; width=&quot;1546&quot; height=&quot;532&quot; alt=&quot;Rectangle&quot;&gt;
   &lt;/div&gt;
</code></pre>
   </div>
 </div>
</li>
</ol>
</div>
  <div id="list_contents-1" class="tab-pane fade" role="tabpanel" aria-labelledby="list_contents-1">
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets within Shipping Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">within_container</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="list_contents-2" class="tab-pane fade" role="tabpanel" aria-labelledby="list_contents-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.within_container=Shipping%20Container&#34;</span> <span class="p">|</span> jq
</span></span></code></pre></div></div></div>

`}).add({id:6,href:"https://docs.datatrails.ai/developers/developer-patterns/namespace/",title:"Namespace",description:"Using Namespace in an DataTrails Tenancy",content:`<p>Namespace is a tool that can be used to prevent unwanted interactions when multiple users are performing testing in the same Tenancy. Using two separate namespaces prevents collisions that may cause undesirable results by allowing multiple users to interact with the same Assets and Events without interrupting each other.</p>
<p>Namespace can be added as an attribute within the files you are testing, or as a variable in your Bash environment.</p>
<p>To add namespace as an attribute to your files, use the <code>arc_namespace</code> key. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Originally shipped from Shanghai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;test_02-17-23&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Width&#34;</span><span class="p">:</span> <span class="s2">&#34;2.43m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Length&#34;</span><span class="p">:</span> <span class="s2">&#34;6.06m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Height&#34;</span><span class="p">:</span> <span class="s2">&#34;2.59m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>To use namespace as a variable, such as the date, add the argument to your Bash environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> <span class="nb">export</span> <span class="nv">TEST_NAMESPACE</span><span class="o">=</span>date
</span></span></code></pre></div><p>See 
<a href="https://github.com/datatrails/datatrails-samples/blob/main/DEVELOPERS.md#test_namespace" target="_blank" rel="noopener">TEST_NAMESPACE</a> in our GitHub repository for more information. <code>TEST_NAMESPACE</code> can also be added to your Bash profile to be automatically picked up when testing.</p>
`}).add({id:7,href:"https://docs.datatrails.ai/platform/overview/creating-an-asset/",title:"Creating an Asset",description:"Creating your first Asset",content:`<p>An Asset can be anything: a file (a document, an image, a sound file etc.), a software application, a shipping container, or even a physical product. It can be any digital or physical object with an associated name, description, and attributes.</p>
<p>Each Asset will have a history of any actions performed upon it by any actor.</p>
<p>You may share Assets and their history with specific stakeholders using 
<a href="/platform/administration/managing-access-to-an-asset-with-abac/">permission sharing</a>. DataTrails also enables you to publicly attest the provenance of your Assets. To learn how, see 
<a href="/platform/overview/public-attestation/">Public Attestation</a>.</p>
<p>The creation of an Asset is the first Event in its lifecycle. The following steps will guide you in creating your first Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Please refer to 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> for more information on Assets.</div>
  </blockquote>
<h2 id="creating-an-asset">Creating an Asset</h2>
<ol>
<li>
<p>Create your Asset
<ul class="nav nav-tabs" id="add_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset-0" type="button" role="tab" aria-controls="add_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-1" type="button" role="tab" aria-controls="add_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-2" type="button" role="tab" aria-controls="add_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset"><div id="add_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset-0">
<p>Using the sidebar, select <code>Assets &amp; Documents</code> and then <code>Register Asset</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetRegister" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetRegister.png" width="1513" height="644" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetRegister.png" width="1513" height="644" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetRegister" tabindex="-1" aria-labelledby="AssetRegister" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetRegister_hu9bb31cc370f76a05b8c6bd6696ccfb33_78388_200x0_resize_box_3.png 200w&quot; width=&quot;1513&quot; height=&quot;644&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an \`action\`.
<p>In order to create an Asset we use the action <code>ASSETS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Add details to your new Asset.</p>
</li>
</ol>
<p><ul class="nav nav-tabs" id="add_asset_details" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details-0" type="button" role="tab" aria-controls="add_asset_details-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-1" type="button" role="tab" aria-controls="add_asset_details-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-2" type="button" role="tab" aria-controls="add_asset_details-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details"><div id="add_asset_details-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details-0">
<p>You will see an Asset Creation form, where you provide details of your new Asset:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreateUpdate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreateUpdate" tabindex="-1" aria-labelledby="AssetCreateUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w&quot; width=&quot;1052&quot; height=&quot;626&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset_details-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-1">
<p>Here you can fill out some more metadata about your asset:</p>
<ul>
<li><code>selector</code> is the identifying attribute the yaml runner will use to check if your Asset exists already before attempting to create it. In this case, we use <code>arc_display_name</code> which represents the name of the Asset.</li>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behavior for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-2">
<p>In the file you created earlier, begin adding metadata for your Asset:</p>
<ul>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behavior for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
<ol>
<li>
<p>As a minimum, you will need to add an Asset Name and Asset Type to create an Asset:</p>
<ul>
<li><code>Asset Name</code> - This is the unique name of the Asset i.e. &lsquo;My First Container&rsquo;.</li>
<li><code>Asset Type</code> - This is the class of the object; while it is arbitrary, it is best to have consistency amongst the type of Assets you use i.e. if it is a shipping container, the type could be <code>Shipping Container</code>, which will then be pre-populated for future Assets to use as their own types.
<ul class="nav nav-tabs" id="add_asset_details_min" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details_min-0" type="button" role="tab" aria-controls="add_asset_details_min-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-1" type="button" role="tab" aria-controls="add_asset_details_min-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-2" type="button" role="tab" aria-controls="add_asset_details_min-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details_min"><div id="add_asset_details_min-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details_min-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreateUpdate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreateUpdate.png" width="1052" height="626" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding Asset Details</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreateUpdate" tabindex="-1" aria-labelledby="AssetCreateUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreateUpdate_hu3ae99467eaf06267ab1be3b6f2463cd1_64834_200x0_resize_box_3.png 200w&quot; width=&quot;1052&quot; height=&quot;626&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details_min-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-1">
<p>The YAML Runner uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code> respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details_min-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-2">
<p>The DataTrails API uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code> respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></li>
</ul>
</li>
<li>
<p>At this point, you may wish to use the <code>Advanced Options</code> tab to add other details to your Asset, including extended attributes or attachments such as PDFs or Thumbnail Images.</p>
<p><strong>Extended attributes are user-defined</strong> and can be added to each unique Asset.</p>
<p>Not all Assets of a specific type need to have the same extended attributes, but in most cases it is better to do so for consistency.</p>
<p>To add a new attribute to an Asset, enter your key-value pair.</p>
<p>For Example:
<ul class="nav nav-tabs" id="add_extended_attributes" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_extended_attributes-0" type="button" role="tab" aria-controls="add_extended_attributes-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-1" type="button" role="tab" aria-controls="add_extended_attributes-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-2" type="button" role="tab" aria-controls="add_extended_attributes-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_extended_attributes"><div id="add_extended_attributes-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_extended_attributes-0">
<p>Select <code>Add Attribute</code>, and add your key-value pairs.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetExtendedAttributes" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetExtendedAttributes.png" width="922" height="761" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetExtendedAttributes.png" width="922" height="761" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Extended Attributes</em></figcaption>
</figure>
<div class="modal fade" id="AssetExtendedAttributes" tabindex="-1" aria-labelledby="AssetExtendedAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetExtendedAttributes_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w&quot; width=&quot;922&quot; height=&quot;761&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_extended_attributes-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-1">
<p>Extended attributes are custom key-value pairs, such as <code>Width</code>, <code>Length</code>, and <code>Height</code> you see below.</p>
<p>This example also adds a location to our asset. To find out more about locations, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Originally shipped from Shanghai</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Width</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.43m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Length</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;6.06m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Height</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.59m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Parkside Junction</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Box intersection between Mill Road and East Road</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">52.2025</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">0.1311</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_extended_attributes-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-2">
<p>Extended attributes are custom key-value pairs, such as <code>Width</code>, <code>Length</code>, and <code>Height</code> you see below.</p>
<p>This example also adds a location to our Asset. To find out more about locations and how to find your Location ID, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Shipping Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Originally shipped from Shanghai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Width&#34;</span><span class="p">:</span> <span class="s2">&#34;2.43m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Length&#34;</span><span class="p">:</span> <span class="s2">&#34;6.06m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Height&#34;</span><span class="p">:</span> <span class="s2">&#34;2.59m&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Complete your Asset creation
<ul class="nav nav-tabs" id="finish_create_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_create_asset-0" type="button" role="tab" aria-controls="finish_create_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-1" type="button" role="tab" aria-controls="finish_create_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-2" type="button" role="tab" aria-controls="finish_create_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_create_asset"><div id="finish_create_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_create_asset-0">
<p>Click <code>Register Asset</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetCreate" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetCreate.png" width="922" height="761" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetCreate.png" width="922" height="761" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Create the Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetCreate" tabindex="-1" aria-labelledby="AssetCreate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetCreate_hu93db718b6cb3deac50690dae4c882fa9_58960_200x0_resize_box_3.png 200w&quot; width=&quot;922&quot; height=&quot;761&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_create_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret client_secret.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container.yaml
</span></span></code></pre></div></div>
  <div id="finish_create_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Assets
<ul class="nav nav-tabs" id="view_all_assets" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_all_assets-0" type="button" role="tab" aria-controls="view_all_assets-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-1" type="button" role="tab" aria-controls="view_all_assets-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-2" type="button" role="tab" aria-controls="view_all_assets-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_all_assets"><div id="view_all_assets-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_all_assets-0">
<p>Navigate to &lsquo;Assets &amp; Documents&rsquo; to see your Asset in the UI.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#Asset" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/Asset.png" width="1895" height="558" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/Asset.png" width="1895" height="558" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Assets</em></figcaption>
</figure>
<div class="modal fade" id="Asset" tabindex="-1" aria-labelledby="Asset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/Asset_huca91ed57542857e6117feddf87e8ce87_88962_200x0_resize_box_3.png 200w&quot; width=&quot;1895&quot; height=&quot;558&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_all_assets-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-1">
<p>You can view all Asset data using the <code>ASSETS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_all_assets-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-2">
<p>You can view all Asset data using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View details of the Asset you created
<ul class="nav nav-tabs" id="view_specific_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_specific_asset-0" type="button" role="tab" aria-controls="view_specific_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-1" type="button" role="tab" aria-controls="view_specific_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-2" type="button" role="tab" aria-controls="view_specific_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_specific_asset"><div id="view_specific_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_specific_asset-0">
<p>To view your Asset, click on the Asset row. You will see the detailed history of your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetView" img class="img-fluid responsive" src="/platform/overview/creating-an-asset/AssetView.png" width="1447" height="805" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-asset/AssetView.png" width="1447" height="805" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Asset</em></figcaption>
</figure>
<div class="modal fade" id="AssetView" tabindex="-1" aria-labelledby="AssetView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-asset/AssetView_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w&quot; width=&quot;1447&quot; height=&quot;805&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_specific_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-1">
<p>The <code>ASSETS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific Asset.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Asset named My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_specific_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-2">
<p>Details of a specific asset can be retrieved using identifying attributes (<code>attrs</code>), such as name, type, or presence of a certain field.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>My%20First%20Container
</span></span></code></pre></div></div></div>

Here we see all details entered: The extended attributes and a history of Events recorded on the Asset.
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> After registration, Assets cannot be updated using the asset creation screens but an Asset&rsquo;s <code>Asset Attributes</code> can be updated as part of an Event.</p>
<p>For more information on creating Events, 
<a href="/platform/overview/creating-an-event-against-an-asset/">click here.</a></p>
</div>
  </blockquote>
The first Event will always be the Asset Creation. In the next section, we will cover how to create your own Events for your Asset.</p>
</li>
</ol>
`}).add({id:8,href:"https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/",title:"Creating an Event Against an Asset",description:"Creating your first Event",content:`<p>If you wish to begin tracking your Asset history and build an immutable Audit Trail, you need to create Events.</p>
<p>Asset Creation is the first Event. The more Events recorded against an Asset, the richer and deeper its history becomes.</p>
<p>Events track key moments of an Asset&rsquo;s lifecycle; details of Who Did What When to an Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Before creating an Event, follow 
<a href="/platform/overview/creating-an-asset/">this guide</a> to create your first Asset. You will need to wait for the Asset to reach COMMITTED state before attempting to record an Event.</div>
  </blockquote>
<h2 id="creating-events">Creating Events</h2>
<ol>
<li>
<p>Create an Event
<ul class="nav nav-tabs" id="add_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event-0" type="button" role="tab" aria-controls="add_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-1" type="button" role="tab" aria-controls="add_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-2" type="button" role="tab" aria-controls="add_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event"><div id="add_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event-0">
<p>When viewing your Asset, click the <code>Record Event</code> button.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventRecord" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventRecord.png" width="1447" height="805" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventRecord.png" width="1447" height="805" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Recording an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventRecord" tabindex="-1" aria-labelledby="EventRecord" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecord_hua9522e9b54fb96fc9c60127b2a71e30e_77341_200x0_resize_box_3.png 200w&quot; width=&quot;1447&quot; height=&quot;805&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
<p>To create your Event, use the action <code>EVENTS_CREATE</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div><p>The <code>asset_id</code> must match the Asset ID found in the details of your Asset. See 
<a href="/platform/overview/creating-an-asset/">Step 7 of Creating an Asset</a>.</p>
</div>
  <div id="add_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Add Event type and description
<ul class="nav nav-tabs" id="add_event_type" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event_type-0" type="button" role="tab" aria-controls="add_event_type-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_type-1" type="button" role="tab" aria-controls="add_event_type-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_type-2" type="button" role="tab" aria-controls="add_event_type-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event_type"><div id="add_event_type-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event_type-0">
<p>You will see the following Event creation form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventInformation" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventInformation.png" width="857" height="656" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventInformation.png" width="857" height="656" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Entering Event Details</em></figcaption>
</figure>
<div class="modal fade" id="EventInformation" tabindex="-1" aria-labelledby="EventInformation" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventInformation_hu2bdcc5e2425264422dc0678b06e4d302_45250_200x0_resize_box_3.png 200w&quot; width=&quot;857&quot; height=&quot;656&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event_type-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_type-1">
<p>Fill out metadata about your Event</p>
<p><code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the attributes section you should also add the required DataTrails attributes <code>arc_description</code> and <code>arc_display_type</code> to represent <code>Event Description</code> and <code>Event Type</code> from the UI.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt; </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Inspection</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_event_type-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_type-2">
<p>Fill out metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the attributes section you should also add the required DataTrails attributes <code>arc_description</code> and <code>arc_display_type</code> to represent the UI fields <code>Event Description</code> and <code>Event Type</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Event&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This Event will be POSTed to a specific Asset endpoint when the curl command is run. To do this, you will need the desired <code>assets/&lt;asset-id&gt;</code> string.</p>
</div></div>
<br></p>
</li>
<li>
<p>You may enter both Event and Asset attributes</p>
<p><code>Event Attributes</code> - Attributes specific to an Event, i.e. which device recorded the Event<br>
<code>Asset Attributes</code> - Attributes of the Asset that <strong>may change</strong> as a result of the Event, i.e. overall weight of a container
<ul class="nav nav-tabs" id="add_event_attr" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event_attr-0" type="button" role="tab" aria-controls="add_event_attr-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_attr-1" type="button" role="tab" aria-controls="add_event_attr-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event_attr-2" type="button" role="tab" aria-controls="add_event_attr-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event_attr"><div id="add_event_attr-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event_attr-0">
<p>Select the <code>Add Attribute</code> button on each tab to add your key-value pairs.<br>You may also add an attachment to your Event. In this example we will attach a text document called <code>Inspection Standards</code> as a custom attribute. Select the symbol to upload a file.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AttachmentUpload" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/AttachmentUpload.png" width="834" height="554" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/AttachmentUpload.png" width="834" height="554" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Specific Attributes</em></figcaption>
</figure>
<div class="modal fade" id="AttachmentUpload" tabindex="-1" aria-labelledby="AttachmentUpload" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttachmentUpload_huca9c18cb5ad9e9a5dd8cc2eb7f47ec43_39865_200x0_resize_box_3.png 200w&quot; width=&quot;834&quot; height=&quot;554&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventAssetAttributes" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes.png" width="856" height="608" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes.png" width="856" height="608" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Asset Attributes</em></figcaption>
</figure>
<div class="modal fade" id="EventAssetAttributes" tabindex="-1" aria-labelledby="EventAssetAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAssetAttributes_huab17965c7480b70e4d85bd1b7d1ca55e_45141_200x0_resize_box_3.png 200w&quot; width=&quot;856&quot; height=&quot;608&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event_attr-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_attr-1">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs. You may also add an attachment to your Event. In this case, we have attached a PDF document labeled <code>Inspection Standards</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Container.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Inspection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Cargo</span><span class="p">:</span><span class="w"> </span><span class="l">Rare Metals</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Weight</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1192kg&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attachments</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">inspection_standards.pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">document/pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection Standards</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_event_attr-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event_attr-2">
<p>You may add an attachment to your Event. To do so you will need to upload your attachment to DataTrails using the 
<a href="/developers/api-reference/blobs-api/">Blobs API</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=document/pdf&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -F <span class="s2">&#34;file=@/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs
</span></span></code></pre></div><p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs. Use the <code>blobs/&lt;attachment-id&gt;</code> returned from the curl command above as the <code>arc_attachment_identity</code> in your Event.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Event&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Cargo&#34;</span><span class="p">:</span> <span class="s2">&#34;Rare Metals&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;inspection_standards&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;standards.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Inspection Standards&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Weight&#34;</span><span class="p">:</span> <span class="s2">&#34;1192kg&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

Here we see someone noted the type of cargo loaded in the Event, and recorded the total weight of the cargo using a newly defined <code>Weight</code> attribute.<br><br>
Every Event has an automatically generated <code>timestamp_accepted</code> and <code>principal_accepted</code> attribute that records <em>when</em> who performed what, as submitted to DataTrails.<br><br>
There is an option to append 
<a href="/platform/overview/advanced-concepts/#timestamps-on-events"><code>timestamp_declared</code></a> and 
<a href="/platform/overview/advanced-concepts/#user-principals-on-events"><code>principal_declared</code></a> attributes on the Event, for example, if the Event happened offline or a third party reports it. This creates a more detailed record.<br><br>
Documents and images can be recorded with an Event in the same way as an Asset. This is useful for storing additional material that is linked to the Audit Trail metadata for posterity.<br>For example, each <code>Inspection</code> Event can store the documentation for the specific standard used for each container inspection. This allows historical checking of Events and the standard and processes that were applied at the time.</p>
</li>
<li>
<p>Record your Event
<ul class="nav nav-tabs" id="record_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#record_event-0" type="button" role="tab" aria-controls="record_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-1" type="button" role="tab" aria-controls="record_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-2" type="button" role="tab" aria-controls="record_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="record_event"><div id="record_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="record_event-0">
<p>Once you have entered all data, click the <code>Record Event</code> Button to add the Event to your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventRecorded" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventRecorded.png" width="1452" height="854" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventRecorded.png" width="1452" height="854" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="EventRecorded" tabindex="-1" aria-labelledby="EventRecorded" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventRecorded_hua13fa2953a755f635e9cc29727a1eb9a_168784_200x0_resize_box_3.png 200w&quot; width=&quot;1452&quot; height=&quot;854&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
You will see that the Asset Attribute we changed is also recorded in the Asset View.</div>
  <div id="record_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-1">
<p>Use the 
<a href="https://python.datatrails.com/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container_inspection_event.yaml
</span></span></code></pre></div></div>
  <div id="record_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Event details
<ul class="nav nav-tabs" id="view_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_event-0" type="button" role="tab" aria-controls="view_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-1" type="button" role="tab" aria-controls="view_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-2" type="button" role="tab" aria-controls="view_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_event"><div id="view_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_event-0">
<p>Click the <code>Event history</code> tab and then on a row to inspect the Event:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventView.png" width="1464" height="619" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventView.png" width="1464" height="619" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventView" tabindex="-1" aria-labelledby="EventView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventView_hu8352d42e93db4c319d1848f1a4182d22_80626_200x0_resize_box_3.png 200w&quot; width=&quot;1464&quot; height=&quot;619&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here we see the details entered earlier and also tabs that will show both the Event attributes and Asset attribute updates:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventAttributeView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/EventAttributeView.png" width="642" height="271" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/EventAttributeView.png" width="642" height="271" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Event Attributes</em></figcaption>
</figure>
<div class="modal fade" id="EventAttributeView" tabindex="-1" aria-labelledby="EventAttributeView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/EventAttributeView_hu47b5c5509f834acbef095be646bb001e_32501_200x0_resize_box_3.png 200w&quot; width=&quot;642&quot; height=&quot;271&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AttributeUpdatesView" img class="img-fluid responsive" src="/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView.png" width="642" height="188" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w" src="/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView.png" width="642" height="188" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Attribute Updates</em></figcaption>
</figure>
<div class="modal fade" id="AttributeUpdatesView" tabindex="-1" aria-labelledby="AttributeUpdatesView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/AttributeUpdatesView_hu1ad0d707059cff985c02d3674d8df6d0_16042_200x0_resize_box_3.png 200w&quot; width=&quot;642&quot; height=&quot;188&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="view_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-1">
<p>The <code>EVENTS_LIST</code> action can be used to view all Events, or filtered using attributes (<code>attrs</code>) to view details of a specific Event</p>
<p>To view all Events, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List inspection Events against the Asset &#39;My First Container&#39;.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Inspection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container </span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-2">
<p>Event data can be viewed using curl commands</p>
<p>To view all Events across all Assets, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/-/events
</span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;
</span></span></code></pre></div></div></div>

Please see the 
<a href="/platform/administration/">Administration</a> section for information on how to manage your assets</p>
</li>
</ol>
<p>In the next section we look at a specific type of Asset, the Document Profile Asset.</p>
`}).add({id:9,href:"https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/",title:"Registering a Document Profile Asset",description:"Register document profile asset",content:`<p>The DataTrails document profile is a set of suggested Asset and Event attributes that allow you to trace the lifecycle of a document.</p>
<p>As it builds on the standard DataTrails asset the same processes are used for 
<a href="/platform/administration/managing-access-to-an-asset-with-abac/">Permissioned Sharing</a> and 
<a href="/platform/overview/public-attestation/">Public Attestation</a>.</p>
<p>The following steps will guide you in creating your first Document Profile Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Check out our 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> for more general information on Assets and 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a> for details of the Document Profile asset and event attributes.</div>
  </blockquote>
<h2 id="registering-a-document">Registering a Document</h2>
<ol>
<li>
<p>Register your Document
<ul class="nav nav-tabs" id="add_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset-0" type="button" role="tab" aria-controls="add_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-1" type="button" role="tab" aria-controls="add_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset-2" type="button" role="tab" aria-controls="add_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset"><div id="add_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset-0">
<p>Using the sidebar, select <code>Assets &amp; Documents</code> and then <code>Register Document</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocMenu" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu.png" width="1558" height="564" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu.png" width="1558" height="564" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Registering a Document</em></figcaption>
</figure>
<div class="modal fade" id="RegDocMenu" tabindex="-1" aria-labelledby="RegDocMenu" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu_hu48b7c32915a9dbabdc3641f0764b6807_82607_200x0_resize_box_3.png 200w&quot; width=&quot;1558&quot; height=&quot;564&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-1">
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.
<p><a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</div></p>
  </blockquote>
The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an \`action\`.
<p>In order to create an Asset we use the action <code>ASSETS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>You will see the Document Registration form<br>
The <code>Document Information</code> tab is where you enter the information that is required by the document profile. You have the option to drag your document into the Auto-fill box or you can enter the information into the form manually.<br>
The Trust data:</p>
<ul>
<li><code>Name</code> - This is the unique name of the Document i.e. &lsquo;My First Document&rsquo;</li>
<li><code>Version</code> - The version of your document</li>
<li><code>SHA-256 Hash</code> - Manually enter the SHA-256 hash of this document version. If you use the auto-fill box we will calculate the SHA-256 hash for you</li>
</ul>
<p>Additional options:</p>
<ul>
<li><code>Upload on Creation</code> - Upload the document in addition to the trust data</li>
<li><code>Attest Publicly</code> - Enable to allow public attestation of the document<br><br>
<ul class="nav nav-tabs" id="add_asset_details" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details-0" type="button" role="tab" aria-controls="add_asset_details-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-1" type="button" role="tab" aria-controls="add_asset_details-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details-2" type="button" role="tab" aria-controls="add_asset_details-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details"><div id="add_asset_details-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocForm2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocForm2.png" width="859" height="609" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocForm2.png" width="859" height="609" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Information</em></figcaption>
</figure>
<div class="modal fade" id="RegDocForm2" tabindex="-1" aria-labelledby="RegDocForm2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocForm2_hu1549a6f2eb0e7dbf41bb62ee6b4c54e5_67826_200x0_resize_box_3.png 200w&quot; width=&quot;859&quot; height=&quot;609&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-1">
<p>Here you can fill out some more metadata about your asset:</p>
<ul>
<li><code>selector</code> is the identifying attribute the yaml runner will use to check if your Asset exists already before attempting to create it. In this case, we use <code>arc_display_name</code> which represents the name of the Asset.</li>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behaviour for all Assets.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details-2">
<p>In the file you created earlier, begin adding metadata for your Asset:</p>
<ul>
<li><code>behaviours</code> detail what class of events in your Asset&rsquo;s lifecycle you might wish to record; <code>RecordEvidence</code> is the standard and recommended behaviour for all Assets.</li>
<li><code>public</code> determines whether your document is public (<em>true</em>) or private (<em>false</em>)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>  
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></li>
</ul>
</li>
<li>
<p>The <code>Advanced Options</code> tab is where you enter the Asset Attributes that are required for all asset types and also the optional document profile asset attributes.</p>
<ul>
<li><code>Document Type</code> - This is the class of the object; while it is arbitrary, it is best to have consistency amongst the type of Documents you use i.e. if it is a purchase order, the type could be <code>Purchase Order</code>, which will then be pre-populated for future Documents to use as their own types.</li>
<li><code>Proof Mechanism</code> - The method used to record the transaction to the DataTrails distributed ledger.</li>
</ul>
<p>Please see our 
<a href="/platform/overview/core-concepts/#proving-provenance">Core Concepts</a> section for more information on the Proof Mechanism for your Document
<ul class="nav nav-tabs" id="add_asset_details_min" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_asset_details_min-0" type="button" role="tab" aria-controls="add_asset_details_min-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-1" type="button" role="tab" aria-controls="add_asset_details_min-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_asset_details_min-2" type="button" role="tab" aria-controls="add_asset_details_min-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_asset_details_min"><div id="add_asset_details_min-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_asset_details_min-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions.png" width="854" height="641" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions.png" width="854" height="641" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Advanced Options</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions" tabindex="-1" aria-labelledby="RegDocAdvancedOptions" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions_hu5845d86c56c9b3917a6faf21ccd3a563_48297_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;641&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_asset_details_min-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-1">
<p>The YAML Runner uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code>respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_asset_details_min-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_asset_details_min-2">
<p>The DataTrails API uses the reserved attributes <code>arc_display_name</code> and <code>arc_display_type</code>  to represent <code>Asset Name</code> and <code>Asset Type</code>respectively.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>At this point, you may wish to add other details to your Document, including extended attributes or attachments such as PDFs or Thumbnail Images</p>
<p>Extended attributes are user-defined and can be added to each unique Document.</p>
<p>Not all Documents of a specific type need to have the same extended attributes, but in most cases it is better to do so for consistency.</p>
<p>To add a new attribute to a Document, enter your key-value pair.</p>
<p>For Example:
<ul class="nav nav-tabs" id="add_extended_attributes" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_extended_attributes-0" type="button" role="tab" aria-controls="add_extended_attributes-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-1" type="button" role="tab" aria-controls="add_extended_attributes-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_extended_attributes-2" type="button" role="tab" aria-controls="add_extended_attributes-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_extended_attributes"><div id="add_extended_attributes-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_extended_attributes-0">
<p>Select <code>Add Attribute</code>, and add your key-value pairs</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Extended Attributes</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions2" tabindex="-1" aria-labelledby="RegDocAdvancedOptions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;711&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_extended_attributes-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-1">
<p>Extended attributes are custom key-value pairs, such as <code>document_version</code>, <code>format</code>, and <code>some_custom_attribute</code> you see below.</p>
<p>This example also adds a location to our asset. To find out more about locations, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<p>It&rsquo;s also good practice to include <code>confirm: true</code> which tells DataTrails to finish committing the Asset before moving to the next step.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Promotional Material</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_profile</span><span class="p">:</span><span class="w"> </span><span class="l">Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">PUBLIC promotional document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Published</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l">pdf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">some_custom_attribute</span><span class="p">:</span><span class="w"> </span><span class="l">anything you like</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_extended_attributes-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_extended_attributes-2">
<p>Extended attributes are custom key-value pairs, such as <code>document_version</code>, <code>format</code>, and <code>some_custom_attribute</code> you see below.</p>
<p>This example also adds a location to our Asset. To find out more about locations and how to find your Location ID, 
<a href="/platform/administration/grouping-assets-by-location/">click here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Promotional Material&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;PUBLIC promotional document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;ff2f6191ec870e5120a94795274068f520168108cb8fc87f1239ffa72bd2550c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;format&#34;</span><span class="p">:</span><span class="s2">&#34;pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span><span class="s2">&#34;anything you like&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>Complete your Asset creation
<ul class="nav nav-tabs" id="finish_create_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_create_asset-0" type="button" role="tab" aria-controls="finish_create_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-1" type="button" role="tab" aria-controls="finish_create_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_create_asset-2" type="button" role="tab" aria-controls="finish_create_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_create_asset"><div id="finish_create_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_create_asset-0">
<p>Click <code>Register Document</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocAdvancedOptions2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2.png" width="854" height="711" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Register the Document</em></figcaption>
</figure>
<div class="modal fade" id="RegDocAdvancedOptions2" tabindex="-1" aria-labelledby="RegDocAdvancedOptions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocAdvancedOptions2_huab1851d5c67120d96ee056982cfad9f6_54326_200x0_resize_box_3.png 200w&quot; width=&quot;854&quot; height=&quot;711&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_create_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret client_secret.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_container.yaml
</span></span></code></pre></div></div>
  <div id="finish_create_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_create_asset-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View your Document
<ul class="nav nav-tabs" id="view_all_assets" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_all_assets-0" type="button" role="tab" aria-controls="view_all_assets-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-1" type="button" role="tab" aria-controls="view_all_assets-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_all_assets-2" type="button" role="tab" aria-controls="view_all_assets-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_all_assets"><div id="view_all_assets-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_all_assets-0">
<p>Navigate to &lsquo;Assets &amp; Documents&rsquo; to see your Asset in the UI.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RegDocMenu2" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu2.png" width="1474" height="462" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/RegDocMenu2.png" width="1474" height="462" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Assets</em></figcaption>
</figure>
<div class="modal fade" id="RegDocMenu2" tabindex="-1" aria-labelledby="RegDocMenu2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/RegDocMenu2_hu76edabda444e17823ecaa065bbeb45e3_55855_200x0_resize_box_3.png 200w&quot; width=&quot;1474&quot; height=&quot;462&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="view_all_assets-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-1">
<p>You can view all Asset data using the <code>ASSETS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all assets.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_all_assets-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_all_assets-2">
<p>You can view all Asset data using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
<br></p>
</li>
<li>
<p>View details of the Asset you created
<ul class="nav nav-tabs" id="view_specific_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_specific_asset-0" type="button" role="tab" aria-controls="view_specific_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-1" type="button" role="tab" aria-controls="view_specific_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_specific_asset-2" type="button" role="tab" aria-controls="view_specific_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_specific_asset"><div id="view_specific_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_specific_asset-0">
<p>To view your Asset, click on the Asset row. You will see the details and event history of your Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#DocAsset" img class="img-fluid responsive" src="/platform/overview/registering-a-document-profile-asset/DocAsset.png" width="1441" height="881" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w" src="/platform/overview/registering-a-document-profile-asset/DocAsset.png" width="1441" height="881" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Document Asset</em></figcaption>
</figure>
<div class="modal fade" id="DocAsset" tabindex="-1" aria-labelledby="DocAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/DocAsset_hufc808c570642cc800b023dcbc1ed1bd3_105159_200x0_resize_box_3.png 200w&quot; width=&quot;1441&quot; height=&quot;881&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>The extended attributes are in the <code>Attributes</code> dropdown.</p>
</div>
  <div id="view_specific_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-1">
<p>The <code>ASSETS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific Asset.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps:An Asset can be anything</span><span class="p">:</span><span class="w"> </span><span class="l">a connected machine, a shipping container, or even a data set. It can be any physical or digital object with an associated name, description, and attributes.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">Each</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Asset named My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Document</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_specific_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_specific_asset-2">
<p>Details of a specific asset can be retrieved using identifying attributes (<code>attrs</code>), such as name, type, or presence of a certain field.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name<span class="o">=</span>My%20First%20Document
</span></span></code></pre></div></div></div>
<br></p>
</li>
</ol>
<p>Here we see all details entered: The extended attributes and a history of Events recorded on the Document.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To update the details of your Asset after it has been created, you must create an Event containing <code>Asset Attributes</code> that conform to the 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a>.</p>
<p>For more information on creating Events, 
<a href="/platform/overview/creating-an-event-against-a-document/">click here.</a></p>
</div>
  </blockquote>
<p>The first Event in the Event History will always be the Document Registration. In the next section, we will cover how to create your own Events for your Document.</p>
`}).add({id:10,href:"https://docs.datatrails.ai/developers/developer-patterns/document-profile/",title:"Document Profile",description:"Tracing the Lifecycle of a Document with DataTrails",content:`<p>The DataTrails document profile is a set of suggested Asset and Event attributes that allow you to trace the lifecycle of a document.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="profile-attribute-namespace">Profile Attribute Namespace</h5>
<p>The <code>document_</code> prefix is used to designate attributes that are part of the profile. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<h3 id="document-profile-asset-attributes">Document Profile Asset Attributes</h3>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_profile</td>
<td>Designates that the Asset follows the document profile</td>
<td>Required, set as <code>Document</code></td>
</tr>
<tr>
<td>document_hash_value</td>
<td>Hash of the most recently published version of the document</td>
<td>Required</td>
</tr>
<tr>
<td>document_hash_alg</td>
<td>Algorithm used to compute document_hash_value (currently, only SHA-256 is supported)</td>
<td>Required</td>
</tr>
<tr>
<td>document_document</td>
<td>Attachment containing the most recently uploaded version of the document being traced.</td>
<td>Optional</td>
</tr>
<tr>
<td>document_version</td>
<td>Specific version string for the most recent version of the document</td>
<td>Optional, but encouraged</td>
</tr>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events (Published, Withdrawn)</td>
<td>Optional, enforced when using lifecycle events</td>
</tr>
<tr>
<td>document_portable_name</td>
<td>Formal name or identifier for document that persists across boundaries and throughout versions</td>
<td>Optional, not interpreted by DataTrails</td>
</tr>
</tbody>
</table>
<h3 id="publish-event">Publish Event</h3>
<p>Publish a new version of the document using special attributes interpreted by DataTrails for this event type.</p>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must be set to <code>Publish</code></td>
</tr>
<tr>
<td>document_version_authors</td>
<td>List of authors on this version of the document</td>
<td>Optional, see format below</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="document-version-authors">Document Version Authors</h5>
<p>You must express <code>document_version_authors</code> as a list of objects that have <code>display_name</code> as a property.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Alice&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="err">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div></div>
  </blockquote>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_hash_value</td>
<td>Hash of this version of the document</td>
<td>Required</td>
</tr>
<tr>
<td>document_hash_alg</td>
<td>Algorithm used for hashing. We only officially support SHA-256.</td>
<td>Required</td>
</tr>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events</td>
<td>Required, must be <code>Published</code></td>
</tr>
<tr>
<td>document_document</td>
<td>Attachment containing this version of the document</td>
<td>Optional</td>
</tr>
<tr>
<td>document_version</td>
<td>Version string for the this version of the document</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="withdraw-event">Withdraw Event</h3>
<p>If a document is no longer required, or if for any reason it is decided that it should no longer be used, then a document can be withdrawn.
Withdrawal is optional and it is usually the final event in the document lifecycle. It can be reversed in DataTrails by publishing a new version.</p>
<p>Withdraw an entire document (mark that it is no longer considered current.)</p>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must be set to <code>Withdraw</code></td>
</tr>
<tr>
<td>document_withdrawal_reason</td>
<td>Reason why document has been withdrawn</td>
<td>Optional, but encouraged</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_status</td>
<td>Label for filtering and accommodating critical document lifecycle events</td>
<td>Required, must be <code>Withdrawn</code></td>
</tr>
</tbody>
</table>
`}).add({id:11,href:"https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/",title:"Registering an Event Against a Document Profile Asset",description:"",content:`<p>It is rare for a document to remain unchanged during it&rsquo;s lifetime. Some documents are expected to go though many versions (e.g product documentation) while others (e.g. an employment contract) change much less frequently.</p>
<p>If you need to update your registered Document Profile Asset you can record this as an Event. The 
<a href="/developers/developer-patterns/document-profile/">Document Profile</a> defines two types of Event; Publish and Withdraw.</p>
<p>Document Registration is the first Event with each new version being recorded as a Publish Event.</p>
<p>There is also the option to record an event (Record Event) that is important but is not formally part of the document profile. An example of this could be a document content review or a change in security classification.</p>
<p>When the document version is no longer to be used there is a Withdraw Event.</p>
<p>These Events track key moments of an Document&rsquo;s lifecycle; details of Who Did What When to each version of the document.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Before registering an Event, follow 
<a href="/platform/overview/registering-a-document-profile-asset/">this guide</a> to register your first Document Asset. You will need to wait for the Asset to reach COMMITTED state before attempting to record an Event.</div>
  </blockquote>
<h2 id="registering-events">Registering Events</h2>
<ol>
<li>
<p>Open the Asset Overview for a Document Profile Asset
<ul class="nav nav-tabs" id="add_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_event-0" type="button" role="tab" aria-controls="add_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-1" type="button" role="tab" aria-controls="add_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_event-2" type="button" role="tab" aria-controls="add_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_event"><div id="add_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_event-0">
<p>When viewing your Document, you have the choice of <code>Add New Version</code> (publish a new version), <code>Withdraw Document</code> (the document has reached End of Life) or <code>Record Event</code> (any other event that you wish to record).</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetOverview" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview.png" width="1205" height="655" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview.png" width="1205" height="655" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Asset Overview</em></figcaption>
</figure>
<div class="modal fade" id="AssetOverview" tabindex="-1" aria-labelledby="AssetOverview" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AssetOverview_hu44f69bd2338305d8008a356b017317d8_261927_200x0_resize_box_3.png 200w&quot; width=&quot;1205&quot; height=&quot;655&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-1">
<p>To use the YAML Runner, please visit 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">this link</a> for installation instructions.</p>
<p>To create your Event, use the action <code>EVENTS_CREATE</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span></code></pre></div><p>The <code>asset_id</code> must match the Asset ID found in the details of your Document. See 
<a href="/platform/overview/registering-a-document-profile-asset/">Step 7 of Registering a Document Profile Asset</a>.</p>
</div>
  <div id="add_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_event-2">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> In addition to the Asset and Event attributes that are part of the Document Profile, it is possible to record other attributes that are not part of the profile. These are:</p>
<ul>
<li><code>Event Attributes</code> - Attributes specific to an Event, i.e. a new author.</li>
<li><code>Asset Attributes</code> - Attributes of the Asset that may change as a result of the Event, i.e. the new document hash.</li>
</ul></div>
  </blockquote>
<br></p>
</li>
<li>
<p>Adding a New Version
<ul class="nav nav-tabs" id="add_new_version" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_new_version-0" type="button" role="tab" aria-controls="add_new_version-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_new_version-1" type="button" role="tab" aria-controls="add_new_version-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_new_version-2" type="button" role="tab" aria-controls="add_new_version-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_new_version"><div id="add_new_version-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_new_version-0">
<p>Click on the <code>Add New Version</code> button.<br>
Information that is specific to the Document Profile is entered in the Document Information tab. As with registering the document, the new version can be dragged into the auto-fill dropzone or you can manually enter the document hash.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddNewVersion" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion.png" width="846" height="641" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion.png" width="846" height="641" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Information</em></figcaption>
</figure>
<div class="modal fade" id="AddNewVersion" tabindex="-1" aria-labelledby="AddNewVersion" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersion_huac01b3ab518039a4838b9d6942a415b7_48033_200x0_resize_box_3.png 200w&quot; width=&quot;846&quot; height=&quot;641&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
The Advanced Options tab is for additional Asset and Event attributes that are not part of the document profile.
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddNewVersionDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails.png" width="848" height="718" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails.png" width="848" height="718" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Advanced Options</em></figcaption>
</figure>
<div class="modal fade" id="AddNewVersionDetails" tabindex="-1" aria-labelledby="AddNewVersionDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/AddNewVersionDetails_hu1a269a7842a1ef687de6af9d021f4ab4_54574_200x0_resize_box_3.png 200w&quot; width=&quot;848&quot; height=&quot;718&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_new_version-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_new_version-1">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs.</p>
<p>Fill out the metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the asset attributes section you should include the required DataTrails asset attributes as defined by the document profile. The new document version hash value is <code>document_hash_value</code>, the hash algorithm is <code>document_hash_alg</code> and the <code>document_status</code> which must be <code>Published</code>.</p>
<p>In the event attributes section you should also add the required DataTrails event attribute <code>arc_display_type</code> together with any other event specific attributes. The Document Profile specifies that <code>arc_display_type</code> must be <code>Publish</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_value</span><span class="p">:</span><span class="w"> </span><span class="l">84684c83afd5e9cb3a83439872eae74798979ff5754b15931dbe768092174ec9</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_hash_alg</span><span class="p">:</span><span class="w"> </span><span class="l">sha256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Published</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Publish version 2 of My First Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Publish</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_version_authors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Dee Author</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="l">dee@writeme.org</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Anne Author</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="l">anne@writeme.org  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_new_version-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_new_version-2">
<p>Add your <code>event_attributes</code> and <code>asset_attributes</code> as key-value pairs.</p>
<p>Fill out the metadata about your Event; <code>operation</code> and <code>behaviour</code> detail what class of Event is being performed. By default this should always be <code>Record</code> and <code>RecordEvidence</code>, respectively.</p>
<p>In the asset attributes section you should include the required DataTrails asset attributes as defined by the document profile. The new document version hash value is <code>document_hash_value</code>, the hash algorithm is <code>document_hash_alg</code> and the <code>document_status</code> which must be <code>Published</code>.</p>
<p>In the event attributes section you should also add the required DataTrails event attribute <code>arc_display_type</code> together with any other event specific attributes. The Document Profile specifies that <code>arc_display_type</code> must be <code>Publish</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;84684c83afd5e9cb3a83439872eae74798979ff5754b15931dbe768092174ec9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish version 2 of My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Dee Author&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;dee@writeme.org&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Anne Author&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;anne@writeme.org&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">]</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This Event will be POSTed to a specific Asset endpoint when the curl command is run. To do this, you will need to include the correct <code>assets/&lt;asset-id&gt;</code> string for the asset in the URL.</p>
</div></div>

<br></p>
</li>
<li>
<p>The Withdraw Event
<ul class="nav nav-tabs" id="withdraw_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#withdraw_event-0" type="button" role="tab" aria-controls="withdraw_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#withdraw_event-1" type="button" role="tab" aria-controls="withdraw_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#withdraw_event-2" type="button" role="tab" aria-controls="withdraw_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="withdraw_event"><div id="withdraw_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="withdraw_event-0">
<p>If a document is no longer required, or if for any reason it is decided that it should no longer be used, then a document can be withdrawn.<br>Withdrawal is optional and it is usually the final event in the document lifecycle. It can be reversed in DataTrails by publishing a new version.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#WithdrawEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent.png" width="408" height="239" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent.png" width="408" height="239" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Withdraw Event</em></figcaption>
</figure>
<div class="modal fade" id="WithdrawEvent" tabindex="-1" aria-labelledby="WithdrawEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/WithdrawEvent_hub4bcd279d5a0750b07e9d4ef7168b44e_14876_200x0_resize_box_3.png 200w&quot; width=&quot;408&quot; height=&quot;239&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="withdraw_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="withdraw_event-1">
<p>Use the attribute/value pairs in the example below to register a <code>Withdraw</code> event</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">document_status</span><span class="p">:</span><span class="w"> </span><span class="l">Withdrawn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw My First Document</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Withdraw</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="withdraw_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="withdraw_event-2">
<p>Use the attribute/value pairs in the example below to register a <code>Withdraw</code> event</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw My First Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Recording a Generic Event<br>
The <code>Record Event</code> button provides a way to record generic events that are not part of the Document Profile lifecycle. The asset and event attributes are in separate tabs in this Event type.</p>
<p>See 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset</a> for more information on this event type.
<ul class="nav nav-tabs" id="record_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#record_event-0" type="button" role="tab" aria-controls="record_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-1" type="button" role="tab" aria-controls="record_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#record_event-2" type="button" role="tab" aria-controls="record_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="record_event"><div id="record_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="record_event-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="RecordEvent" tabindex="-1" aria-labelledby="RecordEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;550&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="record_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Record event against My First Document.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Document review</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w">  </span><span class="l">Review</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="record_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="record_event-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Document Review&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Review&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Registering the Event
<ul class="nav nav-tabs" id="register_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#register_event-0" type="button" role="tab" aria-controls="register_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#register_event-1" type="button" role="tab" aria-controls="register_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#register_event-2" type="button" role="tab" aria-controls="register_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="register_event"><div id="register_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="register_event-0">
<p>Once your form is complete, click on the <code>Record Event</code> button to register the event.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#RecordEvent" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent.png" width="851" height="550" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting the Event</em></figcaption>
</figure>
<div class="modal fade" id="RecordEvent" tabindex="-1" aria-labelledby="RecordEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/RecordEvent_hua19c9cf235a074f13afbaedd81fa9833_32647_200x0_resize_box_3.png 200w&quot; width=&quot;851&quot; height=&quot;550&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="register_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="register_event-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      my_first_document_event.yaml
</span></span></code></pre></div></div>
  <div id="register_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="register_event-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>

<br></p>
</li>
<li>
<p>Viewing Event details
<ul class="nav nav-tabs" id="view_event" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#view_event-0" type="button" role="tab" aria-controls="view_event-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-1" type="button" role="tab" aria-controls="view_event-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#view_event-2" type="button" role="tab" aria-controls="view_event-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="view_event"><div id="view_event-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="view_event-0">
<p>The Event History can be seen in the Asset Overview from 
<a href="/platform/overview/registering-an-event-against-a-document-profile-asset/#registering-events">step 1</a>, simply click on the Event History tab and then any Event row to view it.<br>
The Overview tab shows the details of the Event including the version and document hash of this specific version.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#EventDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails.png" width="1219" height="818" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails.png" width="1219" height="818" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing an Event</em></figcaption>
</figure>
<div class="modal fade" id="EventDetails" tabindex="-1" aria-labelledby="EventDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/EventDetails_hu45a94eb2499f22a9f70ccbd2a7f0dc92_104367_200x0_resize_box_3.png 200w&quot; width=&quot;1219&quot; height=&quot;818&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>The Event attributes and Asset attributes tabs contain any custom attributes that were added when the Event was registered.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#MoreEventDetails" img class="img-fluid responsive" src="/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails.png" width="573" height="204" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w" src="/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails.png" width="573" height="204" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing Event Attributes</em></figcaption>
</figure>
<div class="modal fade" id="MoreEventDetails" tabindex="-1" aria-labelledby="MoreEventDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/MoreEventDetails_hu529b05e46dc3005468bcaf54fe3d6144_16047_200x0_resize_box_3.png 200w&quot; width=&quot;573&quot; height=&quot;204&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="view_event-1" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-1">
<p>The <code>EVENTS_LIST</code> action can be used to view all Events, or filtered using attributes (<code>attrs</code>) to view details of a specific Event</p>
<p>To view all Events, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>To view the details of the Event you just created for My First Container, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List Events against the Document &#39;My First Document&#39;.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/59e2b78b-d555-49a0-8775-f336b640122e </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Publish</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="view_event-2" class="tab-pane fade" role="tabpanel" aria-labelledby="view_event-2">
<p>Event data can be viewed using curl commands</p>
<p>To view all Events across all Assets, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/-/events
</span></span></code></pre></div><p>To view the details of the Event you just created for My First Document, use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
`}).add({id:12,href:"https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/",title:"Software Package Profile",description:"Sharing and Distributing a Software Bill of Materials with DataTrails",content:`<h2 id="overview">Overview</h2>
<p>The DataTrails Software Package profile is a set of suggested Asset and Event attributes that enable the recording of an immutable and verifiable Software Bill of Materials (SBOM).</p>
<p>The 
<a href="https://www.ntia.gov/sites/default/files/publications/sbom_faq_-_20201116_0.pdf" target="_blank" rel="noopener">NTIA</a> describes a SBOM as &ldquo;<em>a formal record containing the details and supply chain relationships of various components used in building software.</em>&rdquo;</p>
<h2 id="software-package-profile-asset-attributes">Software Package Profile Asset Attributes</h2>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component,(arc_display_name if appropriate)</td>
<td>The name of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the package version</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> Software Package Profile Attribute Namespace</p>
<p>The <code>sbom_</code> prefix is used to designate attributes that are part of the profile. Some of these are interpreted by DataTrails and others are guidelines.</p>
</div>
  </blockquote>
<h3 id="public-sbom">Public SBOM</h3>
<p>In the API, you must express <code>public</code> as an asset attribute and have <code>true</code> as a property to make an SBOM public. The default is &lsquo;false&rsquo;.
In the UI this is done by setting <code>Attest Publicly</code> to <code>On</code>.</p>
<ul class="nav nav-tabs" id="create_sbom_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_sbom_public-0" type="button" role="tab" aria-controls="create_sbom_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_sbom_public-1" type="button" role="tab" aria-controls="create_sbom_public-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_sbom_public-2" type="button" role="tab" aria-controls="create_sbom_public-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_sbom_public"><div id="create_sbom_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_sbom_public-0">
<p>Select <code>Assets &amp; Documents</code> from the sidebar and then <code>Add Custom Asset</code>. Fill in the desired details.
Set the <code>Attest Publicly</code> toggle to <code>On</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicCheck" img class="img-fluid responsive" src="/developers/developer-patterns/software-package-profile/PublicCheck.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/software-package-profile/PublicCheck.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Check Asset as Public</em></figcaption>
</figure>
<div class="modal fade" id="PublicCheck" tabindex="-1" aria-labelledby="PublicCheck" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/software-package-profile/PublicCheck_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_sbom_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_sbom_public-1">
<p>Create a YAML file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Publicly Attested Asset </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">public</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Publicly Attested Asset </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Example</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">some_custom_attribute</span><span class="p">:</span><span class="w"> </span><span class="l">anything you like</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="create_sbom_public-2" class="tab-pane fade" role="tabpanel" aria-labelledby="create_sbom_public-2">
<p>Create a JSON file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Publicly Attested Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

<h2 id="software-package-profile-event-types-and-attributes">Software Package Profile Event Types and Attributes</h2>
<h3 id="release-event">Release Event</h3>
<p>A Release is the event used by a Supplier to provide an SBOM for their Software Package in DataTrails.</p>
<p>The Release attributes tracked in DataTrails should minimally represent the base information required by the NTIA standard and be recorded in two, separate, lists of attributes; <strong>Asset Attributes</strong> would track details about the latest release of the SBOM at the time of the event creation, the <strong>Event Attributes</strong> then track details about the release of the SBOM that is being submitted.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-event-attribute-namespace">Release Event Attribute Namespace</h5>
<p>The <code>sbom_</code> prefix is used to designate attributes that are part of the event and asset. Some of these are interpreted by DataTrails and others are guidelines</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release</code></td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component</td>
<td>The name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the release</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_exception</td>
<td>If included value is always <code>true</code></td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_vuln_reference</td>
<td>If this release resolves a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Asset Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Author Name</td>
<td>sbom_author</td>
<td>The name of the Package Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_supplier</td>
<td>The name of the Package Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_component,(arc_display_name if appropriate)</td>
<td>The name of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_version</td>
<td>The version of the Software Package</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_uuid</td>
<td>A unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_repo</td>
<td>Link to the Git Repo of the Component</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_release_notes</td>
<td>Link to the release notes of the package version</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_license</td>
<td>The licensing used by the component (if specified)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="exception">Exception</h5>
<p>When used in tandem with Release Plan and Accepted events the exception is a useful record of when an emergency has caused a release to be pushed without needing an initial approval or plan.</p></div>
  </blockquote>
<h3 id="release-plan-and-release-accepted">Release Plan and Release Accepted</h3>
<p>Release events can be optionally enhanced by using ‘Release Plan’ and ‘Release Accepted’ events alongside them.</p>
<p>Release Plan events demonstrate an intent to introduce a new release, it should describe which version you want to release and who wants to release it. For example, it could include draft release notes explaining what is being updated and why it should be updated.</p>
<p>Release Accepted events demonstrate an approval on a Release Plan to go forward, it may be that the plan details a need to introduce a fix for a specific vulnerability and the security team is needed to sign off the release going forward.</p>
<p>These events are not essential to the process so can be omitted in a standard or minimal deployment but they are actively encouraged. As they should not affect the information about the latest Software Package Release there should be no Asset Attributes included, other NTIA attributes may also not be necessary or not available until release (e.g. Component Hash).</p>
<p>The Key Attribute that should be recorded is the version of the release that is being planned and accepted.</p>
<h3 id="release-plan">Release Plan</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-plan-event-attribute-namespace">Release Plan Event Attribute Namespace</h5>
<p>The <code>sbom_planned_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release Plan</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_planned_component</td>
<td>The planned name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_planned_version</td>
<td>The planned version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_reference</td>
<td>A reference number for the plan (such as internal change request number)</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_date</td>
<td>The planned release date</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_captain</td>
<td>The planned Release Captain (a common term for someone who is responsible for performing a Release; someone like an Owner in Agile serves a different purpose but may also be used if appropriate). This is mandatory as it describes who should be responsible for the release</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_planned_author</td>
<td>The planned name of the Package Author</td>
<td>Optional</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_planned_supplier</td>
<td>The planned name of the Package Supplier</td>
<td>Optional</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_planned_hash</td>
<td>The planned hash of the component files/installation (per version)</td>
<td>Optional</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_planned_uuid</td>
<td>The planned unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_license</td>
<td>If there is an intended change to the license this may be needed</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_planned_vuln_reference</td>
<td>If this release intends to resolve a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="release-accepted-event">Release Accepted Event</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="release-accepted-event-attribute-namespace">Release Accepted Event Attribute Namespace</h5>
<p>The <code>sbom_accepted_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Release Accepted</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_accepted_component</td>
<td>The accepted name of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_accepted_version</td>
<td>The accepted version of the Package</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_reference</td>
<td>The reference number of the associated plan</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_date</td>
<td>The accepted release date</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_captain</td>
<td>The accepted Release Captain (a common term for someone who is responsible for performing a Release; someone like an Owner in Agile serves a different purpose but may also be used if appropriate). This is mandatory as it describes who should be responsible for the release</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_approver</td>
<td>Describes who has accepted the plan</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_accepted_author</td>
<td>The accepted name of the Package Author</td>
<td>Optional</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_accepted_supplier</td>
<td>The accepted name of the Package Supplier</td>
<td>Optional</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_accepted_hash</td>
<td>The accepted hash of the component files/installation (per version)</td>
<td>Optional</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_accepted_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_accepted_vuln_reference</td>
<td>If this release intends to resolve a specific vulnerability you can highlight a shared Vulnerability reference number(s)</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="patch-event">Patch Event</h3>
<p>Patches are often supplied to customer in an Out-Of-Band procedure to address critical bugs or vulnerabilities, usually with a short-term turnaround that can be outside the normal release cadence.</p>
<p>It is typically expected a Patch should contain its own SBOM separate to the Primary SBOM.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="patch-event-attribute-namespace">Patch Event Attribute Namespace</h5>
<p>The <code>sbom_patch_</code> prefix is used to designate attributes that are part of the event. Some of these are interpreted by DataTrails and others are guidelines.</p></div>
  </blockquote>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Patch</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_patch_target_component</td>
<td>The component the Patch targets</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_patch_version</td>
<td>The version string of the Patch</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_patch_author</td>
<td>The name of the Patch Author</td>
<td>Required</td>
</tr>
<tr>
<td>Supplier Name</td>
<td>sbom_patch_supplier</td>
<td>The name of the Patch Supplier</td>
<td>Required</td>
</tr>
<tr>
<td>Component Hash</td>
<td>sbom_patch_hash</td>
<td>The hash of the Patch files/installation (per version)</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_patch_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_target_version</td>
<td>The version of the component the patch is targeted/built from</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_repo</td>
<td>Link to the Git Repo/Fork/Branch of the Component (if different to the latest release repo)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_license</td>
<td>The licensing used by the component (if specified and different to the latest release license)</td>
<td>Optional</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_patch_vuln_reference</td>
<td>If this patch resolves a specific vulnerability you can highlight a shared Vulnerability reference number</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<h3 id="vulnerability-disclosure-and-update">Vulnerability Disclosure and Update</h3>
<p>These Event types are used for vulnerability management.
The first is to disclose knowledge of a vulnerability and the second is to update the status of the vulnerability after investigation is complete.</p>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="vulnerability-disclosure-event-attribute-namespace">Vulnerability Disclosure Event Attribute Namespace</h5>
<p>The <code>vuln_</code> prefix is used to designate attributes that are part of the event. All of these are interpreted by DataTrails.</p></div>
  </blockquote>
<h4 id="vulnerability-disclosure">Vulnerability Disclosure</h4>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Vulnerability Disclosure</code></td>
</tr>
<tr>
<td>vuln_name</td>
<td>Friendly Name for the Vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_reference</td>
<td>Reference Number (e.g. internal tracking number), useful when there may be multiple updates to a vulnerability during an investigation and for referencing when a particular release is expected to solve a vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_id</td>
<td>Specific ID of Vulnerability (e.g CVE-2018-0171)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_category</td>
<td>Type of Vulnerability (e.g. CVE)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_severity</td>
<td>Severity of Vulnerability (e.g. HIGH)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_status</td>
<td>Whether the Vulnerability actually affects your component or is being investigated (e.g Known_not_affected)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_author</td>
<td>Author of Vulnerability Disclosure</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_component</td>
<td>Affected Component</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_version</td>
<td>Affected Version(s)</td>
<td>Required</td>
</tr>
</tbody>
</table>
<h4 id="vulnerability-update">Vulnerability Update</h4>
<table>
<thead>
<tr>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>Vulnerability Update</code></td>
</tr>
<tr>
<td>vuln_name</td>
<td>Friendly Name for the Vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_reference</td>
<td>Reference Number (e.g. internal tracking number), useful when there may be multiple updates to a vulnerability during an investigation and for referencing when a particular release is expected to solve a vulnerability</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_id</td>
<td>Specific ID of Vulnerability (e.g CVE-2018-0171)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_category</td>
<td>Type of Vulnerability (e.g. CVE)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_severity</td>
<td>Severity of Vulnerability (e.g. HIGH)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_status</td>
<td>Whether the Vulnerability actually affects your component or is being investigated (e.g Known_not_affected)</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_author</td>
<td>Author of Vulnerability Disclosure</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_component</td>
<td>Affected Component</td>
<td>Required</td>
</tr>
<tr>
<td>vuln_target_version</td>
<td>Affected Version(s)</td>
<td>Required</td>
</tr>
</tbody>
</table>
<h3 id="eol-event">EOL Event</h3>
<blockquote class="note callout">
    <div><strong></strong> <h5 id="eol-event-attribute-namespace">EOL Event Attribute Namespace</h5>
<p>The <code>sbom_eol_</code> prefix is used to designate attributes that are part of the event. All of these are interpreted by DataTrails.</p></div>
  </blockquote>
<p>An event to mark the Package as End of Life.</p>
<table>
<thead>
<tr>
<th>NTIA Attribute</th>
<th>Event Attributes</th>
<th>Meaning</th>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>arc_display_type</td>
<td>Tells DataTrails how to interpret Event</td>
<td>Required, must set to <code>EOL</code></td>
</tr>
<tr>
<td>Component Name</td>
<td>sbom_eol_target_component</td>
<td>The component the EOL targets</td>
<td>Required</td>
</tr>
<tr>
<td>Version String</td>
<td>sbom_eol_target_version</td>
<td>The version string affected by the EOL</td>
<td>Required</td>
</tr>
<tr>
<td>Author Name</td>
<td>sbom_eol_author</td>
<td>The name of the EOL Author</td>
<td>Required</td>
</tr>
<tr>
<td>Unique Identifier</td>
<td>sbom_eol_uuid</td>
<td>The accepted unique identifier for the Package, DataTrails provides a Unique ID per asset but it may be preferred to include an existing internal reference instead</td>
<td>Required</td>
</tr>
<tr>
<td>N/A</td>
<td>sbom_eol_target_date</td>
<td>The date on which the EOL will be active</td>
<td>Required</td>
</tr>
</tbody>
</table>
`}).add({id:13,href:"https://docs.datatrails.ai/platform/overview/instaproof/",title:"Instaproof",description:"A Guide to Instaproof",content:`<p>Instaproof allows anonymous access to the Audit Trail of a file. providing data provenance and authenticity with a simple drag-and-drop.</p>
<p>Instaproof will search amongst the 
<a href="/platform/overview/public-attestation/">Publicly Attested</a> assets that have been registered with the Document Profile and return a list of all assets that have a matching hash value.</p>
<p>The initial version of a document is registered as a document profile asset. New versions of the document are published as events against that asset. See 
<a href="/developers/developer-patterns/document-profile">Document Profile</a> more more information.</p>
<h3 id="using-the-instaproof-ui">Using the Instaproof UI</h3>
<ol>
<li>
<p>Using the sidebar, select <code>Instaproof</code>and then drag a document into the search area


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofStart" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofStart.png" width="1538" height="869" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofStart.png" width="1538" height="869" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Instaproof Search Area</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofStart" tabindex="-1" aria-labelledby="InstaproofStart" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofStart_hu9eb602b05cde6a4e6bb56553b39d5d74_243706_200x0_resize_box_3.png 200w" width="1538" height="869" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p><strong>Document not found</strong><br>
If the document that you are verifying has not been found, you will see a red response banner.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofNotFound" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofNotFound.png" width="1552" height="679" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofNotFound.png" width="1552" height="679" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Not Found</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofNotFound" tabindex="-1" aria-labelledby="InstaproofNotFound" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofNotFound_hu9297fc565d400d614e644ca2fde44a17_122281_200x0_resize_box_3.png 200w" width="1552" height="679" alt="Rectangle">
      </div>
  
  </div>
</div>
The possible reasons for this outcome are:</p>
<ul>
<li>The document owner has not registered the document in their DataTrails tenancy</li>
<li>The document owner has not published this version of the document as an event</li>
<li>The document has been modified since it was registered with DataTrails</li>
</ul>
<p><br>In all cases you should contact the document owner to find out whether your document version can be trusted.</p>
</li>
<li>
<p><strong>Document Found</strong>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> In this screenshot we are using the file <code>greenfrog.jpg</code> which can be downloaded from our 
<a href="https://github.com/datatrails/instaproof-samples/tree/main/media" target="_blank" rel="noopener">Instaproof Samples</a> page.</div>
  </blockquote>
If the document has been registered with DataTrails, you will see a green response banner together with a list of all the matching Document Profile Assets. This means that the version of the document that you have has a verifiable provenance record and an immutable audit trail.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofFound" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofFound.png" width="1779" height="678" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofFound.png" width="1779" height="678" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Document Found</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofFound" tabindex="-1" aria-labelledby="InstaproofFound" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofFound_hu9e3cd62852097f0c20419e73ebfacd20_125351_200x0_resize_box_3.png 200w" width="1779" height="678" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<p>At the top of the image you can see the document that was checked and found on Instaproof.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> We don&rsquo;t need to access your document to find its provenance, everything that you see in the Instaproof results is held locally and was recorded by the document owner when the document was registered or events were recorded.</div>
  </blockquote>
<p>You can check additional documents by dragging them on top of this area.</p>
<p>Some of the results may be from verified organizations and others from unverified members of the DataTrails community. All results contribute something to the provenance and life history of this document.</p>
<p>A <strong>Verified Organization</strong> has a 
<a href="/platform/administration/verified-domain/">verified domain</a> associated with their DataTrails account. This helps to confirm the identity of the document source and is likely the thing to look for if you want &lsquo;official&rsquo; provenance records. A Verified Domain can be used to link an identity (such as a company or a brand name) to a DataTrails Tenancy.</p>
<p>The <strong>Other Results</strong> results are those from from unverified DataTrails accounts - other members of the DataTrails community who have made claims or observations about the document you&rsquo;re interested in.</p>
<p>While they may seem less &lsquo;official&rsquo; than verified account results, they may still be useful to you. The identity of all users making attestations in DataTrails is checked, recorded, and immutable, even if they are not (yet) associated with a verified domain name.</p>
<h3 id="what-do-the-instaproof-results-mean">What Do the Instaproof Results Mean?</h3>
<h4 id="immutable-audit-trail">Immutable Audit Trail</h4>
<p>Click on a result to see details of the document history. You will see the Event details of the version that matches your document on the right with a partial view of the Asset details for the latest version on the left. Close the Event details to see the full Asset details view.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofResults" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofResults.png" width="1754" height="983" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofResults.png" width="1754" height="983" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Details Tab</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofResults" tabindex="-1" aria-labelledby="InstaproofResults" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResults_huc1cebd7f7ecf47ac0469ca1a7c36e559_137920_200x0_resize_box_3.png 200w" width="1754" height="983" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Asset details</strong> tab shows the information about the asset attributes.
Includes the current version, the organization, and Verified Domain badge, if applicable.</p>
<p><strong>Public attestation and visibility</strong> - <em>Public</em> means that the document is publicly accessible using the public URL. <em>Permissioned</em> means that it is private and requires shared access to be enabled for a user to be able to view it.</p>
<p><strong>Type</strong> - For Document Profile Assets this will always be &lsquo;Document&rsquo;.</p>
<p><strong>Description</strong> - an optional description of the Asset</p>
<p><strong>Attributes</strong> - This drop down section contains any custom attributes that were added to the asset.</p>
<p><strong>Versions</strong> - the published versions of the document</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The share button allows you to access and copy the permissioned and public (if enabled) links for the asset to share with other users. Private links are for logged in users with permissions assigned in an Access Policy, Public links are for everyone.</div>
  </blockquote>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofShare" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofShare.png" width="640" height="517" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofShare.png" width="640" height="517" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Share Links</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofShare" tabindex="-1" aria-labelledby="InstaproofShare" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofShare_hucfb5ac750c1a44ea2b1f3aa035bb5832_57563_200x0_resize_box_3.png 200w" width="640" height="517" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Event History</strong> tab shows the full history of Events including custom Events, new Versions and Withdraw Events.</p>
<p>Click on the tab and select an Event to view the details.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofResultsDetails" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofResultsDetails.png" width="1778" height="755" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" src="/platform/overview/instaproof/InstaproofResultsDetails.png" width="1778" height="755" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event History Overview Tab</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofResultsDetails" tabindex="-1" aria-labelledby="InstaproofResultsDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofResultsDetails_huebec859ad30a8050c3cfdfe5d491fb71_127904_200x0_resize_box_3.png 200w" width="1778" height="755" alt="Rectangle">
      </div>
  
  </div>
</div>
<p>The <strong>Overview</strong> information about the Event</p>
<p><strong>Event Identity</strong> -  The Event ID will always be of the format &lsquo;publicassets/&lt;asset_id&gt;/events/&lt;event_id&gt;&rsquo; for public assets or &lsquo;assets/&lt;asset_id&gt;/events/&lt;event_id&gt;&rsquo; for private assets.</p>
<p><strong>Asset Identity</strong> - the ID of the parent Asset for this Event.</p>
<p><strong>Transaction</strong> - This link contains the details of the Event transaction.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#InstaproofTransaction" img class="img-fluid responsive" src="/platform/overview/instaproof/InstaproofTransaction.png" width="1542" height="1841" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" src="/platform/overview/instaproof/InstaproofTransaction.png" width="1542" height="1841" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Transaction Details</em></figcaption>
</figure>





<div class="modal fade" id="InstaproofTransaction" tabindex="-1" aria-labelledby="InstaproofTransaction" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/instaproof/InstaproofTransaction_hu3558502cfce4afa984cce945d77acdc3_279602_500x0_resize_box_3.png 500w" width="1542" height="1841" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p><strong>Type</strong> - For Document Profile Events this will always be &lsquo;Publish&rsquo;</p>
<p><strong>Document changes</strong> - The version and document hash for new version Events. There is no data here for custom Events.</p>
<p>The <strong>Event attributes</strong> and <strong>Asset attributes</strong> tabs contain information about any custom attributes that were added or modified as part this Event.</p>
`}).add({id:14,href:"https://docs.datatrails.ai/developers/developer-patterns/veracity/",title:"Independently verifying DataTrails transparent merkle logs",description:"Supporting independent verification of your events",content:`<h2 id="overview">Overview</h2>
<p>Veracity is an open-source command line tool developed by DataTrails. With it, you can explore the
merkle log and prove the inclusion of your event data. By default it connects to the DataTrails
service to obtain a copy of the merkle log. Veracity can also work from copies of the merkle
log on disk.</p>
<p>In this guide we&rsquo;ll explore how you can use Veracity to:</p>
<ol>
<li>Prove the inclusion of events that matter in the DataTrails merkle log with <code>verify-included</code></li>
<li>Explore the DataTrails merkle log using the <code>node</code> command</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Have downloaded and installed 
<a href="https://github.com/datatrails/veracity/releases" target="_blank" rel="noopener">Veracity</a> using the
instructions found 
<a href="https://github.com/datatrails/veracity?tab=readme-ov-file#installation" target="_blank" rel="noopener">here</a></li>
</ul>
<h2 id="verifying-event-data">Verifying Event Data</h2>
<p>DataTrails records the events that matter to your business and lets you prove them at a later date.
This guide will show how to do this for both online and offline data scenarios.</p>
<p>For simplicity we&rsquo;ll walk through an example of proving that a publicly attested event exists on the
merkle log for the public tenant on DataTrails. If you want to try this with your own data, simply
download a copy of your event from the DataTrails API and supply your tenant ID instead of the public
one.</p>
<h4 id="setup">Setup</h4>
<p>Let&rsquo;s set some variables that reference the public tenant in DataTrails and a public event that
we&rsquo;d like to verify the inclusion of.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">EVENT_ID</span><span class="o">=</span>publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl"><span class="nv">DATATRAILS_URL</span><span class="o">=</span>https://app.datatrails.ai
</span></span><span class="line"><span class="cl"><span class="nv">TENANT_ID</span><span class="o">=</span>tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span></code></pre></div><h4 id="loading-the-event">Loading the Event</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -sL <span class="nv">$DATATRAILS_URL</span>/archivist/v2/<span class="nv">$EVENT_ID</span> &gt; event.json
</span></span></code></pre></div><p>If you inspect the contents of <code>event.json</code> you will see something like this (with some fields omitted
for brevity.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/ee52ae46-d4fb-4030-9888-4696ef4b27da&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Business Critical Action&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;quality_system_ref&#34;</span><span class="p">:</span> <span class="s2">&#34;1112345&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;approval_status&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;An important event to your business&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:28:54Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:28:54Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-08-22T16:29:04.130Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;CONFIRMED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;index&#34;</span><span class="p">:</span> <span class="s2">&#34;5772&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;idtimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;01917aeb9103048500&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;mmr_size&#34;</span><span class="p">:</span> <span class="s2">&#34;5774&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;root&#34;</span><span class="p">:</span> <span class="s2">&#34;Z5S0ewjARI26IP04vJOC5pnH2V/M/BETAB4pojIZFkQ=&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;1724344145109&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;idtimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;signed_tree_head&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="prove-event-inclusion">Prove Event Inclusion</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">cat event.json <span class="p">|</span> veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><p>Its that simple. Note that by default Veracity produces no output on success to enable simple build
system integration. By supplying <code>--loglevel=INFO</code> we get some insight into what the tool is doing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">OK<span class="p">|</span><span class="m">5772</span> 2889<span class="p">|</span><span class="o">[</span>c46a47677b043602dba8a9d1db3215207d1e2f4bdbb19bc07592602fa745b3b7, 18b5d6be487dc0b87d14cb7a389a6cf936aab2427dd26c1b230653f692964f06, a68a7678739a2e00431c25bf3d810b4f417830c3a95cfc692e771d6d54e37fa6, 907c561fd157a5a022aa4e42807bfca082c54d98531831847ad5414a1ad2b492, 9dfeaef9e86d6b857170245ec4cfc5d98fea11bba3937e211d134ab548eb743e, 04602adc424529275ce3415d55f31413743b67bf7e7fae03c90b08f1f5422264<span class="o">]</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <h5 id="detecting-tampering">Detecting Tampering</h5>
<p>Adversaries tampering with critical data is a serious risk, but DataTrails makes this straightforward
to detect. Try tampering with <code>event.json</code> and re-running <code>verify-included</code> to observe the failure:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sed <span class="s2">&#34;s/Business Critical Action/Malicious Action/g&#34;</span> event.json <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    ./veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">XX<span class="p">|</span><span class="m">5772</span> <span class="m">2889</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">error: the entry is not in the log. <span class="k">for</span> tenant tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></div></div>
  </blockquote>
<h4 id="offline-verification">Offline Verification</h4>
<p>Veracity can be used to verify the inclusion of an event in an offline backup of a DataTrails
merkle log. We can do this by supplying a <code>--data-local</code> argument instead of <code>--data-url</code>. First,
we&rsquo;ll need to get a copy of the massif.</p>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> DataTrails break the merkle log down into manageable chunks called massifs. Once each massif
is full, a new one is started. The filenames are numbered (e.g. 0000000000000000.log, 0000000000000001.log) to indicate order.</p>
<p>The argument <code>--data-local</code> accepts either a single massif file or a directory containing multiple
massif files. The event we&rsquo;re verifying in this example is contained within the first massif.</p>
</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log -o mmr.log
</span></span></code></pre></div><p>When we run the <code>verify-included</code> command using our local copy of the massif, it will also verify
successfully with the outputs matching.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">cat event.json <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    ./veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-local mmr.log <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --loglevel<span class="o">=</span>INFO <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    verify-included
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Proof paths shown in the output were complete at time of writing. As the log grows the
proof path increases in length. See 
<a href="/developers/developer-patterns/navigating-merklelogs/">this article</a> for a deep-dive into our merkle log.</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">verifying <span class="k">for</span> tenant: tenant/6ea5cd00-c711-3649-6914-7b125928bbb4
</span></span><span class="line"><span class="cl">verifying: <span class="m">5772</span> <span class="m">2889</span> 01917aeb9103048500 publicassets/046ad7b4-dc99-4f90-9511-d2fad2e72bed/events/fef3c753-52e5-406b-8e41-8a36a2cc4818
</span></span><span class="line"><span class="cl">OK<span class="p">|</span><span class="m">5772</span> 2889<span class="p">|</span><span class="o">[</span>c46a47677b043602dba8a9d1db3215207d1e2f4bdbb19bc07592602fa745b3b7, 18b5d6be487dc0b87d14cb7a389a6cf936aab2427dd26c1b230653f692964f06, a68a7678739a2e00431c25bf3d810b4f417830c3a95cfc692e771d6d54e37fa6, 907c561fd157a5a022aa4e42807bfca082c54d98531831847ad5414a1ad2b492, 9dfeaef9e86d6b857170245ec4cfc5d98fea11bba3937e211d134ab548eb743e, 04602adc424529275ce3415d55f31413743b67bf7e7fae03c90b08f1f5422264<span class="o">]</span>
</span></span></code></pre></div><h2 id="exploring-the-merkle-log">Exploring the Merkle Log</h2>
<p>The <code>node</code> command is a convenience function for retrieving the value of a node in the merkle log
without needing to download the entire massif. Lets use our example event from earlier, which lives
at index 5772 (this works with both <code>--data-local</code> and <code>--data-url</code>.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">veracity --data-url <span class="nv">$DATATRAILS_URL</span>/verifiabledata <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant<span class="o">=</span><span class="nv">$PUBLIC_TENANT_ID</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    node --mmrindex <span class="m">5772</span>
</span></span></code></pre></div><p>The value returned is the hash stored at that node:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">26c7061166187363dd156f4f5f1f517a39323af3c70d572de28c5206de160ec2
</span></span></code></pre></div><p>Leaf nodes in the merkle log contain the hash of the event data (plus some metadata, see 
<a href="/developers/developer-patterns/navigating-merklelogs/#leaf-nodes-created-by-hashing-event-data">this article</a>) while
intermediate nodes hash together the content of their left and right children.</p>
`}).add({id:15,href:"https://docs.datatrails.ai/platform/overview/public-attestation/",title:"Public Attestation",description:"Public Assets vs Permissioned Assets",content:`<h2 id="transparency-through-public-attestation">Transparency through Public Attestation</h2>
<p>Not everything needs to be kept secret.</p>
<p>Using the example of an image in a news report, the publisher needs everyone to be able to see the image but at the same time the viewers of the image want to know that it is genuine while the owner of the image will want to be credited. There needs to be a way for consumers of data to anonymously verify the data that they are consuming is genuine and also where it came from.</p>
<p>Public attestation allows you to 
<a href="https://www.merriam-webster.com/dictionary/attest" target="_blank" rel="noopener">attest</a> information about data to the general public, without the need for the users of the information to log-in to your DataTrails account by using <code>Public Assets</code>.</p>
<p><code>Permissioned Assets</code> can only be shared through the creation of 
<a href="/platform/administration/sharing-access-outside-your-tenant/">Access Policies</a>. Public Assets, however, may be shared with a <code>Public URL</code> that points to a read-only view of the Asset, similar to the link-based sharing you may have seen in file sharing services such as Google Drive or DropBox.</p>
<p>Any Events recorded against a Public Asset will also be public, and each Event will have a unique Public URL.</p>
<p>This means that following the link to a Public Asset or Public Event will allow read-only access to the Audit Trail, without the need to sign in to DataTrails.</p>
<p>Anyone with the Public URL can access and view the Audit Trail and verify the data but only those with access to the Permissioned URL can make the attestation about the data.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more detailed Asset creation instructions, visit 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a>.</div>
  </blockquote>
<h2 id="creating-a-publicly-attested-asset">Creating a Publicly Attested Asset</h2>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning</strong>: Assets can only be made public at Asset Creation and <strong>cannot be made private afterwards</strong>. The Asset and all its Events will be publicly accessible <strong>forever</strong>.</div>
  </blockquote>
<ol>
<li>
<p>Create an Asset with your desired attributes and set it to public. See 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a> for detailed instructions on this topic.
<ul class="nav nav-tabs" id="create_asset_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_asset_public-0" type="button" role="tab" aria-controls="create_asset_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_asset_public-1" type="button" role="tab" aria-controls="create_asset_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_asset_public"><div id="create_asset_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_asset_public-0">
<p>Select <code>Register Asset</code> from the sidebar and fill in the desired details.<br>
Set the toggle next to <code>Attest Publicly</code> to <code>ON</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#CreateAssetNumbered" img class="img-fluid responsive" src="/platform/overview/public-attestation/CreateAssetNumbered.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/CreateAssetNumbered.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Asset Details</em></figcaption>
</figure>
<div class="modal fade" id="CreateAssetNumbered" tabindex="-1" aria-labelledby="CreateAssetNumbered" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAssetNumbered_hu1fca27560de33bfb468a3665163713af_44414_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_asset_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_asset_public-1">
<p>Create a JSON file with your desired Asset details. Set keyword <code>public</code> to true.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Publicly Attested Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This example asset is publicly attested, so anyone with the link can access its details without signing in to DataTrails.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Publish your Public Asset
<ul class="nav nav-tabs" id="set_public_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#set_public_public-0" type="button" role="tab" aria-controls="set_public_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#set_public_public-1" type="button" role="tab" aria-controls="set_public_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="set_public_public"><div id="set_public_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="set_public_public-0">
<p>Click <code>Register Asset</code> to complete your Public Asset creation.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#CreateAsset" img class="img-fluid responsive" src="/platform/overview/public-attestation/CreateAsset.png" width="847" height="515" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/CreateAsset.png" width="847" height="515" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Publish Your Asset</em></figcaption>
</figure>
<div class="modal fade" id="CreateAsset" tabindex="-1" aria-labelledby="CreateAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/CreateAsset_hudc1814416c8c2173eea9263035d8ddc5_57305_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;515&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="set_public_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="set_public_public-1">
<p>Use the curl command to run your JSON file. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Retrieve public link to share your Public Asset with others
<blockquote class="note callout">
    <div><strong></strong> <strong>NOTE:</strong> A Public Asset may only be updated by the Tenancy that created it. Anyone viewing the Asset using the public link will have read-only access.</div>
  </blockquote>
<ul class="nav nav-tabs" id="get_link_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#get_link_public-0" type="button" role="tab" aria-controls="get_link_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#get_link_public-1" type="button" role="tab" aria-controls="get_link_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="get_link_public"><div id="get_link_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="get_link_public-0">
<p>Click on the <strong>Share</strong> button next to the right of the Asset Details. This will open a pop-up containing options for copying the public and private links of the Asset.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicAsset" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicAsset.png" width="1205" height="604" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicAsset.png" width="1205" height="604" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Copy the Public Link</em></figcaption>
</figure>
<div class="modal fade" id="PublicAsset" tabindex="-1" aria-labelledby="PublicAsset" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicAsset_hu67170bfbdabb01237c71870d43285f9d_74253_200x0_resize_box_3.png 200w&quot; width=&quot;1205&quot; height=&quot;604&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="get_link_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="get_link_public-1">
<p>A Public Asset&rsquo;s URL can be retrieved via the 
<a href="/developers/api-reference/assets-api/">Assets API</a>. Use the Asset ID returned in the previous step.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;:publicurl
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>The following screenshot shows the public view of the Asset when the public link is followed.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicView" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicView.png" width="1223" height="768" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicView.png" width="1223" height="768" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Public View</em></figcaption>
</figure>





<div class="modal fade" id="PublicView" tabindex="-1" aria-labelledby="PublicView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicView_hu22925ce3144357f05bf1ac3880455f8d_86098_200x0_resize_box_3.png 200w" width="1223" height="768" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<h3 id="adding-an-event-to-a-public-asset">Adding an Event to a Public Asset</h3>
<blockquote class="note callout">
    <div><strong></strong> <strong>NOTE:</strong> Any Events added to a Public Asset will also be public. Events may only be added by the tenancy that originally created the Public Asset.</div>
  </blockquote>
<ol>
<li>
<p>Create an Event with your desired attributes. See 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event</a> for detailed instructions
<ul class="nav nav-tabs" id="create_event_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#create_event_public-0" type="button" role="tab" aria-controls="create_event_public-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#create_event_public-1" type="button" role="tab" aria-controls="create_event_public-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="create_event_public"><div id="create_event_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="create_event_public-0">
<p>Select <code>Record Event</code> from the Asset view and fill in the desired details. When finished, click <code>Record Event</code> at the bottom right of the pop-up.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#AddPublicEvent" img class="img-fluid responsive" src="/platform/overview/public-attestation/AddPublicEvent.png" width="847" height="651" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/AddPublicEvent.png" width="847" height="651" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Details</em></figcaption>
</figure>
<div class="modal fade" id="AddPublicEvent" tabindex="-1" aria-labelledby="AddPublicEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/AddPublicEvent_hu8f02a4cbc28ecf0c602684521777dec2_42311_200x0_resize_box_3.png 200w&quot; width=&quot;847&quot; height=&quot;651&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="create_event_public-1" class="tab-pane fade" role="tabpanel" aria-labelledby="create_event_public-1">
<p>Create a JSON file with your desired Event details</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Adding new information to public asset.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Update&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Public Update&#34;</span><span class="p">:</span> <span class="s2">&#34;New Information&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Your Event will be readable in the Event History tab when the link to the public view is followed. Click on the Event to see the details.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PublicViewEvent" img class="img-fluid responsive" src="/platform/overview/public-attestation/PublicViewEvent.png" width="1423" height="726" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" src="/platform/overview/public-attestation/PublicViewEvent.png" width="1423" height="726" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Event Listed in Public View</em></figcaption>
</figure>





<div class="modal fade" id="PublicViewEvent" tabindex="-1" aria-labelledby="PublicViewEvent" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/public-attestation/PublicViewEvent_huac0cddedf6360e6fbc708038144d9316_90222_200x0_resize_box_3.png 200w" width="1423" height="726" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>You may also retrieve a public URL to the Event itself, using the 
<a href="/developers/api-reference/assets-api/">Assets API</a>
<ul class="nav nav-tabs" id="get_link_event_public" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#get_link_event_public-0" type="button" role="tab" aria-controls="get_link_event_public-0" aria-selected="true">JSON</button>
		</li>
	  </ul>
<div class="tab-content" id="get_link_event_public"><div id="get_link_event_public-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="get_link_event_public-0">
<p>Use the following curl command, which will return the public URL for the Event.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/&lt;asset-id&gt;/events/&lt;event-id&gt;:publicurl
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
`}).add({id:16,href:"https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/",title:"Navigating the Merkle Log",description:"Describes the serialization format of the DataTrails verifiable data structure",content:`<p>This article explains how to navigate the Merkle Log, using the DataTrails Merkle Mountain Range implementation.</p>
<p>DataTrails publishes the data necessary for immediately verifying events to highly available commodity cloud storage.
&ldquo;Verifiable data&rdquo; is synonymous with <em>log</em> or <em>transparency log</em>.
Once verifiable data is written to the log it is never changed.
The log only grows, it never shrinks and data in it never moves within the log.</p>
<p>To work with Merkle Log format, DataTrails provides 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">open-source tooling</a> for working in offline environments.</p>
<p>To verify DataTrails logs, you will need:</p>
<ol>
<li>A copy of the section of the log containing your event, (or the url to the
publicly available log data)</li>
<li>A copy of any log <em>seal</em> from <em>any</em> time after your event was included</li>
<li>A copy of any events you wish to verify are included within the log</li>
<li>A Tenant ID to run the samples</li>
</ol>
<p>For reference:</p>
<ul>
<li>DataTrails log implementation: 
<a href="https://github.com/datatrails/go-datatrails-merklelog" target="_blank" rel="noopener">go-datatrails-merklelog</a>.</li>
<li>Examples for verification: 
<a href="https://github.com/datatrails/go-datatrails-demos/" target="_blank" rel="noopener">go-datatrails-demos</a></li>
<li>Log inclusion and introspection: 
<a href="https://github.com/datatrails/veracity/blob/main/README.md" target="_blank" rel="noopener">veracity</a></li>
</ul>
<p>To reproduce these examples from first principals, using only the raw verifiable data structure, an understanding of the log format is provided by this article.</p>
<p>If you already know the basics, and want a straight forward way to deal with the dynamically sized portions of the format, please see 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a></p>
<h2 id="environment-configuration">Environment Configuration</h2>
<p>DataTrails operates customer specific Tenants, and a single public tenant.</p>
<ul>
<li>
<p><strong>Public events</strong> are shared on the DataTrails public tenant.</p>
</li>
<li>
<p><strong>Protected events</strong> are only visible to the tenant owner, but the commitment (hash) in the log is public.</p>
</li>
</ul>
<p>The examples in this article use a DataTrail&rsquo;s Synsation demo tenant&rsquo;s to represent protected events.</p>
<p>To view <em>your</em> protected events, replace <code>TENANT</code> with your <code>Tenant ID</code>.</p>
<p>Within the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">DataTrails app</a>, click the top/right corner, selecting copy Tenancy Identity.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#CopyTenancyIdentity" img class="img-fluid responsive" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity.png" width="432" height="282" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity.png" width="432" height="282" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Copy Tenant ID</em></figcaption>
</figure>





<div class="modal fade" id="CopyTenancyIdentity" tabindex="-1" aria-labelledby="CopyTenancyIdentity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/navigating-merklelogs/CopyTenancyIdentity_huacdf2ad3fd63ebf282aaf6b1948a9a1c_30713_200x0_resize_box_3.png 200w" width="432" height="282" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>Update the variables to fit your environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># DataTrails Public Tenant</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PUBLIC_TENANT</span><span class="o">=</span><span class="s2">&#34;6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Synsation Demo Tenant</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Replace to view your Tenant logs ane events</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TENANT</span><span class="o">=</span><span class="s2">&#34;6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span></code></pre></div><h2 id="each-log-is-comprised-of-many-massif-blobs-each-containing-a-fixed-number-of-leaves">Each Log Is Comprised of Many Massif Blobs, Each Containing a Fixed Number of Leaves</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+-----------+ +-----------+ .. +----------+
</span></span><span class="line"><span class="cl">| massif 0  | | massif 1  |    | massif n
</span></span><span class="line"><span class="cl">+-----------+ +-----------+ .. +----------+
</span></span></code></pre></div><blockquote>
<p>Illustration demonstrating the last massif is always in the process of being <em>appended</em> to</p>
</blockquote>
<p>What is a massif?
In this context, a massif means a 
<a href="https://www.oxfordlearnersdictionaries.com/definition/american_english/massif" target="_blank" rel="noopener">group of mountains that form a large mass</a>.
Massif originates from the verifiable data structure used in the Merkle Mountain Range <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> (MMR) based log.</p>
<p>Merkle Mountain Ranges are attributed to 
<a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-May/012715.html" target="_blank" rel="noopener">Peter Todd</a>, though much parallel invention has occurred.
The &ldquo;post order&rdquo;, write once &amp; append only nature of the tree organization was first discussed in 3.3 of the 
<a href="https://static.usenix.org/event/sec09/tech/full_papers/crosby.pdf" target="_blank" rel="noopener">Crosby, Wallach paper</a>.
They have been independently analyzed in the context of 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">cryptographic asynchronous accumulators</a>, Generalized multi-proofs for 
<a href="https://eprint.iacr.org/2021/038.pdf" target="_blank" rel="noopener">Binary Numeral Trees</a>.
And also by the 
<a href="https://ethresear.ch/t/batching-and-cyclic-partitioning-of-logs/536" target="_blank" rel="noopener">ethereum research community</a>.</p>
<p>Each massif contains the verifiable data for a fixed number, and sequential range, of events.
The number of events is determined by the log configuration parameter <code>massif height</code>.
Within DataTrails, all logs currently have a massif height of <code>14</code>, and the number of event <em>leaf</em> log entries in each massif is 2<sup>height-1</sup>, which is 2<sup>14-1</sup> leaves, which is <code>8192</code> leaves.
<code>14</code> was chosen as it affords a massif storage size of comfortably under 4mb (less than 2 actually), and for many situations it is practical to handle this size as &ldquo;one lump&rdquo;.
See 
<a href="#the-massif-height-is-constant-for-all-blobs-in-a-log-configuration">reconfiguration</a> for more info.</p>
<p>
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> provides a shortcut for picking the right massif.
It can also be fairly easily computed from only the <code>merklelog_entry.commit.index</code> <em>mmrIndex</em> on the event using the 
<a href="/developers/developer-patterns/massif-blob-offset-tables#the-algorithms-backing-the-table-generation">example javascript</a>.</p>
<h2 id="every-massif-blob-is-a-series-of-32-byte-aligned-fields">Every Massif Blob Is a Series of 32 Byte Aligned Fields</h2>
<p>Every massif in a log is structured as a series of <code>32</code> byte fields.
All individual entries in the log are either 32 bytes or a small multiple of <code>32</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  0               32
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  |                | field 0
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  .                .
</span></span><span class="line"><span class="cl">  .                .
</span></span><span class="line"><span class="cl">  +----------------+
</span></span><span class="line"><span class="cl">  |                | field n
</span></span><span class="line"><span class="cl">  +----------------+
</span></span></code></pre></div><p>Recalling our configuration (above), the tenants first massif blob can be found at:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-1" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-1"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-1-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log -o 0.log
</span></span></code></pre></div></div></div>

<p>Each massif is stored in a numbered file.
The filename (<code>0000000000000000.log</code>) is the 16-character, zero-padded, massif index.</p>
<p>The DataTrails attestation for each massif can be found at a closely associated url.</p>
<p>For the massif above it is:<br>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-2" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-2"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-2-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifseals/0000000000000000.sth -o 0.sth
</span></span></code></pre></div></div></div>
</p>
<p>This is a simple reverse proxy to the native azure blob store where your logs are store.
The full 
<a href="https://learn.microsoft.com/en-us/rest/api/azure/" target="_blank" rel="noopener">Azure REST API</a> provides getting specific massif blobs.
For reasons of cost, all operations are subject to rate limits, listing blobs is not possible, though filtering blobs by tags is permitted.
Both the massif blobs and the log seal blobs are always tagged with the most recent idtimestamp for the log.
In the case of the masssif blobs, it is the idtimestamp most recently added to the log. In the case of the seal blob it is the most recent log entry that has been attested by DataTrails. The tag name is <code>lastid</code></p>
<h2 id="re-creating-inclusion-proofs-requires-only-one-massif">Re-Creating Inclusion Proofs Requires Only One Massif</h2>
<p>The variable section of the massif blob is further split into the <em>accumulator</em> for the preceding log state followed by the regular massif nodes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+----------------+----------------+
</span></span><span class="line"><span class="cl">| FIXED          | HEADER DATA    |
</span></span><span class="line"><span class="cl">|                +----------------+  fixed size
</span></span><span class="line"><span class="cl">|        SIZE    | TRIE-DATA      |  pre-filled with zeros, populated as leaves are added
</span></span><span class="line"><span class="cl">+----------------+----------------+
</span></span><span class="line"><span class="cl">| VARIABLE       | PEAK           |  accumulator succinctly committing the entire preceding log state,
</span></span><span class="line"><span class="cl">|                |         STACK  |    which is write once on massif create
</span></span><span class="line"><span class="cl">|   write once   +----------------+
</span></span><span class="line"><span class="cl">|                | MMR            | grows until 2^(height-1) leaves are added
</span></span><span class="line"><span class="cl">.                .   NODES        |
</span></span><span class="line"><span class="cl">.   APPEND ONLY  .                |
</span></span><span class="line"><span class="cl">+----------------+----------------+
</span></span></code></pre></div><p>The accumulator is more precisely a cryptographic, asynchronous, accumulator whose properties are formally defined in this 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">paper</a>.
We refer to it as the peak stack due to how we maintain it and the fact that it is composed exclusively of &ldquo;peak&rdquo; nodes taken from the preceding log.</p>
<p>DataTrails provides convenience look up tables for 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a>, and implementations of the algorithms needed to produce those tables in many languages under an MIT license.</p>
<h2 id="the-first-32-byte-field-in-every-massif-is-the-sequencing-header">The First 32 Byte Field in Every Massif Is the Sequencing Header</h2>
<p>The following curl command reads the version and format information from the header field <code>0</code></p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-3" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-3"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-3-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;Range: bytes=0-31&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> od -An -tx1 <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> tr -d <span class="s1">&#39; \\n&#39;</span>
</span></span></code></pre></div><p>generates a version information, similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">00000000000000009148fda07f06640000000000000000000000010e00000000
</span></span></code></pre></div></div></div>

<blockquote class="note callout">
    <div><strong></strong> The request requires no authentication or authorization.</div>
  </blockquote>
<p>The structure of the header field is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">| type| idtimestamp| reserved |  version | epoch  |massif height| massif i |
</span></span><span class="line"><span class="cl">| 0   | 8        15|          |  21 - 22 | 23   26|27         27| 28 -  31 | start and end byte indices, closed range
</span></span><span class="line"><span class="cl">| 1   |     8      |          |      2   |    4   |      1      |     4    | count of bytes
</span></span></code></pre></div><p>The <code>idtimestamp</code> of the last leaf entry added to the log is always set in the header field.</p>
<p>In the hex data above, the <code>idtimestamp</code> of the last entry in the log is <code>9148fcc832066400</code><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>, the version is <code>0</code>, the timestamp epoch is <code>1</code>, the massif height is <code>14</code>, and the massif index is <code>0</code>.</p>
<h3 id="decoding-an-idtimestamp">Decoding an idtimestamp</h3>
<p>The <code>idtimestamp</code> is 40 bits of time at millisecond precision.
The <code>idtimestamp</code> in the header field is always set to the <code>idtimestamp</code> of the most recently added leaf.</p>
<p>The following examples depend on a python environment:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-4" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-4"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-4-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">idtimestamp_to_date</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Safely convert an idtimestamp hex string to a regular date time&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># ignore the common &#39;0x&#39; prefix</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nb">id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;0x&#34;</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;idtimestamp must be 18 or 16 hex chars&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">epoch</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># the epochs are aligned with the unix epoch but are half as long</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">==</span> <span class="mi">18</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">epoch</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">16</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;idtimestamp must be 18 or 16 hex chars&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># To get the time portion we strip the trailing sequence and generator id</span>
</span></span><span class="line"><span class="cl">    <span class="n">unixms</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span>
</span></span><span class="line"><span class="cl">        <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="nb">id</span><span class="p">)[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">hex</span><span class="p">(),</span> <span class="n">base</span><span class="o">=</span><span class="mi">16</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span> <span class="o">+</span> <span class="n">epoch</span><span class="o">*</span><span class="p">((</span><span class="mi">2</span><span class="o">**</span><span class="mi">40</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">unixms</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">idtimestamp_to_date</span><span class="p">(</span><span class="s1">&#39;9148fcc832066400&#39;</span><span class="p">))</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2024-08-13 00:46:51.569000
</span></span></code></pre></div></div></div>

<p>In this example, the last entry in the log (at that time) was <code>2024/08/13</code>, a little before 1am UTC.</p>
<h2 id="the-triedata-entries-are-512-bits-each-and-are-formed-from-two-fields">The trieData entries are 512 bits each and are formed from two fields</h2>
<p>With the trie keys, full data recovery can be verified without needing to remember the order that events were added to the log.</p>
<p>Massifs can be recovered independently even if the data for other massifs is incomplete.</p>
<p>The index also provides for proof of exclusion. Proof that a specific event is not in the index.
As the event identities contribute to both the index keys and the leaf entries,
and as the keys are time ordered on addition, it is possible to audit the specific range.
This will confirm the log is consistent with the index for the time range in which the disputed item is claimed to exist.</p>
<p>The trieData section is 2 * 32 * 2<sup>height</sup> bytes long, which is exactly double what is needed.
For a standard massif height of 14, it has 8,192 entries in the first 524,288 bytes.
The subsequent 524,288 will always be zero.
The format of each entry is then, for a massif height of 14:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">| HEADER DATA    |
</span></span><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">288
</span></span><span class="line"><span class="cl">+----------------+
</span></span><span class="line"><span class="cl">| TRIE-DATA      |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|................| 288 + 524288 = 524576
</span></span><span class="line"><span class="cl">|  always        |
</span></span><span class="line"><span class="cl">|                |
</span></span><span class="line"><span class="cl">|       zero     |
</span></span><span class="line"><span class="cl">+----------------+ 288 + 524288 * 2 = 1048864
</span></span></code></pre></div><p>Each entry is formatted like this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0                                                        31
</span></span><span class="line"><span class="cl">SHA256(BYTE(0x00) || tenant-identity || event.identity)
</span></span><span class="line"><span class="cl">0                                       BYTES(IDTIMESTAMP)
</span></span><span class="line"><span class="cl">32                                      56               63
</span></span></code></pre></div><p>Described in further detail in the 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/term-cheatsheet.md#trie-entry" target="_blank" rel="noopener">term-cheatsheet</a>
Note that the <code>idtimestamp</code> is unique to the tenant and the DataTrails service.
When sharing events with other tenants, the <code>idtimestamp</code> will not correlate directly with activity in other tenant logs.</p>
<p>When a massif is initialized the trieData is pre-populated for all leaves and set to all zero bytes.
As events are recorded in the log, the zero-padded index is filled in.
A sub-range of field 0 will change when saving the last <code>idtimestamp</code> in it.
The MMR node values are strictly only ever appended to the blob.
Once appended they will never change and they will never move.</p>
<p>Returning to the trieData section, given an event identity of:</p>
<p><code>assets/20d6f57c-bce2-4be9-8e70-95ded25399b7/events/bbd934cb-a20f-44c9-aa5d-a3ce333c5208</code></p>
<p>The trieKey for the synsation tenant&rsquo;s log is:
<code>d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9</code></p>
<p>The following python snippet generates a trieKey from the event data to confirm what should be in the index at a specific position.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-5" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-5"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-5-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">PUBLIC_TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PUBLIC_TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">ASSET</span><span class="o">=</span><span class="s1">&#39;20d6f57c-bce2-4be9-8e70-95ded25399b7&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">EVENT</span><span class="o">=</span><span class="s1">&#39;bbd934cb-a20f-44c9-aa5d-a3ce333c5208&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">triekey</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">h</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">triekey</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;tenant/&#34;</span> <span class="o">+</span> <span class="n">TENANT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;assets/&#34;</span> <span class="o">+</span> <span class="n">ASSET</span> <span class="o">+</span> <span class="s2">&#34;/events/&#34;</span> <span class="o">+</span> <span class="n">EVENT</span><span class="p">))</span>
</span></span></code></pre></div><p>generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9
</span></span></code></pre></div></div></div>

<p>The above example is an event on a public asset, so it can be found in the public tenant&rsquo;s merkle log.</p>
<p>Using the python requests object (or curl), fetch the public tenants log,</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-6" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" aria-selected="true">Python</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" aria-selected="false">Bash</button>
		</li></ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-6"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-6-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/&#39;</span><span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="n">TENANT</span><span class="o">+</span><span class="s1">&#39;/0/massifs/0000000000000000.log&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;x-ms-blob-type&#34;</span><span class="p">:</span> <span class="s2">&#34;BlockBlob&#34;</span><span class="p">,</span> <span class="s2">&#34;x-ms-version&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-12-12&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;mmr.log&#34;</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</span></span></code></pre></div></div>
  <div id="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1" class="tab-pane fade" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-6-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$TENANT</span>/0/massifs/0000000000000000.log -o mmr.log
</span></span></code></pre></div></div></div>

<p>Using python, we can more readily illustrate the 32 byte aligned format.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-7" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-7"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-7-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">binascii</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="n">SYNSATION_TENANT</span> <span class="o">=</span> <span class="s2">&#34;6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;TENANT&#39;</span><span class="p">,</span> <span class="n">SYNSATION_TENANT</span><span class="p">)</span> <span class="c1"># default to synsation if not in env </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">readfields</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="s2">&#34;0000000000000000&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/&#39;</span><span class="o">+</span><span class="n">tenant</span><span class="o">+</span><span class="s1">&#39;/0/massifs/&#39;</span><span class="o">+</span><span class="n">log</span><span class="o">+</span><span class="s1">&#39;.log&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">hex</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">hex</span><span class="p">)</span> <span class="o">/</span> <span class="mi">64</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="nb">hex</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">64</span><span class="p">:(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">64</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">log</span> <span class="o">=</span> <span class="s2">&#34;0000000000000000&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">readfields</span><span class="p">(</span><span class="n">TENANT</span><span class="p">,</span> <span class="n">log</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</span></span></code></pre></div><p>The first few fields will look like</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">00000000000000009148fda07f06640000000000000000000000010e00000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">d273400cca0d594ddbd4f04bc9275e0e6d995da1accafa00b5be879a265ecda9
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fcc832066400
</span></span><span class="line"><span class="cl">f67192c6a4fe6a3454000225647deb37e7c488461b1d52f8d1dc58222d49d4db
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fccedb045d00
</span></span><span class="line"><span class="cl">1057b8d9caaf1f09e46e04a4e36295276fa8f2ef676144f4b90fc47e335ea51e
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fd0d47066400
</span></span><span class="line"><span class="cl">7fe0c5553a639bbeb5e0c26e24c94722f126fa258560097c531e9eb12e12dc88
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fd52e7066400
</span></span><span class="line"><span class="cl">0e561df1aa165967ffe12b0d84491e29349d0022f840d9dcb5bb3fe62551ef5c
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000009148fda07f066400
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span><span class="line"><span class="cl">0000000000000000000000000000000000000000000000000000000000000000
</span></span></code></pre></div></div></div>

<p>Note the trieKey we derived earlier is easily spotted at row 9, and its
<code>idtimestamp</code>, <code>9148fcc832066400</code>, is in the subsequent field</p>
<p>All public events are automatically shared to the public tenant. This makes the
event data visible without access control. The example event we created in the
Synsation tenant is a public event. We can obtain its corresponding entry in the
log by deriving its trieKey, and recalling our implementation for <code>triekey</code> above</p>
<p>Obtain the trie key for the public tenant event:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-8" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" aria-selected="true">Python</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-8"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-8-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">PUBLIC_TENANT</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PUBLIC_TENANT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">ASSET</span><span class="o">=</span><span class="s1">&#39;20d6f57c-bce2-4be9-8e70-95ded25399b7&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">EVENT</span><span class="o">=</span><span class="s1">&#39;bbd934cb-a20f-44c9-aa5d-a3ce333c5208&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">triekey</span><span class="p">(</span><span class="n">tenant</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="n">h</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">h</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">triekey</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;tenant/&#34;</span> <span class="o">+</span> <span class="n">PUBLIC_TENANT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;assets/&#34;</span> <span class="o">+</span> <span class="n">ASSET</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;/events/&#34;</span> <span class="o">+</span> <span class="n">EVENT</span><span class="p">))</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">c31114a64b9dca1376d7af999d35b4fa05a75965cb49d2b58386e19b8bbc73a9
</span></span></code></pre></div></div></div>

<p>If you similarly run <code>getlog</code> (from the example above) on the public tenant, the public trieKey is found
at line 2390.  As this log commits events shared from many tenants, the MMRIndex
of the publicly committed event is different (and quite a lot higher)</p>
<p>The full details of the publicly available event can be found 
<a href="https://app.datatrails.ai/merklelogentry/20d6f57c-bce2-4be9-8e70-95ded25399b7/bbd934cb-a20f-44c9-aa5d-a3ce333c5208?public=true" target="_blank" rel="noopener">here</a></p>
<p>Noting that the <code>public</code> routing prefix is not prepended on the event identity.</p>
<p>This works the same for regular OBAC shares, a shared event is committed both to
the originating tenants log and to the recipient tenants log.</p>
<p>It is not possible to directly correlate activity between different tenants logs unless you know both the tenant identity and the event identity.
For permissioned events, this will only be available if the executing identity is included in the sharing policy.
The <code>idtimestamp</code> is different for each log, guaranteed unique within the context of a single log, and, assuming only good operation of our cloud providers clocks, guaranteed unique system wide.</p>
<p>It is important to remember that timing analysis is possible regardless of whether we have trie keys or not.</p>
<h2 id="the-peak-stack-and-mmr-data-sizes-are-computable">The Peak Stack and MMR Data Sizes Are Computable</h2>
<p>See 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> to avoid needing to calculate these.
Implementations of the O(log base 2 n) algorithms are provided in various languages.
They all have very hardware-sympathetic implementations.</p>
<h2 id="the-massif-height-is-constant-for-all-blobs-in-a-log-configuration">The Massif Height Is Constant for All Blobs in a Log Configuration</h2>
<p>For a massif height of <code>14</code>, the fixed size portion is <code>1048864</code> bytes.</p>
<p>A typical url for a massif storage blob looks like:<br>
<code>https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log</code></p>
<p>In the above, the <em>log configuration</em> identifier is the <code>/0/</code> between the tenant uuid and the <code>massifs/0000000000000000.log</code></p>
<p>The massif height is recorded at the start record of every massif, and guarantees that all massifs in a single configuration path have the same <strong>massif height</strong>.</p>
<p>Currently all DataTrails tenants use the same configuration.
In the future, DataTrails may change the height for massifs.
In a log reconfiguration activity, DataTrails would first publish the tail of the log to the new path. For example: (<code>/1/massifs/0000000000000123.log</code>).
The log would be immediately available for continued growth.
The historic configuration continues to be available under the <code>/0/</code> path.
Depending on data retention and migration policies for your tenant, the historic configuration can verifiably be migrated to the new path without interrupting service or availability.</p>
<p>This is achieved without impacting the verifiability of the contained data and without invalidating your previously cached copies taken from the earlier massif size configuration.
If reconfigured, a log configuration description will also be published along side the massifs and seals.</p>
<p>Simple binary file compare operations can show that the verifiable data for the new configuration is the same as in the original should you wish to assure yourself of this fact.</p>
<p>The previous configuration path will no longer receive any additions.</p>
<blockquote class="note callout">
    <div><strong></strong> For the forseeable future (at least months) DataTrails does not anticipate needing to reconfigure the massif height.</div>
  </blockquote>
<h2 id="reading-a-specific-mmr-node-by-mmrindex">Reading a Specific MMR Node by mmrindex</h2>
<p>The variable portion <em>for the first massif</em> contains exactly <em>16383</em> MMR <em>nodes</em>.
Of those nodes, <em>8192</em> are the leaf entries in the Merkle tree corresponding to your events.</p>
<p>Given a byte offset in the blob for the start of the MMR data, a query can check for the number of MMR nodes currently in it by doing <code>(blobSize - mmrDataStart)/32</code>.</p>
<p>To read a specific MMR node, find the smallest <code>Last Node</code> in 
<a href="/developers/developer-patterns/massif-blob-offset-tables">Massif Blob Pre-Calculated Offsets</a> that is greater than your <em>mmrIndex</em> and use that row as your massif index.</p>
<p>Taking the massif index of 0 (row 0) use the first mmrIndex:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-9" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" aria-selected="true">Bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-9"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-9-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">LOGSTART</span><span class="o">=</span><span class="m">1048864</span>
</span></span><span class="line"><span class="cl"><span class="nv">MMRINDEX</span><span class="o">=</span><span class="m">2376</span>
</span></span><span class="line"><span class="cl">curl -s <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;Range: bytes=</span><span class="k">$((</span><span class="nv">$LOGSTART</span><span class="o">+</span><span class="nv">$MMRINDEX</span><span class="o">*</span><span class="m">32</span><span class="k">))</span><span class="s2">-</span><span class="k">$((</span><span class="nv">$LOGSTART</span><span class="o">+</span><span class="nv">$MMRINDEX</span><span class="o">*</span><span class="m">32</span><span class="o">+</span><span class="m">31</span><span class="k">))</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-blob-type: BlockBlob&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;x-ms-version: 2019-12-12&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/verifiabledata/merklelogs/v1/mmrs/tenant/<span class="nv">$PUBLIC_TENANT</span>/0/massifs/0000000000000000.log  <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> od -An -tx1 <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> tr -d <span class="s1">&#39; \\n&#39;</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">3cab877bc730f7e3d652e74b5b9e9a3fad605001c29ebe481764d184c7773f95
</span></span></code></pre></div></div></div>

<p>You can confirm this on the merklelog 
<a href="https://app.datatrails.ai/merklelogentry/20d6f57c-bce2-4be9-8e70-95ded25399b7/861dd529-3616-4ad2-b2a9-702da77b8588?public=true" target="_blank" rel="noopener">page</a> in the public tenant for this event. Look for the &ldquo;Merkle Leaf&rdquo; field.</p>
<p>Optionally use 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">veracity</a> to confirm:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patternsnavigating-merklelogs-10" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patternsnavigating-merklelogs-10"><div id="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patternsnavigating-merklelogs-10-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--data-url <span class="s2">&#34;https://app.datatrails.ai/verifiabledata&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-t tenant/<span class="nv">$PUBLIC_TENANT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>node -i <span class="m">2376</span>
</span></span></code></pre></div><p>Generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">3cab877bc730f7e3d652e74b5b9e9a3fad605001c29ebe481764d184c7773f95
</span></span></code></pre></div></div></div>

<p>The example javascript in 
<a href="/developers/developer-patterns/massif-blob-offset-tables#the-algorithms-backing-the-table-generation">Massif Blob Pre-Calculated Offsets</a> can be used to accomplish this computationally.</p>
<h2 id="leaf-nodes-created-by-hashing-event-data">Leaf Nodes Created by Hashing Event Data</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">0                                                        31
</span></span><span class="line"><span class="cl">SHA256(BYTE(0x00) || BYTES(IDTIMESTAMP) || V3-SCHEMA(event))
</span></span></code></pre></div><p>The V3 Schema defines how the content on your event is consistently converted to bytes prior to hashing.
This works by passing the fields specified in the schema through the 
<a href="https://en.wikipedia.org/wiki/Bencode" target="_blank" rel="noopener">bencode</a> encoding system.</p>
<p>See our knowledge base 
<a href="https://support.datatrails.ai/hc/en-gb/articles/18120936244370-How-to-independently-verify-Merkle-Log-Events-recorded-on-the-DataTrails-transparency-ledger#h_01HTYDD6ZH0FV2K95D61RQ61ZJ" target="_blank" rel="noopener">article</a> for an example in javascript and the definition of the V3 fields.</p>
<p>Note that this includes the <code>event_identity</code> and <code>tenant_identity</code> which are also included in the trieKey hash.</p>
<p>The remaining item is conditioning the <code>IDTIMESTAMP</code> for hashing.
If you have the event record from the Events API, the idtimestamp is found at <code>merklelog_entry.commit.idtimestamp</code>.
It is a hex string and prefixed with <code>01</code> which is the epoch from the header.</p>
<p>To condition the string value, strip the leading <code>01</code> and convert the remaining hex to binary.
Then substitute those bytes, in presentation order, for idTimestamp above.</p>
<p>The bytes for the hash are just <code>bytes.fromhex(&quot;019148fccdbf066400&quot;[2:])</code></p>
<p>You can use the earlier python example to convert this format to a regular date time.</p>
<h2 id="which-nodes">Which Nodes</h2>
<p>Typically, verifiers would verify the inclusion of an event in the log.
The inclusion is verified by selecting the sibling path needed to recreate the root hash starting from your leaf hash.
Create the leaf hash using the original pre-image data of your event and the <em>commit</em> values assigned to it when it was included in the log.</p>
<p>For example:</p>
<ul>
<li>The V3 canonical set of fields from your event (as described in our knowledge base 
<a href="https://support.datatrails.ai/hc/en-gb/articles/18120936244370-How-to-independently-verify-Merkle-Log-Events-recorded-on-the-DataTrails-transparency-ledger#h_01HTYDD6ZH0FV2K95D61RQ61ZJ" target="_blank" rel="noopener">article</a>)</li>
<li>The <code>merklelog_entry.commit.index</code> (the mmrIndex of the event in the log)</li>
<li>The <code>merklelog_entry.commit.idtimestamp</code> uniquely placing the record of the log in time (according to our cloud service provider)</li>
</ul>
<p>Determining the sibling path will be a future article.
First, set the scene by covering how the logical tree nodes map to storage.</p>
<p>What is a sibling path?
To understand this we need to dig into how DataTrails organizes the nodes in the Merkle log in storage and memory.</p>
<h2 id="tree-layout-in-storage">Tree Layout in Storage</h2>
<p>Merkle trees <em>prove</em> things by providing paths of hashes that lead to a single <em>common root</em> for all nodes in the tree.
For an MMR, a single root can be produced by &ldquo;bagging the peaks&rdquo;.
But the list of peaks, from which that single root is produced, is itself precisely determined by the size of the MMR.
Having the peak list is equivalent to having a single root.
And having a path that leads to a peak is equivalent to having a path to a single root
The peak list is an accumulator state and a path to an accumulator is actually more useful.</p>
<p>The formal details, and a very nice visualization of how the peaks combine, is available in this paper on 
<a href="https://eprint.iacr.org/2015/718.pdf" target="_blank" rel="noopener">cryptographic, asynchronous, accumulators</a> (see Fig 4, page 12)</p>
<p>The peaks are exactly the accumulator described there.</p>
<p>All entries in a Merkle log each have a unique and <em>short</em> path of hashes<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>: , which when hashed together according to the data structures rules, will re-create the same root.
If such a path does not exist, by definition the leaf is not included - it is not in the log.</p>
<p>Where do those paths come from?
They come from adjacent and ancestor nodes in the hierarchical tree.
This means that when producing the path we need to access nodes throughout the tree to produce the proof.</p>
<p>Using the &ldquo;canonical&rdquo; MMR log for illustration, we get this diagram.
The vertical axis is labeled by height index, which is just height - 1.
The connecting diagonal dashes above the &ldquo;tree line&rdquo; indicate nodes that belong to one massif but depend on peaks accumulated from earlier massifs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">                          
</span></span><span class="line"><span class="cl">                       14 
</span></span><span class="line"><span class="cl">                          \\        affectionately called the alpine zone
</span></span><span class="line"><span class="cl">                6           13             21   
</span></span><span class="line"><span class="cl">                  \\            \\              \\
</span></span><span class="line"><span class="cl">    h=2 1 |  2  |  5  |   9  |  12   |  17   | 20  | -- massif &#39;tree line&#39;
</span></span><span class="line"><span class="cl">          |     |     |      |       |       |     |
</span></span><span class="line"><span class="cl">        0 |0   1| 3  4| 7   8|10   11|15   16|18 19|
</span></span></code></pre></div><p>The sibling <em>proof</em> path for the leaf with <code>mmrIndex</code> <code>7</code> would be [<code>8</code>, <code>12</code>, <code>6</code>], and the &ldquo;peak bagging&rdquo; algorithm may then be applied to get the root if that was desired.
An inclusion proof against an accumulator entry both equivalent and also more durable, as it is permanently consistent with all future accumulator states.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">H(7 || 8) = 9
</span></span><span class="line"><span class="cl">H(9 || 12) = 13
</span></span><span class="line"><span class="cl">H(6 || 13) = 14
</span></span></code></pre></div><p>14 is a peak in the MMR. The precise set of peaks are determined exclusively from the current mmr size which is 23 in this case. Showing a leaf has a path to a peak for the MMR is sufficient to prove its inclusion in the MMR.</p>
<h2 id="visualizing-the-look-back-peak-stack">Visualizing the “Look Back” Peak Stack</h2>
<p>A specific challenge for log implementations with very large data sets is answering &ldquo;how far back&rdquo; or &ldquo;how far forward&rdquo; may be seen?</p>
<p>MMRs differ from classic binary Merkle trees in how, or even <em>if</em>, the incomplete sub-trees are combined into a common root.
For an MMR, the common root is defined by an algorithm for combining the adjacent, incomplete sub-trees.
Rather than by the more traditional, temporary, assignment of un-balanced siblings.
Such un-balanced siblings would later have to be re-assigned (balanced) when there were sufficient leaves to merge the sub-trees.</p>
<p>While a single root can be produced for an MMR, due to the properties of the accumulator construction, there is much less value in doing so.
Typically, verification use cases are better served by paths to an accumulator.</p>
<p>The linear and write once nature of this storage organization is what permits DataTrails to publish the log data immediately after events are added.</p>
<p>The specific properties of Merkle Mountain Ranges lead to an efficiently computable and stable answer to the question of <em>&ldquo;Which other nodes do I need&rdquo;</em>.
Such that we <em>know</em> categorically it is not needed to look <em>forward</em> of the current massif and it is precisely known which nodes are needed from the previous massifs.</p>
<p>The &ldquo;free nodes&rdquo; in the alpine zone always require &ldquo;ancestors&rdquo; from previous nodes when producing inclusion proofs that pass through them, and when adding new nodes to the end of the log.
But those ancestors are precisely the peaks forming the accumulator that attests to the log state and provide efficient, permanently useful, proofs of inclusion and consistency.</p>
<p>The progression of the peak stack (accumulator) can be visualized like this. In this diagram we gather the dependent nodes into the massifs they belong too and carry forward the peak stack (accumulator) that fully authenticates the entire state of the MMR preceding the massif.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">      |[]   |[2]  |[6]   |[6,9]  |[14]   |[14,17]| peak stack
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">      |     |6    |      |13, 14 |       |21     | spurs
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">h=2 1 |  2  |  5  |   9  |  12   |  17   |  20   | &lt;-- massif height &#39;tree line&#39;
</span></span><span class="line"><span class="cl">      |     |     |      |       |       |       |
</span></span><span class="line"><span class="cl">    0 |0   1 3   4| 7   8|10   11|15   16|18   19|
</span></span></code></pre></div><p><em>Note: height is 1 based, height indices are 0 based. So at h=2 we have height index 1.</em></p>
<p>The log configuration parameter massif height is the &ldquo;tree line&rdquo;.
The first leaf addition that causes &ldquo;break out&rdquo; is the last leaf of that particular massif.
The &ldquo;break out nodes&rdquo; for the last leaf are stored in the same massif as the leaf.
While the leaf count for each massif is fixed, the number of nodes is variable.
The variance is deterministic given only the MMR size.</p>
<p>The look-back nodes are called the <em>peak stack</em> because the operations we use to maintain it are stack like.
Entries don&rsquo;t pop off, ever.
Entries just happen to reference it in reverse order of addition when adding new leaves.</p>
<p>The stability of the MMR data comes from the fact that the sub trees are not merged until a right sibling tree of equal height has been produced.
Merging is accomplished by <em>appending</em> the new parent immediately after the right sibling.
This means when merged, the sub trees do not change in content or organization, nodes are simply appended to commit them to the log.
This results in the &ldquo;write-once&rdquo; and &ldquo;append only&rdquo; properties discussed in the 
<a href="https://static.usenix.org/event/sec09/tech/full_papers/crosby.pdf" target="_blank" rel="noopener">crosby-wallach</a> 3.3 &ldquo;Storing the log on secondary storage&rdquo;</p>
<h2 id="how-the-tree-spans-the-massifs">How the Tree Spans the Massifs</h2>
<p>A worked example for a Merkle log whose height configuration parameter is set to 2.</p>
<h3 id="massif-0">Massif 0</h3>
<p>The peak stack size is established for a massif when it is created in its empty state. The size is efficiently calculable from the MMR Index at the start of the new massif. For the first massif the stack will be empty.</p>
<p>When viewed horizontally, we start by denoting the empty stack like this.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">++
</span></span><span class="line"><span class="cl">||
</span></span><span class="line"><span class="cl">++
</span></span></code></pre></div><p>Then, the leaves for the complete MMR of size 3 from our canonical example are added after the peak stack.</p>
<p>This gives us the final form for massif 0 as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">++---+---+---+
</span></span><span class="line"><span class="cl">|| 0 | 1 | 2 |
</span></span><span class="line"><span class="cl">++---+-------+
</span></span></code></pre></div><p>The massif has exactly 3 nodes</p>
<p>The peak stack is empty, and the global tree looks like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  1    2  | --- massif tree line massif height index = 1
</span></span><span class="line"><span class="cl">      / \\ |
</span></span><span class="line"><span class="cl">     0   1| MMR INDICES
</span></span><span class="line"><span class="cl">     -----|
</span></span><span class="line"><span class="cl">       0  | MASSIF
</span></span></code></pre></div><h3 id="massif-1">Massif 1</h3>
<p>Once massif 1 has been constructed, the global tree would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2       6       --- max height index = 2
</span></span><span class="line"><span class="cl">         \\
</span></span><span class="line"><span class="cl">1    2  | 5   | --- massif tree line massif height index = 1
</span></span><span class="line"><span class="cl">    / \\ |/  \\ |
</span></span><span class="line"><span class="cl">   0   1|3   4| MMR INDICES
</span></span><span class="line"><span class="cl">   -----|-----|
</span></span><span class="line"><span class="cl">     0  |  1  | MASSIF
</span></span></code></pre></div><p>The layout of massif 1 in storage is</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++---+---+---+---+
</span></span><span class="line"><span class="cl">| 2 || 3 | 4 | 5 | 6 |
</span></span><span class="line"><span class="cl">+---++---+-------+---+
</span></span></code></pre></div><p>For massif <code>1</code>, the peak stack is <code>[2]</code>.
When node <code>4</code> was added, the &ldquo;back fill nodes&rdquo; were added to &ldquo;complete the tree&rdquo; and were also stored in massif <code>1</code>.
The &ldquo;break out&rdquo; nodes visually overhang the previous massif, but are stored in massif <code>1</code>.</p>
<p>This layout is also known as a &ldquo;post order&rdquo; traversal of a binary tree.</p>
<p>Note that the addition of node <code>6</code>, while backfilling for <code>4</code>, requires node <code>2</code> from the previous massif <code>0</code>.
This is why it is carried forward in the peak stack.</p>
<p>We can also see that is the <em>only</em> node that is required from massif <code>0</code> for <em>any</em> verification path in massif <code>1</code>.</p>
<p>As the log grows, the accumulator (peak stack) moves on.
However, historic verification paths can always be proven to exist in all future accumulators.
Given a pair of signed accumulators that are inconsistent, the broken log is evident.</p>
<p>The key point here is that, in massif <code>1</code>, when computing a verification path for nodes <code>3</code> or <code>4</code>, the only node that is required from massif <code>0</code> is available locally in the peak stack (in massif <code>1</code>).</p>
<p>This means that should you lose interest in the leaf entries from massif <code>0</code>, the whole massif can be deleted without fear that it will impact the verifiability of subsequent items in the log.</p>
<p>If you retain the seal from massif <code>0</code>, or if you can count on it being available from another trusted source, you only strictly need to retain leaves of interest and their verification paths.</p>
<h3 id="massif-2">Massif 2</h3>
<p>The global tree at the end of massif <code>2</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2       6
</span></span><span class="line"><span class="cl">          \\
</span></span><span class="line"><span class="cl">1    2  |  5  |  9  |
</span></span><span class="line"><span class="cl">    / \\ |/  \\ | / \\ |
</span></span><span class="line"><span class="cl">   0   1|3   4|7   8|
</span></span><span class="line"><span class="cl">   -----|-----|-----|
</span></span><span class="line"><span class="cl">     0  |  1  |  2  | MASSIF
</span></span></code></pre></div><p>The layout for massif <code>2</code>, showing the peak stack is <code>[6]</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++---+---+---+
</span></span><span class="line"><span class="cl">| 6 || 7 | 8 | 9 |
</span></span><span class="line"><span class="cl">+---++---+-------+
</span></span></code></pre></div><p>Note that <code>6</code> has replaced <code>2</code>.
The <code>2</code> is not required for any verification path for elements added in massif <code>2</code> or beyond.</p>
<h3 id="massif-3">massif 3</h3>
<p>The global tree at the end of massif <code>3</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  3              14
</span></span><span class="line"><span class="cl">                   \\
</span></span><span class="line"><span class="cl">                    \\
</span></span><span class="line"><span class="cl">                     \\
</span></span><span class="line"><span class="cl">  2        6         13
</span></span><span class="line"><span class="cl">            \\          \\
</span></span><span class="line"><span class="cl">  1    2  |  5  |  9  | 12  |
</span></span><span class="line"><span class="cl">      / \\ |/  \\ | / \\ | / \\ |
</span></span><span class="line"><span class="cl">     0   1|3   4|7   8|10 11|
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|
</span></span><span class="line"><span class="cl">     | 0  |  1  |  2  |  3  |
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|
</span></span></code></pre></div><p>The peak stack is <code>[6, 9]</code>. Because both nodes <code>6</code> and <code>9</code> were needed to complete
the MMR that includes leaf node <code>11</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---+---++----+----+----+----+----+
</span></span><span class="line"><span class="cl">| 6 | 9 || 10 | 11 | 12 | 13 | 14 |
</span></span><span class="line"><span class="cl">+---+---++----+----+----+----+----+
</span></span></code></pre></div><h3 id="massif-4">Massif 4</h3>
<p>The global tree at the end of massif <code>4</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  3              14
</span></span><span class="line"><span class="cl">                   \\
</span></span><span class="line"><span class="cl">                    \\
</span></span><span class="line"><span class="cl">                     \\
</span></span><span class="line"><span class="cl">  2        6         13
</span></span><span class="line"><span class="cl">            \\          \\
</span></span><span class="line"><span class="cl">  1    2  |  5  |  9  | 12  |  17  |
</span></span><span class="line"><span class="cl">      / \\ |/  \\ | / \\ | / \\ | /  \\ |
</span></span><span class="line"><span class="cl">     0   1|3   4|7   8|10 11|15  16|
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|------|
</span></span><span class="line"><span class="cl">     | 0  |  1  |  2  |  3  |   4  |
</span></span><span class="line"><span class="cl">     -----|-----|-----|-----|------|
</span></span></code></pre></div><p>Note that this case is particularly interesting because it completes a full cycle from one perfect power-sized tree to the next.
A fact of the MMR construction is the look back is never further than the most recent &lsquo;perfect&rsquo; tree completing massif.</p>
<p>So the peak stack is <code>[14]</code>, discarding <code>6</code> and <code>9</code>, and the massif <code>4</code> layout is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">+---++----+----+----+
</span></span><span class="line"><span class="cl">| 14|| 15 | 16 | 17 |
</span></span><span class="line"><span class="cl">+---++----+----+----+
</span></span></code></pre></div><h2 id="takeaways">Takeaways</h2>
<ul>
<li>Merkle logs are divided into massifs, each of which stores verification data for a fixed number of your events.</li>
<li>Once verification data is written to the log, it never changes.</li>
<li>The &ldquo;look back&rdquo; nodes needed to make each massif self contained are deterministic and are filled in when a new massif is started.</li>
<li>The dynamically sized portions of the format are all computable, but we offer pre-calculated tables for convenience.</li>
<li>
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">Open-source tooling</a> exists in multiple languages for navigating the format.</li>
<li>Given a signed &ldquo;root&rdquo;, all entries in any copies of your log are irrefutably attested by DataTrails.</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Merkle Mountain Ranges have seen extensive use in systems that need long term tamper evident storage, notably 
<a href="https://zips.z.cash/zip-0221" target="_blank" rel="noopener">zcash</a>, 
<a href="https://github.com/mimblewimble/grin/blob/master/doc/mmr.md" target="_blank" rel="noopener">mimblewimble</a>, and 
<a href="https://zips.z.cash/zip-0221#additional-reading" target="_blank" rel="noopener">many others</a>.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>The <code>idtimestamp</code> value is 64 bits, of which the first 40 bits are a millisecond precision time value and the remainder is data used to guarantee uniqueness of the timestamp.
DataTrails uses a variant of the 
<a href="https://en.wikipedia.org/wiki/Snowflake_ID" target="_blank" rel="noopener">Snowflake ID</a> scheme.
The DataTrails implementation can be found at 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/massifs/snowflakeid/nextid.go#L118" target="_blank" rel="noopener">nextid.go</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Such a path of hashes is commonly referred to as a &ldquo;proof&rdquo;, a &ldquo;witness&rdquo;, and an &ldquo;authentication path&rdquo;.
A Merkle Tree is sometimes referred to as authenticated data structures or a verifiable data structure. For the purposes of this article, there is no meaningful difference. They are all the same thing. We stick to &ldquo;verification&rdquo; and &ldquo;verifiable data structure&rdquo; in this article.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
`}).add({id:17,href:"https://docs.datatrails.ai/platform/administration/identity-and-access-management/",title:"Identity and Access Management",description:"DataTrails IAM Concepts",content:`<h2 id="tenancies-and-accounts">Tenancies and Accounts</h2>
<p>Each DataTrails Tenancy represents an organization, and each DataTrails account represents an individual user.
There may be multiple accounts within a Tenancy if there are several members within an organization.
Additionally, an individual user can be part of multiple Tenancies.</p>
<h3 id="how-do-i-add-users-to-my-organization">How do I add users to my organization?</h3>
<p>DataTrails Invites make it easy to add users to your tenancy.</p>
<p>As an 
<a href="/platform/overview/core-concepts/#tenancies">administrator</a>, create an invite and send it to the email address of the user you wish to add.</p>
<p>When the invitee signs up for their DataTrails account using the invited email address, they will be automatically added to your Tenancy.</p>
<ul class="nav nav-tabs" id="invite_user_iam" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#invite_user_iam-0" type="button" role="tab" aria-controls="invite_user_iam-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#invite_user_iam-1" type="button" role="tab" aria-controls="invite_user_iam-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#invite_user_iam-2" type="button" role="tab" aria-controls="invite_user_iam-2" aria-selected="false">CURL</button>
		</li></ul>
<div class="tab-content" id="invite_user_iam"><div id="invite_user_iam-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="invite_user_iam-0">
<p>On the Sidebar, select <code>Settings</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#Settings" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Select 'Settings'</em></figcaption>
</figure>
<div class="modal fade" id="Settings" tabindex="-1" aria-labelledby="Settings" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w&quot; width=&quot;1154&quot; height=&quot;671&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Choose the <code>USERS</code> tab, then click <code>INVITE NEW USER</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#InviteButton" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/InviteButton.png" width="1222" height="486" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/InviteButton.png" width="1222" height="486" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Invite New User</em></figcaption>
</figure>
<div class="modal fade" id="InviteButton" tabindex="-1" aria-labelledby="InviteButton" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteButton_hua0b9200ab56e4aee4f0c8f4cd90c6590_58067_200x0_resize_box_3.png 200w&quot; width=&quot;1222&quot; height=&quot;486&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Fill in the desired email and custom message. To finish, select <code>SEND INVITE</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#InviteForm" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/InviteForm.png" width="491" height="411" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/InviteForm.png" width="491" height="411" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Enter Desired Details</em></figcaption>
</figure>
<div class="modal fade" id="InviteForm" tabindex="-1" aria-labelledby="InviteForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/InviteForm_hu1bacf79d8c1562baddde1051eb753b37_22492_200x0_resize_box_3.png 200w&quot; width=&quot;491&quot; height=&quot;411&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="invite_user_iam-1" class="tab-pane fade" role="tabpanel" aria-labelledby="invite_user_iam-1">
This action is not yet available in the YAML Runner. Check out our UI or curl command options!</div>
  <div id="invite_user_iam-2" class="tab-pane fade" role="tabpanel" aria-labelledby="invite_user_iam-2">
<p>Fill in your desired details and run the command to send the invite.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s1">&#39;{&#34;message&#34;: &#34;Join my DataTrails tenancy!&#34;, &#34;email&#34;: &#34;user@datatrails.ai&#34;}&#39;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/invites&#34;</span>
</span></span></code></pre></div><p>See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
</div></div>

<h3 id="can-i-name-my-tenancy">Can I name my tenancy?</h3>
<h4 id="tenant-display-name">Tenant Display Name</h4>
<p>There are two ways to name your DataTrails Tenancy. The first way is to add a <code>Tenant Display Name</code>. This name will be displayed only within your own Tenancy, and will not be visible to outside organizations. The display name makes it easy to identify which Tenancy you&rsquo;re currently working in and to switch between Tenancies if you are part of multiple Tenancies.</p>
<p>To set your <code>Tenant Display Name</code>:</p>
<ol>
<li>On the Sidebar, select <code>Settings</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#Settings" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/Settings.png" width="1154" height="671" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Select 'Settings'</em></figcaption>
</figure>





<div class="modal fade" id="Settings" tabindex="-1" aria-labelledby="Settings" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/Settings_hub5ed38e4a4c3a548e6115fc9ec820863_105350_200x0_resize_box_3.png 200w" width="1154" height="671" alt="Rectangle">
      </div>
  
  </div>
</div></li>
<li>Add your desired name, then click <code>CHANGE DISPLAY NAME</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#TenantDisplay" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/TenantDisplay.png" width="865" height="253" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/TenantDisplay.png" width="865" height="253" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Change Display Name</em></figcaption>
</figure>





<div class="modal fade" id="TenantDisplay" tabindex="-1" aria-labelledby="TenantDisplay" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/TenantDisplay_hu07beaced99e0d068f1eef81fc01b2cb2_27161_200x0_resize_box_3.png 200w" width="865" height="253" alt="Rectangle">
      </div>
  
  </div>
</div></li>
</ol>
<h4 id="verified-domain">Verified Domain</h4>
<p>The second way to set your tenancy name is to 
<a href="/platform/administration/verified-domain/">get your domain verified</a> by the DataTrails team. Your verified domain name will be visible to the people you share information with and will be publicly available if you create a Public Asset.</p>
<h2 id="enterprise-single-sign-on">Enterprise Single Sign-On</h2>
<p>
<a href="https://www.datatrails.ai/pricing/" target="_blank" rel="noopener">Enterprise customers</a> may use their preferred Identity Provider (IDP) to sign-on to DataTrails. Before doing so, you must have a 
<a href="/platform/administration/verified-domain/">Verified Domain</a>.</p>
<ol>
<li>
<p>Navigate to <code>Settings</code> on the sidebar and select <code>Tenancy</code>.<br>
Enter your SSO configuration, then select <code>SAVE ENTERPRISE SSO CONFIG</code>. Saving your configuration may take a moment.

  
  <figure class="border-0">
    
    <input type="image" data-bs-toggle="modal" data-bs-target="#ESSOForm" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/ESSOForm.png" width="981" height="433" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" alt="Rectangle">
    <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/ESSOForm.png" width="981" height="433" alt="Rectangle"></noscript>
    <figcaption class="figure-caption"><em>Configure SSO</em></figcaption>
  </figure>
  
  
  
  
  
  <div class="modal fade" id="ESSOForm" tabindex="-1" aria-labelledby="ESSOForm" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      
        <div class="modal-body">
          
          <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/ESSOForm_hu157c28c5401e40c91f80a69893659026_28293_200x0_resize_box_3.png 200w" width="981" height="433" alt="Rectangle">
        </div>
    
    </div>
  </div>
<blockquote class="note callout">
    <div><strong></strong> <p><strong>NOTE:</strong> To retrieve the necessary data for the configuration form, your IDP must be configured to be compatible with DataTrails. Enter the information below.</p>
<p><strong>Login URI:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">https://app.datatrails.ai/login
</span></span></span></code></pre></div><p><strong>Callback URL:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">https://b2carchivistprod3.b2clogin.com/b2carchivistprod3.onmicrosoft.com/oauth2/authresp
</span></span></span></code></pre></div></div>
  </blockquote></p>
</li>
<li>
<p>Now that your details are saved, return to the DataTrails sign-in screen. Select the <code>Single Sign-On</code> option


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#SSOLogInButton" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/SSOLogInButton.png" width="755" height="830" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" src="/platform/administration/identity-and-access-management/SSOLogInButton.png" width="755" height="830" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Single Sign-On</em></figcaption>
</figure>





<div class="modal fade" id="SSOLogInButton" tabindex="-1" aria-labelledby="SSOLogInButton" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/SSOLogInButton_huc0937240373718a67cc9629ee0ea2a56_51101_500x0_resize_box_3.png 500w" width="755" height="830" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Enter your 
<a href="/platform/overview/identity-and-access-management/#verified-domain">Verified Domain Name</a>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DomainName" img class="img-fluid responsive" src="/platform/administration/identity-and-access-management/DomainName.png" width="558" height="443" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" src="/platform/administration/identity-and-access-management/DomainName.png" width="558" height="443" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="DomainName" tabindex="-1" aria-labelledby="DomainName" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/identity-and-access-management/DomainName_hud71ad043a6e8abe6efacf84a589e9993_23170_200x0_resize_box_3.png 200w" width="558" height="443" alt="Rectangle">
      </div>
  
  </div>
</div>
You will be sent to the identity provider you configured earlier to log-in, then redirected back to DataTrails.</p>
</li>
</ol>
`}).add({id:18,href:"https://docs.datatrails.ai/developers/developer-patterns/massif-blob-offset-tables/",title:"Massif blob pre-calculated offsets",description:"Provides pre calculated tables for navigating raw Merkle logs",content:`<p>This page provides lookup tables for navigating the dynamic, but computable, offsets into the Merkle log binary format.
The algorithms to reproduce this are relatively simple.
DataTrails provides 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">open-source implementations</a>, but in many contexts it is simpler to use these pre-calculations.
These tables can be made for any log configuration at any time, in part or in whole, without access to any specific log.</p>
<p>This is a quick review of the log format.
We explain this in more detail at 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a></p>
<h2 id="each-log-is-comprised-of-many-blobs-each-containing-a-fixed-number-of-leaves">Each Log Is Comprised of Many Blobs, Each Containing a Fixed Number of Leaves</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    +----------+ +----------+ .. +----------+
</span></span><span class="line"><span class="cl">    | massif 0 | | massif 1 |    | massif n
</span></span><span class="line"><span class="cl">    +----------+ +----------+ .. +----------+
</span></span></code></pre></div><p>New leaves are added to the last blob in the log.</p>
<h2 id="each-individual-blob-has-a-fixed-size-portion-and-two-variably-sized-sections">Each Individual Blob Has a Fixed Size Portion and Two Variably Sized Sections</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span><span class="line"><span class="cl">    |  fixed  size      | computable size    |
</span></span><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span><span class="line"><span class="cl">    | header | trieData |peak stack| mmrData |
</span></span><span class="line"><span class="cl">    |--------.----------.----------.---------|
</span></span></code></pre></div><h2 id="the-peak-stack-and-mmr-data-sizes-are-computable">The Peak Stack and MMR Data Sizes Are Computable</h2>
<p>&hellip;but it is not always convenient to do so.</p>
<p>Using <code>veracity</code>, the following command line can reproduce a canonical &ldquo;illustrative&rdquo; log from 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --height <span class="m">2</span> massifs --count <span class="m">6</span>
</span></span></code></pre></div><p>generates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">                       14
</span></span><span class="line"><span class="cl">                          \\
</span></span><span class="line"><span class="cl">                6           13             21
</span></span><span class="line"><span class="cl">                  \\            \\              \\
</span></span><span class="line"><span class="cl">    h=2 1 |  2  |  5  |   9  |  12   |  17   | 20  |
</span></span><span class="line"><span class="cl">          |     |     |      |       |       |     |
</span></span><span class="line"><span class="cl">        0 |0   1| 3  4| 7   8|10   11|15   16|18 19| MMR INDICES
</span></span><span class="line"><span class="cl">        0 |0   1| 2  3| 4   5|6     7|8     9|10 11| LEAF INDICES
</span></span></code></pre></div><p>The following table <em>Stack Start</em> and <em>mmr Start</em> are byte offsets from the start of the file.
<em>Stack Start</em> is the end of the fixed header information, the relevant parts of which are described in 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a>.</p>
<p>The leaf values are indices into the trie fields (not considered further in this page) and the node values are indices into the array of 32-byte nodes starting at <em>mmr Start</em></p>
<table>
<thead>
<tr>
<th>Massif</th>
<th>Stack Start</th>
<th>mmr Start</th>
<th>First leaf</th>
<th>Last Leaf</th>
<th>First Node</th>
<th>Last Node</th>
<th>Peak Stack</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>544</td>
<td>544</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>[]</td>
</tr>
<tr>
<td>1</td>
<td>544</td>
<td>576</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>6</td>
<td>[2]</td>
</tr>
<tr>
<td>2</td>
<td>544</td>
<td>576</td>
<td>4</td>
<td>5</td>
<td>7</td>
<td>9</td>
<td>[6]</td>
</tr>
<tr>
<td>3</td>
<td>544</td>
<td>608</td>
<td>6</td>
<td>7</td>
<td>10</td>
<td>14</td>
<td>[6,9]</td>
</tr>
<tr>
<td>4</td>
<td>544</td>
<td>576</td>
<td>8</td>
<td>9</td>
<td>15</td>
<td>17</td>
<td>[14]</td>
</tr>
<tr>
<td>5</td>
<td>544</td>
<td>608</td>
<td>10</td>
<td>11</td>
<td>18</td>
<td>21</td>
<td>[14,17]</td>
</tr>
</tbody>
</table>
<p>It is fairly easy to validate the leaves and nodes by hand.
Reproducing the Stack Start needs details from 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a>.</p>
<h2 id="pre-computes-for-your-first-million-events">Pre-computes for Your First Million Events</h2>
<p>DataTrails production logs currently have a massif height of 14, which is results in 8129 leaves, which is $$1^{14-1}$$</p>
<table>
<thead>
<tr>
<th>Massif</th>
<th>Stack Start</th>
<th>mmr Start</th>
<th>First leaf</th>
<th>Last Leaf</th>
<th>First Node</th>
<th>Last Node</th>
<th>Peak Stack</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1048864</td>
<td>1048864</td>
<td>0</td>
<td>8191</td>
<td>0</td>
<td>16382</td>
<td>[]</td>
</tr>
<tr>
<td>1</td>
<td>1048864</td>
<td>1048896</td>
<td>8192</td>
<td>16383</td>
<td>16383</td>
<td>32766</td>
<td>[16382]</td>
</tr>
<tr>
<td>2</td>
<td>1048864</td>
<td>1048896</td>
<td>16384</td>
<td>24575</td>
<td>32767</td>
<td>49149</td>
<td>[32766]</td>
</tr>
<tr>
<td>3</td>
<td>1048864</td>
<td>1048928</td>
<td>24576</td>
<td>32767</td>
<td>49150</td>
<td>65534</td>
<td>[32766,49149]</td>
</tr>
<tr>
<td>4</td>
<td>1048864</td>
<td>1048896</td>
<td>32768</td>
<td>40959</td>
<td>65535</td>
<td>81917</td>
<td>[65534]</td>
</tr>
<tr>
<td>5</td>
<td>1048864</td>
<td>1048928</td>
<td>40960</td>
<td>49151</td>
<td>81918</td>
<td>98301</td>
<td>[65534,81917]</td>
</tr>
<tr>
<td>6</td>
<td>1048864</td>
<td>1048928</td>
<td>49152</td>
<td>57343</td>
<td>98302</td>
<td>114684</td>
<td>[65534,98301]</td>
</tr>
<tr>
<td>7</td>
<td>1048864</td>
<td>1048960</td>
<td>57344</td>
<td>65535</td>
<td>114685</td>
<td>131070</td>
<td>[65534,98301,114684]</td>
</tr>
<tr>
<td>8</td>
<td>1048864</td>
<td>1048896</td>
<td>65536</td>
<td>73727</td>
<td>131071</td>
<td>147453</td>
<td>[131070]</td>
</tr>
<tr>
<td>9</td>
<td>1048864</td>
<td>1048928</td>
<td>73728</td>
<td>81919</td>
<td>147454</td>
<td>163837</td>
<td>[131070,147453]</td>
</tr>
<tr>
<td>10</td>
<td>1048864</td>
<td>1048928</td>
<td>81920</td>
<td>90111</td>
<td>163838</td>
<td>180220</td>
<td>[131070,163837]</td>
</tr>
<tr>
<td>11</td>
<td>1048864</td>
<td>1048960</td>
<td>90112</td>
<td>98303</td>
<td>180221</td>
<td>196605</td>
<td>[131070,163837,180220]</td>
</tr>
<tr>
<td>12</td>
<td>1048864</td>
<td>1048928</td>
<td>98304</td>
<td>106495</td>
<td>196606</td>
<td>212988</td>
<td>[131070,196605]</td>
</tr>
<tr>
<td>13</td>
<td>1048864</td>
<td>1048960</td>
<td>106496</td>
<td>114687</td>
<td>212989</td>
<td>229372</td>
<td>[131070,196605,212988]</td>
</tr>
<tr>
<td>14</td>
<td>1048864</td>
<td>1048960</td>
<td>114688</td>
<td>122879</td>
<td>229373</td>
<td>245755</td>
<td>[131070,196605,229372]</td>
</tr>
<tr>
<td>15</td>
<td>1048864</td>
<td>1048992</td>
<td>122880</td>
<td>131071</td>
<td>245756</td>
<td>262142</td>
<td>[131070,196605,229372,245755]</td>
</tr>
<tr>
<td>16</td>
<td>1048864</td>
<td>1048896</td>
<td>131072</td>
<td>139263</td>
<td>262143</td>
<td>278525</td>
<td>[262142]</td>
</tr>
<tr>
<td>17</td>
<td>1048864</td>
<td>1048928</td>
<td>139264</td>
<td>147455</td>
<td>278526</td>
<td>294909</td>
<td>[262142,278525]</td>
</tr>
<tr>
<td>18</td>
<td>1048864</td>
<td>1048928</td>
<td>147456</td>
<td>155647</td>
<td>294910</td>
<td>311292</td>
<td>[262142,294909]</td>
</tr>
<tr>
<td>19</td>
<td>1048864</td>
<td>1048960</td>
<td>155648</td>
<td>163839</td>
<td>311293</td>
<td>327677</td>
<td>[262142,294909,311292]</td>
</tr>
<tr>
<td>20</td>
<td>1048864</td>
<td>1048928</td>
<td>163840</td>
<td>172031</td>
<td>327678</td>
<td>344060</td>
<td>[262142,327677]</td>
</tr>
<tr>
<td>21</td>
<td>1048864</td>
<td>1048960</td>
<td>172032</td>
<td>180223</td>
<td>344061</td>
<td>360444</td>
<td>[262142,327677,344060]</td>
</tr>
<tr>
<td>22</td>
<td>1048864</td>
<td>1048960</td>
<td>180224</td>
<td>188415</td>
<td>360445</td>
<td>376827</td>
<td>[262142,327677,360444]</td>
</tr>
<tr>
<td>23</td>
<td>1048864</td>
<td>1048992</td>
<td>188416</td>
<td>196607</td>
<td>376828</td>
<td>393213</td>
<td>[262142,327677,360444,376827]</td>
</tr>
<tr>
<td>24</td>
<td>1048864</td>
<td>1048928</td>
<td>196608</td>
<td>204799</td>
<td>393214</td>
<td>409596</td>
<td>[262142,393213]</td>
</tr>
<tr>
<td>25</td>
<td>1048864</td>
<td>1048960</td>
<td>204800</td>
<td>212991</td>
<td>409597</td>
<td>425980</td>
<td>[262142,393213,409596]</td>
</tr>
<tr>
<td>26</td>
<td>1048864</td>
<td>1048960</td>
<td>212992</td>
<td>221183</td>
<td>425981</td>
<td>442363</td>
<td>[262142,393213,425980]</td>
</tr>
<tr>
<td>27</td>
<td>1048864</td>
<td>1048992</td>
<td>221184</td>
<td>229375</td>
<td>442364</td>
<td>458748</td>
<td>[262142,393213,425980,442363]</td>
</tr>
<tr>
<td>28</td>
<td>1048864</td>
<td>1048960</td>
<td>229376</td>
<td>237567</td>
<td>458749</td>
<td>475131</td>
<td>[262142,393213,458748]</td>
</tr>
<tr>
<td>29</td>
<td>1048864</td>
<td>1048992</td>
<td>237568</td>
<td>245759</td>
<td>475132</td>
<td>491515</td>
<td>[262142,393213,458748,475131]</td>
</tr>
<tr>
<td>30</td>
<td>1048864</td>
<td>1048992</td>
<td>245760</td>
<td>253951</td>
<td>491516</td>
<td>507898</td>
<td>[262142,393213,458748,491515]</td>
</tr>
<tr>
<td>31</td>
<td>1048864</td>
<td>1049024</td>
<td>253952</td>
<td>262143</td>
<td>507899</td>
<td>524286</td>
<td>[262142,393213,458748,491515,507898]</td>
</tr>
<tr>
<td>32</td>
<td>1048864</td>
<td>1048896</td>
<td>262144</td>
<td>270335</td>
<td>524287</td>
<td>540669</td>
<td>[524286]</td>
</tr>
<tr>
<td>33</td>
<td>1048864</td>
<td>1048928</td>
<td>270336</td>
<td>278527</td>
<td>540670</td>
<td>557053</td>
<td>[524286,540669]</td>
</tr>
<tr>
<td>34</td>
<td>1048864</td>
<td>1048928</td>
<td>278528</td>
<td>286719</td>
<td>557054</td>
<td>573436</td>
<td>[524286,557053]</td>
</tr>
<tr>
<td>35</td>
<td>1048864</td>
<td>1048960</td>
<td>286720</td>
<td>294911</td>
<td>573437</td>
<td>589821</td>
<td>[524286,557053,573436]</td>
</tr>
<tr>
<td>36</td>
<td>1048864</td>
<td>1048928</td>
<td>294912</td>
<td>303103</td>
<td>589822</td>
<td>606204</td>
<td>[524286,589821]</td>
</tr>
<tr>
<td>37</td>
<td>1048864</td>
<td>1048960</td>
<td>303104</td>
<td>311295</td>
<td>606205</td>
<td>622588</td>
<td>[524286,589821,606204]</td>
</tr>
<tr>
<td>38</td>
<td>1048864</td>
<td>1048960</td>
<td>311296</td>
<td>319487</td>
<td>622589</td>
<td>638971</td>
<td>[524286,589821,622588]</td>
</tr>
<tr>
<td>39</td>
<td>1048864</td>
<td>1048992</td>
<td>319488</td>
<td>327679</td>
<td>638972</td>
<td>655357</td>
<td>[524286,589821,622588,638971]</td>
</tr>
<tr>
<td>40</td>
<td>1048864</td>
<td>1048928</td>
<td>327680</td>
<td>335871</td>
<td>655358</td>
<td>671740</td>
<td>[524286,655357]</td>
</tr>
<tr>
<td>41</td>
<td>1048864</td>
<td>1048960</td>
<td>335872</td>
<td>344063</td>
<td>671741</td>
<td>688124</td>
<td>[524286,655357,671740]</td>
</tr>
<tr>
<td>42</td>
<td>1048864</td>
<td>1048960</td>
<td>344064</td>
<td>352255</td>
<td>688125</td>
<td>704507</td>
<td>[524286,655357,688124]</td>
</tr>
<tr>
<td>43</td>
<td>1048864</td>
<td>1048992</td>
<td>352256</td>
<td>360447</td>
<td>704508</td>
<td>720892</td>
<td>[524286,655357,688124,704507]</td>
</tr>
<tr>
<td>44</td>
<td>1048864</td>
<td>1048960</td>
<td>360448</td>
<td>368639</td>
<td>720893</td>
<td>737275</td>
<td>[524286,655357,720892]</td>
</tr>
<tr>
<td>45</td>
<td>1048864</td>
<td>1048992</td>
<td>368640</td>
<td>376831</td>
<td>737276</td>
<td>753659</td>
<td>[524286,655357,720892,737275]</td>
</tr>
<tr>
<td>46</td>
<td>1048864</td>
<td>1048992</td>
<td>376832</td>
<td>385023</td>
<td>753660</td>
<td>770042</td>
<td>[524286,655357,720892,753659]</td>
</tr>
<tr>
<td>47</td>
<td>1048864</td>
<td>1049024</td>
<td>385024</td>
<td>393215</td>
<td>770043</td>
<td>786429</td>
<td>[524286,655357,720892,753659,770042]</td>
</tr>
<tr>
<td>48</td>
<td>1048864</td>
<td>1048928</td>
<td>393216</td>
<td>401407</td>
<td>786430</td>
<td>802812</td>
<td>[524286,786429]</td>
</tr>
<tr>
<td>49</td>
<td>1048864</td>
<td>1048960</td>
<td>401408</td>
<td>409599</td>
<td>802813</td>
<td>819196</td>
<td>[524286,786429,802812]</td>
</tr>
<tr>
<td>50</td>
<td>1048864</td>
<td>1048960</td>
<td>409600</td>
<td>417791</td>
<td>819197</td>
<td>835579</td>
<td>[524286,786429,819196]</td>
</tr>
<tr>
<td>51</td>
<td>1048864</td>
<td>1048992</td>
<td>417792</td>
<td>425983</td>
<td>835580</td>
<td>851964</td>
<td>[524286,786429,819196,835579]</td>
</tr>
<tr>
<td>52</td>
<td>1048864</td>
<td>1048960</td>
<td>425984</td>
<td>434175</td>
<td>851965</td>
<td>868347</td>
<td>[524286,786429,851964]</td>
</tr>
<tr>
<td>53</td>
<td>1048864</td>
<td>1048992</td>
<td>434176</td>
<td>442367</td>
<td>868348</td>
<td>884731</td>
<td>[524286,786429,851964,868347]</td>
</tr>
<tr>
<td>54</td>
<td>1048864</td>
<td>1048992</td>
<td>442368</td>
<td>450559</td>
<td>884732</td>
<td>901114</td>
<td>[524286,786429,851964,884731]</td>
</tr>
<tr>
<td>55</td>
<td>1048864</td>
<td>1049024</td>
<td>450560</td>
<td>458751</td>
<td>901115</td>
<td>917500</td>
<td>[524286,786429,851964,884731,901114]</td>
</tr>
<tr>
<td>56</td>
<td>1048864</td>
<td>1048960</td>
<td>458752</td>
<td>466943</td>
<td>917501</td>
<td>933883</td>
<td>[524286,786429,917500]</td>
</tr>
<tr>
<td>57</td>
<td>1048864</td>
<td>1048992</td>
<td>466944</td>
<td>475135</td>
<td>933884</td>
<td>950267</td>
<td>[524286,786429,917500,933883]</td>
</tr>
<tr>
<td>58</td>
<td>1048864</td>
<td>1048992</td>
<td>475136</td>
<td>483327</td>
<td>950268</td>
<td>966650</td>
<td>[524286,786429,917500,950267]</td>
</tr>
<tr>
<td>59</td>
<td>1048864</td>
<td>1049024</td>
<td>483328</td>
<td>491519</td>
<td>966651</td>
<td>983035</td>
<td>[524286,786429,917500,950267,966650]</td>
</tr>
<tr>
<td>60</td>
<td>1048864</td>
<td>1048992</td>
<td>491520</td>
<td>499711</td>
<td>983036</td>
<td>999418</td>
<td>[524286,786429,917500,983035]</td>
</tr>
<tr>
<td>61</td>
<td>1048864</td>
<td>1049024</td>
<td>499712</td>
<td>507903</td>
<td>999419</td>
<td>1015802</td>
<td>[524286,786429,917500,983035,999418]</td>
</tr>
</tbody>
</table>
<h2 id="the-algorithms-backing-the-table-generation">The Algorithms Backing the Table Generation</h2>
<p>In combination with the format information at 
<a href="/developers/developer-patterns/navigating-merklelogs">Navigating the Merkle Log</a> the pre-computed tables above can be generated using these examples using the DataTrails open source, go-lang based 
<a href="https://github.com/datatrails/veracity/" target="_blank" rel="noopener">veracity</a> tooling.</p>
<ul class="nav nav-tabs" id="convert-idtimestamp" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#convert-idtimestamp-0" type="button" role="tab" aria-controls="convert-idtimestamp-0" aria-selected="true">Leaf Count and Massif Index</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#convert-idtimestamp-1" type="button" role="tab" aria-controls="convert-idtimestamp-1" aria-selected="false">mmrIndex from leafIndex</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#convert-idtimestamp-2" type="button" role="tab" aria-controls="convert-idtimestamp-2" aria-selected="false">Peak Stack Length</button>
		</li></ul>
<div class="tab-content" id="convert-idtimestamp"><div id="convert-idtimestamp-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="convert-idtimestamp-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">massifIndex</span><span class="p">(</span><span class="nx">mmrIndex</span><span class="p">,</span> <span class="nx">massifHeight</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">nl</span> <span class="o">=</span>  <span class="nb">Number</span><span class="p">(</span><span class="nx">leafCount</span><span class="p">(</span><span class="nx">mmrIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="nx">n</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="nx">massifHeight</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">massifIndex</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">nl</span> <span class="o">/</span> <span class="nx">f</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">massifIndex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// returns the number of leaves in the largest mmr whose size is &lt;= the supplied size
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">leafCount</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">==</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="k">return</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">peakSize</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="mi">64</span><span class="nx">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">clz64</span><span class="p">(</span><span class="nx">mmrSize</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">peakMap</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(;</span> <span class="nx">peakSize</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">peakMap</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="nx">n</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&gt;=</span> <span class="nx">peakSize</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">pos</span> <span class="o">-=</span> <span class="nx">peakSize</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">peakMap</span> <span class="o">|=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">peakSize</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">peakMap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">clz64</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">typeof</span> <span class="nx">num</span> <span class="o">===</span> <span class="s1">&#39;bigint&#39;</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="sb">\`num must be bigint not </span><span class="si">\${</span><span class="k">typeof</span> <span class="nx">num</span><span class="si">}</span><span class="sb">\`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">num</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">.</span><span class="nx">asUintN</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="nx">num</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">hi</span> <span class="o">=</span> <span class="nx">num</span> <span class="o">&gt;&gt;</span> <span class="mi">32</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">lz</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">clz32</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">hi</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">lz</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nx">lz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">lo</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">((</span><span class="nx">num</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="nx">n</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">32</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">clz32</span><span class="p">(</span><span class="nx">lo</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div>
  <div id="convert-idtimestamp-1" class="tab-pane fade" role="tabpanel" aria-labelledby="convert-idtimestamp-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">treeIndex</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span> <span class="c1">// Assuming iLeaf can be very large, use BigInt for accuracy.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">);</span> <span class="c1">// Ensure iLeaf is treated as BigInt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">log2Uint64</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">spurSumHeight</span><span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="o">+</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">half</span> <span class="o">=</span> <span class="mi">1</span><span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="mi">1</span><span class="nx">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">i</span> <span class="o">-=</span> <span class="nx">half</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// spurSumHeight counts the interior &#39;spur&#39; nodes required for the given height
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">spurSumHeight</span><span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">height</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span> <span class="c1">// Ensure height is treated as BigInt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">height</span> <span class="o">===</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">height</span> <span class="o">-</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nx">i</span><span class="p">))</span> <span class="o">*</span> <span class="nx">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">log2Uint64</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">num</span> <span class="o">===</span> <span class="s1">&#39;bigint&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span> <span class="c1">// log2(1) = 0 and log2(0) is undefined, handled as 0 for simplicity
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kd">let</span> <span class="nx">log</span> <span class="o">=</span> <span class="mi">0</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">while</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">num</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">log</span> <span class="o">+=</span> <span class="mi">1</span><span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">log</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Similarly, handle log2(1) = 0 and log2(0) as 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log2</span><span class="p">(</span><span class="nx">num</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div>
  <div id="convert-idtimestamp-2" class="tab-pane fade" role="tabpanel" aria-labelledby="convert-idtimestamp-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="cm">/** Calculate the size of a massifs peak stack by passing the massifIndex in place of iLeaf */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">leafMinusSpurSum</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="nx">iLeaf</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">iLeaf</span> <span class="o">=</span> <span class="nx">sum</span> <span class="o">&gt;&gt;</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">while</span> <span class="p">(</span><span class="nx">iLeaf</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">-=</span> <span class="nx">iLeaf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">iLeaf</span> <span class="o">&gt;&gt;=</span> <span class="nx">BigInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">sum</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>

`}).add({id:19,href:"https://docs.datatrails.ai/platform/administration/verified-domain/",title:"Verified Domain",description:"Domain Verification and Why It's Important",content:`<h2 id="what-is-domain-verification">What is domain verification?</h2>
<p>Domain verification assures that actors claiming to be part of an organization are authorized to share information on their behalf. If an organization&rsquo;s Tenancy has been verified by the DataTrails team, a badge indicating that they have been verified will appear next to their domain name.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#Badge" img class="img-fluid responsive" src="/platform/administration/verified-domain/Badge.png" width="249" height="63" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/Badge.png" width="249" height="63" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Verified Domain Badge</em></figcaption>
</figure>





<div class="modal fade" id="Badge" tabindex="-1" aria-labelledby="Badge" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/Badge_hue46fa1e8fef926ec35dfcb3c2a2a06e0_5717_200x0_resize_box_3.png 200w" width="249" height="63" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Having a verified domain is different from a 
<a href="/platform/administration/identity-and-access-management/#tenant-display-name"><code>Tenant Display Name</code></a>. Tenant display names are internal, appearing only within your own Tenancy, and are not visible to anyone you share with. A verified domain name must be set by the DataTrails team, and will be visible to actors outside your Tenancy.</div>
  </blockquote></p>
<h2 id="why-is-it-important-to-verify-my-organizations-domain">Why is it important to verify my organization&rsquo;s domain?</h2>
<p>Getting your organization&rsquo;s domain verified indicates that you are who you say you are. This helps close the trust gap inherent to information sharing between organizations or with the public.</p>
<p>Without domain verification, the <code>Organization</code> is noted as the publisher&rsquo;s Tenant ID. Verifying your domain not only shows that this information comes from a legitimate actor on behalf of the organization, but also replaces the Tenant ID with your domain name so consumers can more easily identify the publishing organization. For example, someone attesting information on behalf of DataTrails would have <code>datatrails.ai</code>.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#UnverifiedDomain" img class="img-fluid responsive" src="/platform/administration/verified-domain/UnverifiedDomain.png" width="1434" height="800" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/UnverifiedDomain.png" width="1434" height="800" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization without Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="UnverifiedDomain" tabindex="-1" aria-labelledby="UnverifiedDomain" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/UnverifiedDomain_hua70620de52d1103bc6d130326e108d0b_308584_200x0_resize_box_3.png 200w" width="1434" height="800" alt="Rectangle">
      </div>
  
  </div>
</div>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DomainBadge" img class="img-fluid responsive" src="/platform/administration/verified-domain/DomainBadge.png" width="1433" height="804" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/DomainBadge.png" width="1433" height="804" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization with Verified Domain</em></figcaption>
</figure>





<div class="modal fade" id="DomainBadge" tabindex="-1" aria-labelledby="DomainBadge" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/DomainBadge_hu380a34985256a6de88cfe692d3711eae_306940_200x0_resize_box_3.png 200w" width="1433" height="804" alt="Rectangle">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You do not see the badge if you are logged into DataTrails.</div>
  </blockquote>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#OwnerView" img class="img-fluid responsive" src="/platform/administration/verified-domain/OwnerView.png" width="1174" height="787" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" src="/platform/administration/verified-domain/OwnerView.png" width="1174" height="787" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Organization seen when logged in</em></figcaption>
</figure>





<div class="modal fade" id="OwnerView" tabindex="-1" aria-labelledby="OwnerView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/verified-domain/OwnerView_hud05ebff61a4965958ffd2feb790662ed_307245_200x0_resize_box_3.png 200w" width="1174" height="787" alt="Rectangle">
      </div>
  
  </div>
</div>
<h2 id="how-can-i-get-my-organizations-domain-verified">How can I get my organization&rsquo;s domain verified?</h2>
<p>The DataTrails team is happy to help you obtain your verified domain badge. Please contact support@datatrails.ai from an email address which includes the domain you wish to verify. For example, email us from @datatrails.ai to verify the datatrails.ai domain. We will send you a confirmation email to make sure that the details are correct.</p>
<p>In order to protect our user community, it is important for us to verify that the person making the request is authorized to do so by the owner of the domain. We will carry out some internal checks based on the information that we have been given and we may request further evidence from you to prove that you own or control the domain in question. Typically, this will be in the form of public company information or domain registration records. Please be prepared to share this evidence with us.</p>
<h2 id="checking-the-verified-domain-of-an-external-organization">Checking the Verified Domain of an External Organization</h2>
<p>If an organization has a verified domain with DataTrails, it will be displayed when you view a Public Asset they have published. You may also retrieve this information via the API if you know the organization&rsquo;s Tenant ID.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v1/tenancies/<span class="o">{</span>uuid<span class="o">}</span>:publicinfo
</span></span></code></pre></div>`}).add({id:20,href:"https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/",title:"Managing Internal Access to Your Tenant",description:"Sharing Access to Audit Trails within your Tenant",content:`<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> You will only have access to the <code>Access Policies</code> screen if you are an Administrator in your organization.</div>
  </blockquote>
<p>Attribute-Based Access Control (ABAC) policies can be used to control access to Assets, their attributes, and Events within a single organization.</p>
<p>Specifically, ABAC policies are created by Administrators to share information with Non-Administrators in the same Tenancy.</p>
<p>ABAC policies can be granular, with users only allowed to see single attributes at a time.</p>
<p>It is possible to control policies based on types of Assets, their location, and whether Users can read or write any information in an Asset.</p>
<p>By default, no Non-Administrators will see any existing Assets and Events unless an Administrator explicitly creates an ABAC policy to allow it.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To create an ABAC policy, first 
<a href="/platform/administration/identity-and-access-management/#how-do-i-add-users-to-my-organization">add users to your tenancy</a>.</div>
  </blockquote>
<h2 id="creating-an-abac-policy">Creating an ABAC Policy</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
Consider the Shipping Container Asset we created. There may be many people within an organization who need access to specific attributes of the container.</p>
<p>We shall create a policy for someone who needs to share some standard dimensions of the Shipping Container, inspect the cargo, and create <code>Inspect</code> Events.</p>
<ol>
<li>
<p>You may wish to view your existing policies before creating a new one.
<ul class="nav nav-tabs" id="existing_policies_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#existing_policies_abac-0" type="button" role="tab" aria-controls="existing_policies_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#existing_policies_abac-1" type="button" role="tab" aria-controls="existing_policies_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="existing_policies_abac"><div id="existing_policies_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="existing_policies_abac-0">
<p>Navigate to the <code>Access Policies</code> section on the sidebar of the DataTrails dashboard.
Here you will see any existing policies and can select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyAdd.png" width="1356" height="302" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyAdd.png" width="1356" height="302" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyAdd" tabindex="-1" aria-labelledby="PolicyAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w&quot; width=&quot;1356&quot; height=&quot;302&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="existing_policies_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="existing_policies_abac-1">
<p>You may view your existing policies before creating your new policy by executing the following curl command. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Create your Access Policy.
<ul class="nav nav-tabs" id="access_policies_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#access_policies_abac-0" type="button" role="tab" aria-controls="access_policies_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#access_policies_abac-1" type="button" role="tab" aria-controls="access_policies_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="access_policies_abac"><div id="access_policies_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="access_policies_abac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="access_policies_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="access_policies_abac-1">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Set the asset filters for your policy
<ul class="nav nav-tabs" id="asset_filters_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#asset_filters_abac-0" type="button" role="tab" aria-controls="asset_filters_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#asset_filters_abac-1" type="button" role="tab" aria-controls="asset_filters_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="asset_filters_abac"><div id="asset_filters_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="asset_filters_abac-0">
<p>When adding a policy, you will see this form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyForm.png" width="855" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyForm.png" width="855" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Policy Web Form</em></figcaption>
</figure>
<div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w&quot; width=&quot;855&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here you can apply policy filters to the correct Assets. In this case, we shall apply the policy to any Asset with the type <code>Shipping Container</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACFilter" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter.png" width="850" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter.png" width="850" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Filtering for specific Assets and Locations</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACFilter" tabindex="-1" aria-labelledby="PolicyABACFilter" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w&quot; width=&quot;850&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="asset_filters_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="asset_filters_abac-1">
<p>Filters can use <code>and</code> or <code>or</code> to categorize Assets. You may also use filters on attribute values, such as <code>=</code> and <code>!=</code> for equal and not equal, respectively. These can be used for specific attribute values, or to check if the value exists at all. For example, to filter for Assets not associated with a location, you could use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;attributes.arc_home_location_identity!=*&#34;</span>
</span></span></code></pre></div><p>The <code>*</code> is a wildcard that could represent any value. This will match not only on string values, but list and map values as well.</p>
<p>Following our Shipping Container example, this is how we would set our Asset filters:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.your_custom_attribute=Your Value&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>
<a href="/platform/administration/grouping-assets-by-location/">See here for instructions on finding your location ID.</a></p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> We will not use the custom attribute any further as we build the example.</div>
  </blockquote>
</div></div>
</p>
</li>
<li>
<p>Enter the desired <code>Permissions</code> to set user&rsquo;s Asset and Event attribute access
<ul class="nav nav-tabs" id="permissions_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#permissions_abac-0" type="button" role="tab" aria-controls="permissions_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#permissions_abac-1" type="button" role="tab" aria-controls="permissions_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="permissions_abac"><div id="permissions_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="permissions_abac-0">
<p>We select the <code>Permissions</code> Tab to set Users&rsquo; Asset and Event attribute access policy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm.png" width="683" height="815" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm.png" width="683" height="815" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Default view of Policy Permissions</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACForm" tabindex="-1" aria-labelledby="PolicyABACForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w&quot; width=&quot;683&quot; height=&quot;815&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>In this example, the <code>User</code> actor is identified by email. Type the relevant email address and hit enter; you may also see a dropdown list of users within your tenancy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACUsers" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers.png" width="910" height="187" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers.png" width="910" height="187" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a specific User to a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACUsers" tabindex="-1" aria-labelledby="PolicyABACUsers" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACUsers_hu32ba982a1035d75d389fcd6bd14a9765_13397_200x0_resize_box_3.png 200w&quot; width=&quot;910&quot; height=&quot;187&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="permissions_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="permissions_abac-1">
<p>There are a few ways you may add a <code>User</code> to your Access Policy using JSON. One way is to use the email address associated with their DataTrails account. To do so, add the desired <code>user_attributes</code> to the <code>access_permissions</code> section.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> You may grant access to specific attachments by specifying the corresponding key in the <code>access_permissions</code>.</div>
  </blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;email=user@email.com&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div><p>You may also grant permissions to an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">App Registration</a> within your tenancy. App Registrations are non-root by default; best practice is to use ABAC policies to preserve Principle of Least Privilege.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;subject=&lt;client-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> This is different from adding <code>subjects</code> as a key in your <code>access_permissions</code>, for example, when adding an external Subject ID to an OBAC policy. The user attribute <code>subject</code> refers to the Client ID associated with an App Registration.</div>
  </blockquote>
<p>Additionally, you may set permissions based on the Custom Claims of an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">App Registration</a> using JSON Web Tokens (JWTs). To do so, you must include the prefix <code>jwt_</code> followed by the desired claim as one of the <code>user_attributes</code> in the policy. For example, the key <code>jwt_app_reg_role</code> to match on claim <code>app_reg_role</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;access_permissions&#34;</span><span class="err">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">               <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;jwt_app_reg_role=tracker&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once all relevant details are complete, add the permission group to the policy. You may add multiple permission groups per policy if you wish.<br><br>Here we are restricting Mandy to viewing the <code>Name</code>, <code>Type</code>, <code>Image</code>, <code>length</code> and <code>weight</code> of Shipping Containers currently located at the UK Factory. She cannot modify the container record and she cannot see the full Audit Trail of Events because she only needs to know that the container does not exceed the maximum length and weight.
<ul class="nav nav-tabs" id="complete_policy_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_policy_abac-0" type="button" role="tab" aria-controls="complete_policy_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_policy_abac-1" type="button" role="tab" aria-controls="complete_policy_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_policy_abac"><div id="complete_policy_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_policy_abac-0">
<p>Enter desired permissions and select <code>Add Permission Group</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACPermissions" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions.png" width="904" height="705" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions.png" width="904" height="705" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Permitted Attributes on an Asset</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACPermissions" tabindex="-1" aria-labelledby="PolicyABACPermissions" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACPermissions_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w&quot; width=&quot;904&quot; height=&quot;705&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_policy_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_policy_abac-1">
<p>Add the desired permissions and the desired <code>user_attributes</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;email=mandy@datatrails.ai&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> We have included DataTrails-significant attributes: <code>arc_display_name</code>, <code>arc_display_type</code> and <code>arc_primary_image</code>
<code>arc_*</code> attributes have special significance in DataTrails.<br>
In this case, respectively, allowing visibility to the <code>Name</code>, <code>Type</code>, and <code>Image</code> of the Asset. Other <code>arc_*</code> attributes are also available.</div>
  </blockquote></p>
</li>
<li>
<p>Once complete, finish creating the Access Policy.
<ul class="nav nav-tabs" id="execute_policy_abac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#execute_policy_abac-0" type="button" role="tab" aria-controls="execute_policy_abac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#execute_policy_abac-1" type="button" role="tab" aria-controls="execute_policy_abac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="execute_policy_abac"><div id="execute_policy_abac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="execute_policy_abac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACSubmit" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit.png" width="955" height="306" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit.png" width="955" height="306" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyABACSubmit" tabindex="-1" aria-labelledby="PolicyABACSubmit" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACSubmit_hu69f6c9106ce7df85235cb78cd844c8ab_33954_200x0_resize_box_3.png 200w&quot; width=&quot;955&quot; height=&quot;306&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="execute_policy_abac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="execute_policy_abac-1">
<p>fo
Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Check the Asset is appropriately shared</p>
<p>Mandy should only be allowed to see the Asset&rsquo;s name, type, image, length, and weight attributes.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACMandyView" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView.png" width="1203" height="654" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView.png" width="1203" height="654" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Mandy's view as a Non-Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyABACMandyView" tabindex="-1" aria-labelledby="PolicyABACMandyView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" width="1203" height="654" alt="Rectangle">
      </div>
  
  </div>
</div></p>
<p>For comparison with our Administrator, Jill who can see everything:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyABACJillView" img class="img-fluid responsive" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView.png" width="1209" height="855" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView.png" width="1209" height="855" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Jill's view as a Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyABACJillView" tabindex="-1" aria-labelledby="PolicyABACJillView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-inside-your-tenant/PolicyABACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" width="1209" height="855" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<p>We can see that Mandy can only view the Attributes specified in the policy.</p>
<p>Our Administrator, Jill, can see every detail associated with the Asset.</p>
`}).add({id:21,href:"https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/",title:"Managing External Access to Your Tenant",description:"Sharing Assets With Organization-Based Access Control (OBAC)",content:`<p>Organization-Based Access Control (OBAC) policies allow you, as a tenant administrator, to share access to audit trails from your tenancy with an administrator of another tenant. This permissioned sharing allows you to grant access, whether read/write or read-only, to people outside of your organization.</p>
<p>OBAC policies have a lot in common with Attribute-Based Access Control (ABAC) policies; they apply the same controls with two different classes of actor. Where they differ is that OBAC only allows sharing between Tenant Administrators. The external Administrator must then apply an ABAC policy within their tenancy to give their own organization&rsquo;s Non-Administrators access to your Audit Trails, where appropriate.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To enable sharing of assets with those outside your tenancy, you must be an Administrator in your organization AND have completed an exchange of subject identifiers, as outlined below.</div>
  </blockquote>
<h2 id="adding-external-organizations-to-allow-sharing">Adding External Organizations to Allow Sharing</h2>
<p>In order to share Assets and their details with another organization or Tenancy, we must first import the subject ID of the external organization. The external organization will also need to import your subject ID. The process below shows how to enter an external organization&rsquo;s subject ID and for obtaining your own subject ID.</p>
<h3 id="finding-your-own-id">Finding Your Own ID</h3>
<ol>
<li>
<p>As an Administrator, navigate to <code>Access Policies</code>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>





<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" width="1614" height="367" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Select the Subjects Tab and your Organization&rsquo;s ID will be contained within the <code>Self</code> box.</p>
<p>This string is the one you should share with the Administrator of the other tenancy.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectSelf" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf.png" width="1018" height="234" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf.png" width="1018" height="234" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACSubjectSelf" tabindex="-1" aria-labelledby="PolicyOBACSubjectSelf" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectSelf_hu2f523d33d11c1b6e6e7d1672eb77b983_20575_200x0_resize_box_3.png 200w" width="1018" height="234" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
<h3 id="importing-another-organizations-id">Importing another Organization&rsquo;s ID</h3>
<ol>
<li>
<p>The external organization&rsquo;s Administrator will send you their subject ID. Use this to create a new Subject.
<ul class="nav nav-tabs" id="import_subject_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#import_subject_obac-0" type="button" role="tab" aria-controls="import_subject_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#import_subject_obac-1" type="button" role="tab" aria-controls="import_subject_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="import_subject_obac"><div id="import_subject_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="import_subject_obac-0">
<p>As an Administrator, navigate to <code>Access Policies</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="import_subject_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="import_subject_obac-1">
<p>In order to import a Subject using the base64 string, it will need to be decoded to access the <code>wallet_pub_key</code> and <code>tessera_pub_key</code> used in the next step</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$SUBJECT_STRING</span> <span class="p">|</span> base64 -d
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Select the Subjects Tab and then <code>Import Subject</code>
<ul class="nav nav-tabs" id="import_subject_id_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#import_subject_id_obac-0" type="button" role="tab" aria-controls="import_subject_id_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#import_subject_id_obac-1" type="button" role="tab" aria-controls="import_subject_id_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="import_subject_id_obac"><div id="import_subject_id_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="import_subject_id_obac-0">
<p>Select the Subjects Tab and then <code>Import Subject</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectImport" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport.png" width="1599" height="168" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport.png" width="1599" height="168" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Importing a Subject</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACSubjectImport" tabindex="-1" aria-labelledby="PolicyOBACSubjectImport" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectImport_hue0e0be1bd84596ef60c9ca3ba53d816a_10534_200x0_resize_box_3.png 200w&quot; width=&quot;1599&quot; height=&quot;168&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>You will see a form. Enter the subject ID that was sent by the other organization&rsquo;s Administrator into the <code>Subject String</code> box. The <code>Name</code> box is for you to label the imported organization with a friendly name.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACSubjectAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd.png" width="400" height="318" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd.png" width="400" height="318" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding the Subject</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACSubjectAdd" tabindex="-1" aria-labelledby="PolicyOBACSubjectAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACSubjectAdd_hu2c6abb08cfd2d9c904c43b3820a85b28_11350_200x0_resize_box_3.png 200w&quot; width=&quot;400&quot; height=&quot;318&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="import_subject_id_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="import_subject_id_obac-1">
<p>To add users to the access policy using JSON, you will first need to retrieve their subject IDs using the 
<a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API</a>.</p>
<p>Save the following to a JSON file with your desired subject information</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly Name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Execute the file, which will return the subject identity in the form <code>subjects/&lt;subject-id&gt;</code> to be used in your Access Policy. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The imported subjects will show a grey &ldquo;disconnected&rdquo; icon until both sides have imported the other&rsquo;s Subject ID. This acknowledges that the organizations wish to share with each other. Once both organizations have accepted, the grey disconnected icon will no longer show.</div>
  </blockquote>
<h2 id="creating-an-obac-policy">Creating an OBAC Policy</h2>
<p><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
OBAC creation uses many of the same steps, filters, controls, and forms as ABAC Policies.</p>
<p>It is possible to mix-and-match ABAC and OBAC Permission Groups in the same policy if you so wish.</p>
<ol>
<li>
<p>Create your Access Policy
<ul class="nav nav-tabs" id="access_policies_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#access_policies_obac-0" type="button" role="tab" aria-controls="access_policies_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#access_policies_obac-1" type="button" role="tab" aria-controls="access_policies_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="access_policies_obac"><div id="access_policies_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="access_policies_obac-0">
<p>Navigate to the <code>Access Policies</code> section on the sidebar of the DataTrails dashboard.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyManage" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyManage.png" width="1614" height="367" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing Policies</em></figcaption>
</figure>
<div class="modal fade" id="PolicyManage" tabindex="-1" aria-labelledby="PolicyManage" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyManage_hucb8c0c05d38b01c6e38f6eb2cea9e2f4_47943_200x0_resize_box_3.png 200w&quot; width=&quot;1614&quot; height=&quot;367&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="access_policies_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="access_policies_obac-1">
<p>Create an empty file, in later steps we will add the correct JSON.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>You may wish to view your existing policies before creating a new one
<ul class="nav nav-tabs" id="existing_policies_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#existing_policies_obac-0" type="button" role="tab" aria-controls="existing_policies_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#existing_policies_obac-1" type="button" role="tab" aria-controls="existing_policies_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="existing_policies_obac"><div id="existing_policies_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="existing_policies_obac-0">
<p>Here you will see any existing policies and can select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyAdd" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyAdd.png" width="1356" height="302" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyAdd.png" width="1356" height="302" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyAdd" tabindex="-1" aria-labelledby="PolicyAdd" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyAdd_hub155118ab4b91c9590df63157dfad3b0_23605_200x0_resize_box_3.png 200w&quot; width=&quot;1356&quot; height=&quot;302&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="existing_policies_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="existing_policies_obac-1">
<p>You may view your existing policies before creating your new policy by executing the following curl command. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Set the asset filters for your policy
<ul class="nav nav-tabs" id="asset_filters_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#asset_filters_obac-0" type="button" role="tab" aria-controls="asset_filters_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#asset_filters_obac-1" type="button" role="tab" aria-controls="asset_filters_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="asset_filters_obac"><div id="asset_filters_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="asset_filters_obac-0">
<p>When adding a policy, you will see this form:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyForm.png" width="855" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyForm.png" width="855" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Policy Web Form</em></figcaption>
</figure>
<div class="modal fade" id="PolicyForm" tabindex="-1" aria-labelledby="PolicyForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyForm_hu7f8a50d7d07c195f2b4a7c80f6555d1e_33302_200x0_resize_box_3.png 200w&quot; width=&quot;855&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>Here you can apply policy filters to the correct Assets. In this case, we shall apply the policy to any Asset of the type <code>Shipping Container</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACFilter" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter.png" width="850" height="484" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter.png" width="850" height="484" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Filtering for specific Assets and Locations</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACFilter" tabindex="-1" aria-labelledby="PolicyOBACFilter" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACFilter_hu3b9fa15cfd2e2518690390d8f7214101_39639_200x0_resize_box_3.png 200w&quot; width=&quot;850&quot; height=&quot;484&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="asset_filters_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="asset_filters_obac-1">
<p>Filters can use <code>and</code> or <code>or</code> to categorize assets. You may also use filters on attribute values, such as <code>=</code> and <code>!=</code> for equal and not equal, respectively. These can be used for specific attribute values, or to check if the value exists at all. For example, to filter for Assets not associated with a location, you could use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;attributes.arc_home_location_identity!=*&#34;</span>
</span></span></code></pre></div><p>The <code>*</code> is a wildcard that could represent any value. This will match not only on string values, but list and map values as well.</p>
<p>Following our Shipping Container example, this is how we would set our Asset filters:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>
<a href="/platform/administration/grouping-assets-by-location/">See here for instructions on finding your location ID.</a></p>
</div></div>
</p>
</li>
<li>
<p>Next, enter the desired <code>Permissions</code> to set Users&rsquo; Asset and Event attribute access
<ul class="nav nav-tabs" id="permissions_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#permissions_obac-0" type="button" role="tab" aria-controls="permissions_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#permissions_obac-1" type="button" role="tab" aria-controls="permissions_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="permissions_obac"><div id="permissions_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="permissions_obac-0">
<p>We select the <code>Permissions</code> tab to set users&rsquo; Asset and Event attribute access policy.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACForm" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm.png" width="683" height="815" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm.png" width="683" height="815" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Default view of Policy Permissions</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACForm" tabindex="-1" aria-labelledby="PolicyOBACForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACForm_hu4f59108ecde9025e1f924f370b340530_63498_500x0_resize_box_3.png 500w&quot; width=&quot;683&quot; height=&quot;815&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
<p>In our case, we want the <code>Organization</code> actor, which implies OBAC. Type the friendly name of the organization you wish to share with into the box and there should be a pre-populated drop-down search.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You will need to have imported another Organization&rsquo;s ID before you can specify a policy to share information with that Organization.</div>
  </blockquote>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACUsers" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers.png" width="814" height="164" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers.png" width="814" height="164" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a specific User to a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACUsers" tabindex="-1" aria-labelledby="PolicyOBACUsers" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACUsers_huf4bec298b719c3b097a93d90b951a32b_11733_200x0_resize_box_3.png 200w&quot; width=&quot;814&quot; height=&quot;164&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="permissions_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="permissions_obac-1">
<p>To add an organization to the access policy, you will first need to retrieve their Subject IDs using the 
<a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API</a>.</p>
<p>Save the following to a JSON file with your desired subject information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Execute the file, which will return the subject identity in the form <code>subjects/&lt;subject-id&gt;</code> to be used in your access policy. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once all relevant details are complete, add the permission group to the policy. You may add multiple permission groups per policy if you wish
<ul class="nav nav-tabs" id="complete_policy_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_policy_obac-0" type="button" role="tab" aria-controls="complete_policy_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_policy_obac-1" type="button" role="tab" aria-controls="complete_policy_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_policy_obac"><div id="complete_policy_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_policy_obac-0">
<p>Enter desired permissions and select <code>Add Permission Group</code></p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACPermissionGroup" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup.png" width="904" height="705" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup.png" width="904" height="705" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Permitted Attributes on an Asset</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACPermissionGroup" tabindex="-1" aria-labelledby="PolicyOBACPermissionGroup" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissionGroup_hu753308565002d6eb2dfd18f897ae6654_59800_200x0_resize_box_3.png 200w&quot; width=&quot;904&quot; height=&quot;705&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_policy_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_policy_obac-1">
<p>Add the desired permissions and the Subject ID found in the previous step</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Mandy Inspect Policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Shipping Container&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;weight&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/&lt;subject-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
<br>
<strong>Note</strong> we have included DataTrails-significant attributes: <code>arc_display_name</code>, <code>arc_display_type</code> and arc_primary_image.<br>
<code>arc_*</code> attributes have special significance in DataTrails. In this case, respectively, allowing visibility to the Name and Type of the Asset. Other <code>arc_*</code> attributes are also available.</p>
</li>
<li>
<p>Once complete, finish creating the Access Policy
<ul class="nav nav-tabs" id="finish_policy_obac" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#finish_policy_obac-0" type="button" role="tab" aria-controls="finish_policy_obac-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#finish_policy_obac-1" type="button" role="tab" aria-controls="finish_policy_obac-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="finish_policy_obac"><div id="finish_policy_obac-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="finish_policy_obac-0">
<p>Select <code>Create Policy</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACPermissions2" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2.png" width="920" height="300" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2.png" width="920" height="300" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Policy</em></figcaption>
</figure>
<div class="modal fade" id="PolicyOBACPermissions2" tabindex="-1" aria-labelledby="PolicyOBACPermissions2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACPermissions2_hu18af986908a7938e0eadd50e9f75ceac_31899_200x0_resize_box_3.png 200w&quot; width=&quot;920&quot; height=&quot;300&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="finish_policy_obac-1" class="tab-pane fade" role="tabpanel" aria-labelledby="finish_policy_obac-1">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Once complete, check the Asset is shared appropriately; Mandy should only be able to see the <code>Name</code>, <code>Type</code> and an <code>Image</code> of the container as well as the Asset&rsquo;s custom <code>weight</code> and <code>length</code> attributes.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACMandyView" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView.png" width="1203" height="654" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView.png" width="1203" height="654" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Mandy's view as an Administrator of the External Organization</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACMandyView" tabindex="-1" aria-labelledby="PolicyOBACMandyView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACMandyView_hubfaddd5b579e8499188a91bc0d6d9d02_155732_200x0_resize_box_3.png 200w" width="1203" height="654" alt="Rectangle">
      </div>
  
  </div>
</div>
By comparison, our Administrator, Jill, can see the full details of the Asset:


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#PolicyOBACJillView" img class="img-fluid responsive" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView.png" width="1209" height="855" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView.png" width="1209" height="855" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Jill's view as an Administrator</em></figcaption>
</figure>





<div class="modal fade" id="PolicyOBACJillView" tabindex="-1" aria-labelledby="PolicyOBACJillView" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/PolicyOBACJillView_hud3a5bc81355deaaa6cafc6fef33c399b_166866_200x0_resize_box_3.png 200w" width="1209" height="855" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>If Mandy wishes to share what she can to Non-Administrators within her organization, it is her responsibility to create an ABAC Policy as she would any other Asset she has access to.</p>
<p>There are many possible fine-grained controls and as such ABAC and OBAC Policy Creation is an extensive topic. To find out more, head over to the 
<a href="/developers/api-reference/iam-policies-api/">IAM Policies API Reference</a>.</p>
</li>
</ol>
`}).add({id:22,href:"https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/",title:"Verified Replication of the Datatrails Transparency Logs",description:"Supporting verified replication of DataTrails merkle logs",content:`<h2 id="introduction">Introduction</h2>
<p>Without the measures described in this article, it is still extremely challenging to compromise a transparency solution based on DataTrails.</p>
<p>To do so, the systems of more than just DataTrails need to be compromised in very specific ways.
To illustrate this, consider this typical flow for how <strong>Data</strong> can be used in a transparent and tamper evident way with DataTrails.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-data" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-data.png" width="6749" height="2328" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" alt="Replicated Data">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-data.png" width="6749" height="2328" alt="Replicated Data"></noscript>
  <figcaption class="figure-caption"><em>Replicated Transparency Logs</em></figcaption>
</figure>





<div class="modal fade" id="replicated-data" tabindex="-1" aria-labelledby="replicated-data" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-data_hud8dc02b70fbaff4c5bba1cdaa917d28f_1735747_200x0_resize_box_3.png 200w" width="6749" height="2328" alt="Replicated Data">
      </div>
  
  </div>
</div>
<p>This is already a very robust process. For this process to fail, the following steps must all be accomplished:</p>
<ol>
<li>The source of the Data, which may not be the Owner, must be compromised to substitute the malicious Data.</li>
<li>Owner authentication of the Data, such as adding a signed digest in the metadata, must be compromised.</li>
<li>The DataTrails SaaS database must be compromised.</li>
<li>The DataTrails ledger must be compromised and re-built and re-signed.</li>
</ol>
<p>Executing such an attack successfully would require significant effort and infiltration of both the Data source and DataTrails.
Nonetheless, for use-cases where even this small degree of trust in DataTrails is un-acceptable, the recipes in this article ensure the following guarantees are fully independent of DataTrails:</p>
<ol>
<li><strong>The guarantee of non-falsifiability</strong>: Event data can not be falsified.</li>
<li><strong>The guarantee of non-repudiation</strong>: Event data can not be removed from the record (ie &lsquo;shredded&rsquo; or deleted).</li>
<li><strong>The guarantee of provability</strong>: Event data held <em>here and now</em> can be proven to be identical to the data created <em>there and then</em> (creating these proofs does not require the original event data).</li>
<li><strong>The guarantee of demonstrable completeness</strong>: Series of events (trails), can be proven to be complete with no gaps or omissions.</li>
</ol>
<p>These guarantees are &ldquo;fail safe&rdquo; against regular data corruption of the log data.
In the event of individual log entry corruption, verification checks would fail for that entry.</p>
<p>All modifications to the ledger which result in provable changes can be detected without a fully auditable replica.
By maintaining a fully auditable replica, continued verifiable operation is possible even if DataTrails is prevented from operating.
To provide this capability, checking that all metadata is exactly as was originally recorded, A copy of the metadata must also be replicated.
In cases where this capability is required, data retention remains manageable and has completely predictable storage requirements.
The log format makes it operational very simple to discard data that ceases to be interesting.</p>
<blockquote class="note callout">
    <div><strong></strong> The metadata is returned to the Owner when the event is recorded and is available from the regular API endpoints to any other authorized party.
Obtaining the returned metadata is not covered in this article.</div>
  </blockquote>
<h2 id="replication-recipes">Replication Recipes</h2>
<h2 id="environment-configuration-for-veracity">Environment Configuration for Veracity</h2>
<p>The following recipes make use of these environment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># DataTrails Public Tenant</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PUBLIC_TENANT</span><span class="o">=</span><span class="s2">&#34;tenant/6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Synsation Demo Tenant</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Replace TENANT with your Tenant ID to view your Tenant logs and events</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">TENANT</span><span class="o">=</span><span class="s2">&#34;tenant/6a009b40-eb55-4159-81f0-69024f89f53c&#34;</span>
</span></span></code></pre></div><h2 id="maintaining-a-tamper-evident-log-replica">Maintaining a Tamper Evident Log Replica</h2>
<p>Based on a window of assurance, a replica may be maintained with one command, once a week.</p>
<p>A guarantee that actions are only taken on verified data can be achieved by running the following command once a week:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-1" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-1-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-1-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-1"><div id="tabset-developersdeveloper-patterns3rdparty-verification-1-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-1-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 180h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div><p>Run the following to see what was replicated:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">find merklelogs -type f
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000000.sth
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth
</span></span></code></pre></div></div></div>

<p>A sensible value for <code>--horizon</code> is just a little (hours is more than enough) longer than the interval between updates.
To <em>miss</em> an update for a tenant, more than 16,000 events would need to be recorded in the interval.</p>
<blockquote class="note callout">
    <div><strong></strong> Larger time horizons may trigger rate limiting</div>
  </blockquote>
<h3 id="initializing-a-replica-for-all-tenants">Initializing a Replica for All Tenants</h3>
<p>If a replica of all DataTrails tenants is required, run the previous command with a very long horizon.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-2" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-2-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-2-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-2"><div id="tabset-developersdeveloper-patterns3rdparty-verification-2-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-2-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 90000h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div></div></div>

<p>Having done this once, you should revert to using a horizon that is just a little longer than your update interval.</p>
<h3 id="limiting-the-replica-to-specific-tenants">Limiting the Replica to Specific Tenants</h3>
<p>The previous command will replicate the logs of all tenants.
This requires about 3.5 megabytes per 16,000 events.</p>
<p>To restrict a replica to a specific set of tenants, specify those tenants to the <code>watch</code> command.</p>
<p>A common requirement is the public attestation tenant and your own tenant, to accomplish this set <code>$TENANT</code> accordingly and run the following once a week.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-3" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-3-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-3-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-3"><div id="tabset-developersdeveloper-patterns3rdparty-verification-3-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-3-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --tenant <span class="s2">&#34;</span><span class="nv">$PUBLIC_TENANT</span><span class="s2">,</span><span class="nv">$TENANT</span><span class="s2">&#34;</span> watch --horizon 180h <span class="p">|</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  replicate-logs --replicadir merklelogs
</span></span></code></pre></div></div></div>

<p>To initialize the replica, run the same command once but using an appropriately large <code>--horizon</code></p>
<p>The remainder of this article discusses the commands <code>replicate-logs</code> and <code>watch</code> in more depth, covering how to replicate selective tenants, explaining the significance of the replicated materials.</p>
<h2 id="how-veracity-supports-integrity-and-inclusion-protection">How Veracity Supports Integrity and Inclusion Protection</h2>
<p>DataTrail&rsquo;s log format makes it simple to retain only the portions (massifs) of the log that are interesting.
Discarding un-interesting portions does not affect the independence or verifiability of the retained log.</p>
<p>See 
<a href="/developers/developer-patterns/veracity/">Independently verifying DataTrails transparent merkle logs</a> for a general introduction to <code>veracity</code>.</p>
<p>This diagram illustrates the logical flow when updating a local replica using veracity.</p>
<hr>
<div class="mermaid">
  ---
config:
    theme: classic
---
sequenceDiagram
    actor v as Verifier
    box Runs locally to the verifier
    participant V as Veracity
    participant R as Replica
    end
    participant D as DataTrails

    v -->> V: Safely update my replica to massif X please
    V ->> D: Fetch and verify the remote massifs and seals up to X
    V ->> R: Check the verified remote data is consistent with the replica
    V ->> R: Update the replica with verified additions
    V -->> v: All OK!
</div>

<hr>
<p>For the guarantees of <em>non-falsifiability</em> and <em>non-repudiation</em> to be independent of DataTrails, replication and verification of at least the most recently updated massif is necessary.
The replica must be updated often enough to capture all massifs.
As a massif, in the default tenant configuration, contains over 16,000 events, the frequency necessary to support this guarantee is both low, and completely determined by the specific tenant of interest.</p>
<p>Massifs verifying events that are no longer interesting can be safely discarded.
Remembering that the order that events were recorded matches the order of data in the log, it is usually the case that all massifs before a certain point can be discarded together.</p>
<p>Saving the API response data when events are recoded, or obtaining the metadata using the DataTrails events API is additionally required in order to support a full audit for data corruption.</p>
<p>When a a trusted local copy of the verifiable log is included in the &ldquo;verify before use&rdquo; process, it is reasonable to rely on DataTrails storage of the metadata.
If the DataTrails storage of the metadata is changed, the verification will &ldquo;fail safe&rdquo; against the local replicated log because the changed data will not verify against the local replica.
While this is a &ldquo;false negative&rdquo;, it ensures safety in the face of accidental or malicious damage to the DataTrails storage systems without the burden of maintaining copies of the metadata recorded in DataTrails.
Once the unsafe action is blocked, it is very use-case dependent what the appropriate next steps are. The common thread is that is <em>critical</em> that the action must be blocked in the first instance.</p>
<p>When the metadata is fetched, if it can be verified against the log replica, it proves that the DataTrails storage remains correct.
If it does not verify, it is proven that the metadata held by DataTrails is incorrect, though the <em>Data</em> being processed by the Consumer may still be correct and safe.</p>
<p>The <code>veracity</code> <code>replicate-logs</code> and <code>watch</code> are used to maintain the replica of the verifiable log.</p>
<ul>
<li><code>veracity watch</code> is used to give notice of which tenants have updates to their logs that need to be considered for replication.</li>
<li><code>veracity replicate-logs</code> performs the activities in the diagram above. It can be directed to examine a specific tenant, or it can be provided with the output of <code>veracity watch</code></li>
</ul>
<h3 id="updating-the-currently-open-massif">Updating the Currently Open Massif</h3>
<p>Every DataTrails log is a series of one or more massifs.
The last, called the head, is where verification data for new events are recorded.
Once the head is full, a new head automatically starts.</p>
<p>This means there are 3 basic scenarios <code>veracity</code> copes with when updating a replica.</p>
<ol>
<li>Updating the currently open replicated massif with the new additions in the DataTrails open massif.</li>
<li>Replicating the start of a new open massif from DataTrails.</li>
<li>Replicating a limited number of new massifs from DataTrails, performing local consistency checks only if the replicated massifs follow the latest local massif.</li>
</ol>
<p>The first is the simplest to understand. In the diagram below the dashed boxes correspond to the open massifs.</p>
<p>The local replica of the open massif will always be equal or less in size than the remote.
Once veracity verifies the remote copy is consistent with the remote seal, it will then check the new data copied from the remote is consistent with its local copy of the open massif.
Consistent simply means it is an append, and that the remote has not &ldquo;dropped&rdquo; anything that it contained the last time it was replicated.</p>
<p>If there is any discrepancy in any of these checks, the current local data is left unchanged.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity.png" width="4286" height="2143" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" alt="Replicating with Veracity">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity.png" width="4286" height="2143" alt="Replicating with Veracity"></noscript>
  <figcaption class="figure-caption"><em>Replicating Transparency Logs with Veracity</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity" tabindex="-1" aria-labelledby="replicated-veracity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity_hu0ec4b8cf04f1f64d8e03526eaf7d3627_1899025_200x0_resize_box_3.png 200w" width="4286" height="2143" alt="Replicating with Veracity">
      </div>
  
  </div>
</div>
<h3 id="replicating-the-next-open-massif">Replicating the Next Open Massif</h3>
<p>The local replica starts out only having Massifs 0 &amp; 1.
And 1 happens to be complete.
On the next event recorded by DataTrails, a new remote massif, Massif 2, is created.
More events may be recorded before the replica is updated.
Each massif contains verification data for a little over 16,000 events.
Provided the replication commands are run before Massif 2 is also filled, we are dealing with this case.</p>
<p>The local Massif 1 is read because, before copying the remote Massif 2 into the local replica, its consistency against both the remote seal <em>and</em> the previous <em>local</em> massif, Massif 1, are checked.</p>
<p>Once those checks are successfully made, the local replica gains its initial copy of Massif 2.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity-2" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2.png" width="4286" height="2735" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" alt="Replicating Next Open Massif">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2.png" width="4286" height="2735" alt="Replicating Next Open Massif"></noscript>
  <figcaption class="figure-caption"><em>Replicating The Next Open Massif with Veracity</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity-2" tabindex="-1" aria-labelledby="replicated-veracity-2" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-2_hu627a57ac4dfe17745a2cc64fabadb49e_2377823_200x0_resize_box_3.png 200w" width="4286" height="2735" alt="Replicating Next Open Massif">
      </div>
  
  </div>
</div>
<h3 id="replicating-but-leaving-a-gap">Replicating, but Leaving a Gap</h3>
<p>By default, veracity will fetch and verify all massifs, up to the requested, that follow on immediately after the most recent local massif.
In this case, where we request <code>--massif 4</code> the default would be to fetch, verify and replicate Massifs 2, 3 &amp; 4.</p>
<p>By default, a full tenant log is replicated.
The storage requirements are roughly 4mb per massif, and each massif has the verification data for about 16,000 events.</p>
<p>To provide a means to bound the size of the local replica and also to bound the amount of work, we provide the <code>--ancestors</code> option.
This specifies a fixed limit on the number of massifs that will be fetched.
In this example, the limit is <code>0</code>, meaning massif 4 is fetched and verified, and we leave a <em>gap</em> between the local massifs 2 &amp; the new local massif 4.
The gap means the consistency of the remote massif 4 is <em>not</em> checked against the local replica.</p>
<p>The command <code>veracity replicate-logs --ancestors 0 --massif 4</code> requests that massif 4 is verified and then replicated locally, but prevents it from being verified for consistency against the current local replica.</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#replicated-veracity-gaps" img class="img-fluid responsive" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps.png" width="4286" height="2848" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" alt="Replicating With Gaps">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps.png" width="4286" height="2848" alt="Replicating With Gaps"></noscript>
  <figcaption class="figure-caption"><em>Replicating The With Gaps</em></figcaption>
</figure>





<div class="modal fade" id="replicated-veracity-gaps" tabindex="-1" aria-labelledby="replicated-veracity-gaps" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/developer-patterns/3rdparty-verification/replicated-veracity-gaps_huf5faa485887d84e403246fecae05a9e2_2502040_200x0_resize_box_3.png 200w" width="4286" height="2848" alt="Replicating With Gaps">
      </div>
  
  </div>
</div>
<h2 id="replicating-the-log-for-the-public-tenant">Replicating the Log for the Public Tenant</h2>
<p>For illustration, we take a more detailed look at using <code>watch</code> and <code>replicate-logs</code> to replicate the public tenant verifiable log data.</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-4" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-4-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-4-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-4"><div id="tabset-developersdeveloper-patterns3rdparty-verification-4-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-4-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity --tenant <span class="nv">$PUBLIC_TENANT</span> watch
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;massifindex&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/6ea5cd00-c711-3649-6914-7b125928bbb4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;idcommitted&#34;</span><span class="p">:</span> <span class="s2">&#34;0191c424e62d04b300&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;idconfirmed&#34;</span><span class="p">:</span> <span class="s2">&#34;0191c424e62d04b300&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;lastmodified&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-05T21:43:58Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;massif&#34;</span><span class="p">:</span> <span class="s2">&#34;v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;seal&#34;</span><span class="p">:</span> <span class="s2">&#34;v1/mmrs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>If instead you get:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">error: no changes found
</span></span></code></pre></div><p>There has been no activity in any tenant for the default watch horizon (how far back we look for changes).</p>
<p>To set an explicit, and in this example very large, horizon try the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity watch --horizon 10000h
</span></span></code></pre></div></div></div>

<p>The <code>watch</code> command is used to determine the <code>massifindex</code>, even when you are only interested in a single tenant.
You then provide that index to the <code>replicate-logs</code> command using the <code>--massif</code> option:</p>
<ul class="nav nav-tabs" id="tabset-developersdeveloper-patterns3rdparty-verification-5" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#tabset-developersdeveloper-patterns3rdparty-verification-5-0" type="button" role="tab" aria-controls="tabset-developersdeveloper-patterns3rdparty-verification-5-0" aria-selected="true">bash</button>
		</li>
	  </ul>
<div class="tab-content" id="tabset-developersdeveloper-patterns3rdparty-verification-5"><div id="tabset-developersdeveloper-patterns3rdparty-verification-5-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="tabset-developersdeveloper-patterns3rdparty-verification-5-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">veracity <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --tenant <span class="nv">$PUBLIC_TENANT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    replicate-logs --massif <span class="m">1</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --replicadir merklelogs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">find merklelogs -type f
</span></span></code></pre></div><p>Generates output similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000001.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifs/0000000000000000.log
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000000.sth
</span></span><span class="line"><span class="cl">merklelogs/tenant/6ea5cd00-c711-3649-6914-7b125928bbb4/0/massifseals/0000000000000001.sth
</span></span></code></pre></div></div></div>

<p>By default, all massifs up to and including the massif specified by <code>--massif &lt;N&gt;</code> are verified remotely and checked for consistency against the local replica (following the logical steps in the diagram above).</p>
<p>The numbered <code>.log</code> files are the verifiable data for your log.</p>
<p>The <code>.sth</code> files are 
<a href="https://datatracker.ietf.org/doc/html/rfc8152#section-4.2" target="_blank" rel="noopener">COSE Sign1</a> binary format signed messages.
Each <code>.sth</code> is associated with the identically numbered massif.
The log root material in the <code>.sth</code> signature attests to the entire state of the log up to the end of the associated massif.
The details of consuming the binary format of the seal and verifying the signature are beyond the scope of this article.</p>
<p>However, the implementation used by <code>veracity</code> can be found in the open source merkle log library maintained by DataTrails 
<a href="https://github.com/datatrails/go-datatrails-merklelog/blob/main/massifs/rootsigverify.go" target="_blank" rel="noopener">go-datatrails-merklelog</a></p>
<h2 id="takeaways">Takeaways</h2>
<ul>
<li>To be sure mistaken, or malicious, changes to DataTrails data stores can always be detected run this command about once a week:
<code>veracity  --tenant $TENANT watch --horizon 180h | veracity replicate-logs --replicadir merklelogs</code></li>
<li>This process guarantees you can&rsquo;t be misrepresented, any alternate version of events would be provably false.</li>
<li>To guarantee continued operation even if DataTrails is prevented from operating, a copy of the DataTrails metadata must be retained.</li>
<li>You can reasonably chose to trust DataTrails copy, because, even in the most extreme cases, it is &ldquo;fail-safe&rdquo; if DataTrails SaaS storage is compromised, when combined with a replicated verifiable merkle log.</li>
</ul>
`}).add({id:23,href:"https://docs.datatrails.ai/platform/administration/dropbox-integration/",title:"Dropbox Integration",description:"Integrating with Dropbox",content:`<h2 id="the-dropbox-integration">The Dropbox Integration</h2>
<p>Connecting your DataTrails tenancy to your Dropbox account will allow you to automatically record and maintain the provenance metadata of your files in an immutable Audit Trail.</p>
<p>DataTrails uses transparent and auditable distributed ledger technology to maintain an immutable trail of provenance metadata independent of, but in concert with, the original file in Dropbox.
The original data never enters the DataTrails system and remains on Dropbox.
The provenance metadata that is recorded in the immutable audit trail can be shared and verified globally completely independently of the data itself. This increases the scope for efficient and transparent collaboration without changing the risk profile of the data.</p>
<p>During the set up process you will select which Dropbox folders will be linked to DataTrails. A provenance metatdata record will be created on your DataTrails tenancy for every file found within a linked folder. It will be created as a 
<a href="/developers/developer-patterns/document-profile/">Document Profile Asset</a> which can be verified using 
<a href="/platform/overview/instaproof/">Instaproof</a>.</p>
<p>From then on, each time a new file is created in a linked folder, a corresponding provenance metadata record will be created on DataTrails. Any modifications to a file in a linked folder will be recorded as a 
<a href="/developers/developer-patterns/document-profile/#publish-event">Publish Event</a> in the provenance metadata record for that file.<br>
The result is that the auditable provenance record for your files begins at the moment that you link a folder and that an immutable audit trail for each file automatically grows as the files are modified.</p>
<p>You are free, at any time, to link and unlink a folder at all levels of your folder tree using the instructions at 
<a href="/platform/administration/dropbox-integration/#editing-the-list-of-linked-folders">Editing the list of Linked folders</a></p>
<p>Please also see our 
<a href="https://support.datatrails.ai/hc/en-gb/articles/14378210620562-Dropbox-File-and-Folder-Management-FAQ" target="_blank" rel="noopener">FAQ</a> for more information.
<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> During configuration, when you link a folder in the UI we will automatically link any subfolders too. Similarly, if you unlink a folder in the UI we will automatically unlink any subfolders.</p>
<p>If you create a subfolder in Dropbox after the integration has been set up it will be automatically added to the linked folder list. If you delete a subfolder or move it to an unlinked location it will be automatically removed from the linked folder list.</p>
<p>If a folder is unlinked for any reason, such by as direct configuration or by being moved, the Audit Trail will stop. Relinking the folder will restart the Audit Trail but we cannot recover any Events that happened while the folder was unlinked.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails masks the file path and replaces the filename with the Asset ID in the public Asset view that is returned by Instaproof. This is intentional so that private information cannot be accidentally released via the Instaproof search results.<br>
Knowledge of the filename is not needed to prove provenance because Instaproof will attest and verify the content of a file even if the filename has been changed.<br>
The permissioned view that is seen by an administrator who is logged into a tenancy will show the file name and the file path.</div>
  </blockquote></p>
<h3 id="connecting-datatrails-to-dropbox">Connecting DataTrails to Dropbox</h3>
<ol>
<li>Select <strong>Settings</strong> or <strong>Integrations</strong> from the side bar and then the <strong>Integrations</strong> tab


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxStart" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxStart.png" width="1041" height="507" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxStart.png" width="1041" height="507" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Settings</em></figcaption>
</figure>





<div class="modal fade" id="DropboxStart" tabindex="-1" aria-labelledby="DropboxStart" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxStart_hu920928d2c1d3cb7f169d8cb8c239454b_66902_200x0_resize_box_3.png 200w" width="1041" height="507" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Select <strong>Dropbox</strong> and then <strong>Proceed</strong>.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxProceed" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxProceed.png" width="481" height="479" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxProceed.png" width="481" height="479" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Proceed</em></figcaption>
</figure>





<div class="modal fade" id="DropboxProceed" tabindex="-1" aria-labelledby="DropboxProceed" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxProceed_hub25cde3b17e2610370bc8d9c52f54183_47655_200x0_resize_box_3.png 200w" width="481" height="479" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
If you are already logged into Dropbox on the device that you are using to set up the integration then you will proceed directly to step 3.<br>If you are not logged in then Dropbox will ask you to authenticate.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxAuth" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxAuth.png" width="397" height="713" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" src="/platform/administration/dropbox-integration/DropBoxAuth.png" width="397" height="713" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Log in to Dropbox</em></figcaption>
</figure>





<div class="modal fade" id="DropboxAuth" tabindex="-1" aria-labelledby="DropboxAuth" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAuth_hue96190b4661860b27256c4eef1cb9541_50030_500x0_resize_box_3.png 500w" width="397" height="713" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>DataTrails now asks for permission to see metadata for your files and folders. Click <strong>Allow</strong> to give DataTrails permission to access your Dropbox Folders.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxDataTrailsAllow" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow.png" width="695" height="495" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow.png" width="695" height="495" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Select Allow</em></figcaption>
</figure>





<div class="modal fade" id="DropboxDataTrailsAllow" tabindex="-1" aria-labelledby="DropboxDataTrailsAllow" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropboxDataTrailsAllow_hu085710360421eb128c6e89642f1914c4_39621_200x0_resize_box_3.png 200w" width="695" height="495" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Select the Dropbox folder that you wish to link to DataTrails and then click <strong>Confirm</strong>. The contents of this folder and <em>all its subfolders</em> will be added to DataTrails as public Document Profile Assets.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConfirm" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Select folder and Confirm</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConfirm" tabindex="-1" aria-labelledby="DropboxConfirm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" width="477" height="441" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>You will see a success message. Dropbox will be connected and the selected folders will be linked.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxSuccess" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxSuccess.png" width="479" height="323" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxSuccess.png" width="479" height="323" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Success!</em></figcaption>
</figure>





<div class="modal fade" id="DropboxSuccess" tabindex="-1" aria-labelledby="DropboxSuccess" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxSuccess_huc58ae2d814dcb9de16d9e7c572c478ee_24628_200x0_resize_box_3.png 200w" width="479" height="323" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
Click on an icon on the right to edit the connection or to disconnect.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConnected" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConnected.png" width="1446" height="623" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConnected.png" width="1446" height="623" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Configuration icons on the right</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConnected" tabindex="-1" aria-labelledby="DropboxConnected" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConnected_hu9029e8c8e772587a9ce542e1ceb1916c_74685_200x0_resize_box_3.png 200w" width="1446" height="623" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>Check the Asset Overview to see your Dropbox files.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxAssets" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxAssets.png" width="1576" height="260" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxAssets.png" width="1576" height="260" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Assets</em></figcaption>
</figure>





<div class="modal fade" id="DropboxAssets" tabindex="-1" aria-labelledby="DropboxAssets" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxAssets_hu8ddb8f4496934f3efd141a8a80b024b1_38563_200x0_resize_box_3.png 200w" width="1576" height="260" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
<blockquote class="note callout">
    <div><strong></strong> <strong>Remember:</strong> The filenames of the Dropbox files are masked using the format <em>xxx&hellip;</em></div>
  </blockquote></li>
</ol>
<h3 id="editing-the-list-of-linked-folders">Editing the list of Linked folders</h3>
<ol>
<li>Select the File icon in DataTrails


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DataTrailsDisconnect" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>File icon on the right</em></figcaption>
</figure>





<div class="modal fade" id="DataTrailsDisconnect" tabindex="-1" aria-labelledby="DataTrailsDisconnect" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" width="1240" height="176" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
<li>You will see the list of available folders. Select a folder to link or deselect a folder to unlink and then click <strong>Confirm</strong>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxConfirm" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxConfirm.png" width="477" height="441" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Reconfigure folders and Confirm</em></figcaption>
</figure>





<div class="modal fade" id="DropboxConfirm" tabindex="-1" aria-labelledby="DropboxConfirm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxConfirm_hu7a451aa7cddbcc4ad49efd2720252863_31952_200x0_resize_box_3.png 200w" width="477" height="441" alt="Dropbox Integration">
      </div>
  
  </div>
</div></li>
</ol>
<h3 id="disconnecting-datatrails-from-dropbox">Disconnecting DataTrails from Dropbox</h3>
<p>To disconnect DataTrails and Dropbox you have the option to disconnect using both applications.</p>
<ol>
<li>Select the Disconnect icon in DataTrails


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DataTrailsDisconnect" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DataTrailsDisconnect.png" width="1240" height="176" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect Dropbox</em></figcaption>
</figure>





<div class="modal fade" id="DataTrailsDisconnect" tabindex="-1" aria-labelledby="DataTrailsDisconnect" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DataTrailsDisconnect_hu1e5e5d8365eb4db20b5c907312a4ec9e_20979_200x0_resize_box_3.png 200w" width="1240" height="176" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
You will see a warning message.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DisconnectWarning" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DisconnectWarning.png" width="480" height="304" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DisconnectWarning.png" width="480" height="304" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect Warning</em></figcaption>
</figure>





<div class="modal fade" id="DisconnectWarning" tabindex="-1" aria-labelledby="DisconnectWarning" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DisconnectWarning_hu34637d7a511f08a13bf2ec2f04bb750f_20977_200x0_resize_box_3.png 200w" width="480" height="304" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
This means that this specific tenancy will no longer be used for provenance. You would do this if you no longer want to use a connected tenancy while continuing to use other connected tenancies.</li>
<li>If you also want to disconnect in Dropbox, log in to Dropbox, select your account and then <strong>Settings</strong> followed by the <strong>Apps</strong> tab. Select DataTrails and then <strong>Disconnect</strong>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#DropboxDisconnectApp" img class="img-fluid responsive" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp.png" width="1248" height="790" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" alt="Dropbox Integration">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp.png" width="1248" height="790" alt="Dropbox Integration"></noscript>
  <figcaption class="figure-caption"><em>Disconnect DataTrails</em></figcaption>
</figure>





<div class="modal fade" id="DropboxDisconnectApp" tabindex="-1" aria-labelledby="DropboxDisconnectApp" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/dropbox-integration/DropBoxDisconnectApp_hu30694c89722ba27f662f2b2f616d867a_52847_200x0_resize_box_3.png 200w" width="1248" height="790" alt="Dropbox Integration">
      </div>
  
  </div>
</div>
You would disconnect in Dropbox if you no longer wish to use DataTrails for provenance. This will remove access permissions for all your tenancies and should be done after you have disconnected all your individual tenancies in DataTrails.</li>
</ol>
<p>This is how to connect and disconnect DataTrails and Dropbox, it is that simple! Please see our 
<a href="https://support.datatrails.ai/hc/en-gb/articles/14378210620562-Dropbox-File-and-Folder-Management-FAQ" target="_blank" rel="noopener">FAQ</a> for more information.</p>
`}).add({id:24,href:"https://docs.datatrails.ai/platform/administration/compliance-policies/",title:"Compliance Policies",description:"Creating and Managing Compliance Policies",content:`<h2 id="creating-a-compliance-policy">Creating a Compliance Policy</h2>
<p>Compliance Policies are user-defined rule sets that Assets can be tested against. Compliance Policies only need to be created once; all applicable Assets will be tested against that policy thereafter.</p>
<p>For example, a policy might assert that “Maintenance Alarm Events must be addressed by a Maintenance Report Event, recorded within 72 hours of the alarm”. This creates a Compliance Policy in the system which any Asset can be tested against as needed.</p>
<p>As compliance is ensured by a regular series of Events, an Audit Trail builds up over time that allows compliance to be checked for the entire lifetime of the Asset.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Creation and editing of Compliance Policies is <strong>only supported through the API</strong>.</div>
  </blockquote>
<p>DataTrails allows for several types of Compliance Policies:</p>
<h3 id="compliance_since">COMPLIANCE_SINCE</h3>
<p>Checks that the time elapsed since a specific type of Event has not exceeded a defined threshold.</p>
<p>For example, &ldquo;time since last maintenance must be less than 72 hours&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_since" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_since-0" type="button" role="tab" aria-controls="compliance_since-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_since-1" type="button" role="tab" aria-controls="compliance_since-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_since"><div id="compliance_since-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_since-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_SINCE policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance should be performed every 72h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Regular Maintenance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_SINCE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">time_period_seconds</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;259200&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_since-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_since-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_SINCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance should be performed every 72h&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Regular Maintenance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_current_outstanding">COMPLIANCE_CURRENT_OUTSTANDING</h3>
<p>Checks if there is a closing Event addressing an outstanding Event.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<p>This allows you to identify which closing Event belongs with each opening Event.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;a Maintenance Request Event must be addressed by a Maintenance Performed Event&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_current_outstanding" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_current_outstanding-0" type="button" role="tab" aria-controls="compliance_current_outstanding-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_current_outstanding-1" type="button" role="tab" aria-controls="compliance_current_outstanding-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_current_outstanding"><div id="compliance_current_outstanding-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_current_outstanding-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_CURRENT_OUTSTANDING policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outstanding Maintenance Requests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_CURRENT_OUTSTANDING</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_current_outstanding-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_current_outstanding-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_period_outstanding">COMPLIANCE_PERIOD_OUTSTANDING</h3>
<p>Checks if the time between correlated Events does not exceed set threshold.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;a Maintenance Request Event must be addressed by a Maintenance Performed Event within 72 hours&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_period_outstanding" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_period_outstanding-0" type="button" role="tab" aria-controls="compliance_period_outstanding-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_period_outstanding-1" type="button" role="tab" aria-controls="compliance_period_outstanding-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_period_outstanding"><div id="compliance_period_outstanding-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_period_outstanding-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_PERIOD_OUTSTANDING policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">There should not be outstanding Maintenance Requests for longer than 72hr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outstanding Maintenance Requests 72hr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_PERIOD_OUTSTANDING</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">time_period_seconds</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;259200&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_period_outstanding-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_period_outstanding-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_PERIOD_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests longer than 72hr&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests 72hr&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_dynamic_tolerance">COMPLIANCE_DYNAMIC_TOLERANCE</h3>
<p>Checks that the time between correlated Events is not excessively different to the observed average normal duration for similar Events.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event Attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, &ldquo;the time between a Maintenance Request Event and Maintenance Performed Event in the last week does not exceed a variation of 0.5 standard deviations around the mean&rdquo;.</p>
<p>The <code>dynamic_window</code> is the time period to evaluate on, in this case, one week. The <code>dynamic_variability</code> is the number of standard deviations from the mean allowed, in this case, 0.5.</p>
<ul class="nav nav-tabs" id="compliance_dynamic_tolerance" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_dynamic_tolerance-0" type="button" role="tab" aria-controls="compliance_dynamic_tolerance-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_dynamic_tolerance-1" type="button" role="tab" aria-controls="compliance_dynamic_tolerance-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_dynamic_tolerance"><div id="compliance_dynamic_tolerance-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_dynamic_tolerance-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_DYNAMIC_TOLERANCE policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Average time between Maintenance Requested/Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Outlying Maintenance Requests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_DYNAMIC_TOLERANCE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">closing_event_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Maintenance Performed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">dynamic_window</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;604800&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">dynamic_variability</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.5&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_dynamic_tolerance-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_dynamic_tolerance-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_DYNAMIC_TOLERANCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Average time between Maintenance Requested/Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outlying Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_window&#34;</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_variability&#34;</span><span class="p">:</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h3 id="compliance_richness">COMPLIANCE_RICHNESS</h3>
<p>Checks whether Attributes are within expected bounds or otherwise meet defined conditions.</p>
<p>This type of policy uses <code>richness_assertions</code>. An assertion is comprised of an attribute name, comparison value, and an operator to compare with.</p>
<p>The operator can be one of six relational operators: equal to (<code>=</code>), not equal to (<code>!=</code>), greater than (<code>&gt;</code>), less than (<code>&lt;</code>), greater than or equal to (<code>&gt;=</code>), less than or equal to (<code>&lt;=</code>).</p>
<p>For example, &ldquo;radiation level must be less than 7&rdquo;.</p>
<ul class="nav nav-tabs" id="compliance_richness" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_richness-0" type="button" role="tab" aria-controls="compliance_richness-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_richness-1" type="button" role="tab" aria-controls="compliance_richness-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_richness"><div id="compliance_richness-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_richness-0">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_RICHNESS policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Radiation level must be less than 7&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Rad Limit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_RICHNESS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">richness_assertions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_richness-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_richness-1">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_RICHNESS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad level is less than 7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad Limit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;richness_assertions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div></div></div>

<h2 id="checking-compliance-status">Checking Compliance Status</h2>
<p>You may check the compliance status of a specific Asset within your tenancy.</p>
<p><ul class="nav nav-tabs" id="compliance_status" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#compliance_status-0" type="button" role="tab" aria-controls="compliance_status-0" aria-selected="true">YAML</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#compliance_status-1" type="button" role="tab" aria-controls="compliance_status-1" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="compliance_status"><div id="compliance_status-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="compliance_status-0">
<p>Create a yaml file, using the desired Asset ID as your <code>asset_label</code>. Setting <code>report: true</code> will print the compliance information for the Asset when the file is run.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_COMPLIANT_AT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Check Compliance of desired Asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">report</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> command to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div></div>
  <div id="compliance_status-1" class="tab-pane fade" role="tabpanel" aria-labelledby="compliance_status-1">
<p>Run the following command using the desired Asset ID to check its compliance status. See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance/assets/&lt;asset-id&gt;
</span></span></code></pre></div><p>You may also determine compliance at a 
<a href="/platform/overview/advanced-concepts/#perspectives">historical date</a> by adding the desired date to the query.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/compliance/assets/&lt;asset-id&gt;?compliant_at=2019-11-27T14:44:19Z&#34;</span>
</span></span></code></pre></div></div></div>

<br>
An example response for a non-compliant Asset</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant&#34;</span>: false,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliance&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">        <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliance_policy_identity&#34;</span>: <span class="s2">&#34;compliance_policies/71fb7b23-485a-492b-9957-e5d1c9400a76&#34;</span>,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliant&#34;</span>: false,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;reason&#34;</span>: <span class="s2">&#34;No events found&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;next_page_token&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant_at&#34;</span>: <span class="s2">&#34;2024-01-17T10:04:41Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>An example response for a compliant Asset</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant&#34;</span>: true,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliance&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">        <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliance_policy_identity&#34;</span>: <span class="s2">&#34;compliance_policies/71fb7b23-485a-492b-9957-e5d1c9400a76&#34;</span>,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;compliant&#34;</span>: true,
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;reason&#34;</span>: <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">]</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;next_page_token&#34;</span>: <span class="s2">&#34;&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;compliant_at&#34;</span>: <span class="s2">&#34;2024-01-17T10:16:12Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div>`}).add({id:25,href:"https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/",title:"Grouping Assets by Location",description:"Adding a Location",content:`<p>Locations associate an Asset with a &lsquo;home&rsquo; that can help when governing sharing policies with OBAC and ABAC. Locations do not need pinpoint precision and can be named by site, building, or other logical grouping.</p>
<p>It may be useful to indicate an Asset&rsquo;s origin. For example, if tracking traveling consultant&rsquo;s laptops, you may wish to associate them with a &lsquo;home&rsquo; office.</p>
<blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> It is important to recognize that the location does not necessarily denote the Asset’s current position in space; it simply determines which facility the Asset belongs to. For things that move around, use GIS coordinates on Events instead. See 
<a href="../../overview/advanced-concepts/#geolocation">concept docs on locations</a> for more information.</div>
  </blockquote>
<h2 id="creating-a-location">Creating a Location</h2>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The Locations UI is not displayed in the side menu until after the first location has been created using the 
<a href="/developers/api-reference/locations-api/">API</a>. After this you can use the UI to create new locations but to update or delete a location you will still need to use the API</div>
  </blockquote>
<ol>
<li>
<p>Create your location
<ul class="nav nav-tabs" id="add_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_locations-0" type="button" role="tab" aria-controls="add_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_locations-1" type="button" role="tab" aria-controls="add_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_locations-2" type="button" role="tab" aria-controls="add_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_locations"><div id="add_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_locations-0">
<p>In the dashboard, select <code>Locations</code>, then <code>Add Location</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAddNew" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAddNew.png" width="1644" height="324" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAddNew.png" width="1644" height="324" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAddNew" tabindex="-1" aria-labelledby="LocationAddNew" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAddNew_huab82c52a7b16026c01d5c66ca37d598d_38450_200x0_resize_box_3.png 200w&quot; width=&quot;1644&quot; height=&quot;324&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_locations-1">
<p>The DataTrails YAML runner is executed as a series of steps, each step representing a single operation with an <code>action</code>.</p>
<p>In order to create a location, we use the action <code>LOCATIONS_CREATE_IF_NOT_EXISTS</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_locations-2">
<p>Create an empty file, in later steps we will add the correct JSON</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Add information about the location you are creating
<ul class="nav nav-tabs" id="add_location_info_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_info_locations-0" type="button" role="tab" aria-controls="add_location_info_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_info_locations-1" type="button" role="tab" aria-controls="add_location_info_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_info_locations-2" type="button" role="tab" aria-controls="add_location_info_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_info_locations"><div id="add_location_info_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_info_locations-0">
<p>The following screen will appear:</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationDescribe" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationDescribe.png" width="790" height="432" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationDescribe.png" width="790" height="432" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>The Location Webform</em></figcaption>
</figure>
<div class="modal fade" id="LocationDescribe" tabindex="-1" aria-labelledby="LocationDescribe" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDescribe_hu160859713466e581bf47d65ca7fde8c6_20406_200x0_resize_box_3.png 200w&quot; width=&quot;790&quot; height=&quot;432&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_info_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_info_locations-1">
<p>You may add a <code>description</code> and a <code>selector</code>. The <code>selector</code> is the identifying attribute used to check if your location exists before attempting to create it. In this case, we use <code>display_name</code> which represents the name of the location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_info_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_info_locations-2">
<p>You may add a <code>display_name</code> and <code>description</code> to identify your location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Enter the required location name and address, or in the case of YAML and JSON, coordinates
<ul class="nav nav-tabs" id="add_location_name_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_name_locations-0" type="button" role="tab" aria-controls="add_location_name_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_name_locations-1" type="button" role="tab" aria-controls="add_location_name_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_name_locations-2" type="button" role="tab" aria-controls="add_location_name_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_name_locations"><div id="add_location_name_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_name_locations-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationForm" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationForm.png" width="781" height="434" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationForm.png" width="781" height="434" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding the Location Details</em></figcaption>
</figure>
<div class="modal fade" id="LocationForm" tabindex="-1" aria-labelledby="LocationForm" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationForm_hu9d3d7caf06c7dd2aaa1cd97d080887a7_22543_200x0_resize_box_3.png 200w&quot; width=&quot;781&quot; height=&quot;434&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_location_name_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_name_locations-1">
<p>Use <code>latitude</code> and <code>longitude</code> to describe the physical location</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Industrial Warehouse in Bristol Harbor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">51.4477</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">2.5980</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_name_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_name_locations-2">
<p>Use <code>latitude</code> and <code>longitude</code> to describe the physical location</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">51.4477</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.5980</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>There is an option to add extended attributes to a location. This is useful to add metadata to a location, i.e. a site contact&rsquo;s number and email address
<ul class="nav nav-tabs" id="add_location_attributes_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_location_attributes_locations-0" type="button" role="tab" aria-controls="add_location_attributes_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_attributes_locations-1" type="button" role="tab" aria-controls="add_location_attributes_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_location_attributes_locations-2" type="button" role="tab" aria-controls="add_location_attributes_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_location_attributes_locations"><div id="add_location_attributes_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_location_attributes_locations-0">
<p>Use the <code>Extended Attributes</code> tab.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAttributes" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAttributes.png" width="776" height="506" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAttributes.png" width="776" height="506" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Adding Extended Attributes to a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAttributes" tabindex="-1" aria-labelledby="LocationAttributes" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAttributes_hu451ae1cd344a99fc60d2fa4ffa213730_32668_200x0_resize_box_3.png 200w&quot; width=&quot;776&quot; height=&quot;506&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_location_attributes_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_attributes_locations-1">
<p>Like Assets and Events, locations may also have extended attributes added as key-value pairs</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create UK factory location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Factory in Bristol Harbor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">51.4477</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">2.5980</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l">Princes Wharf, Wapping Rd, Bristol BS1 4RN, UK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Primary_Contact</span><span class="p">:</span><span class="w"> </span><span class="l">Jill Tiller</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Primary_Mobile_Number</span><span class="p">:</span><span class="w"> </span><span class="l">+447700900077</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_location_attributes_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_location_attributes_locations-2">
<p>Like Assets and Events, locations may also have extended attributes added as key-value pairs</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;UK Factory&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Industrial Warehouse in Bristol Harbor&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">51.4477</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.5980</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Princes Wharf, Wapping Rd, Bristol BS1 4RN, UK&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;Primary_Contact&#34;</span><span class="p">:</span> <span class="s2">&#34;Jill Tiller&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="nt">&#34;Primary_Mobile_Number&#34;</span><span class="p">:</span> <span class="s2">&#34;+447700900077&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>Complete your location
<ul class="nav nav-tabs" id="complete_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#complete_location_locations-0" type="button" role="tab" aria-controls="complete_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_location_locations-1" type="button" role="tab" aria-controls="complete_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#complete_location_locations-2" type="button" role="tab" aria-controls="complete_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="complete_location_locations"><div id="complete_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="complete_location_locations-0">
<p>Click <code>Add Location</code>.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationSubmitted" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationSubmitted.png" width="773" height="432" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationSubmitted.png" width="773" height="432" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Submitting a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationSubmitted" tabindex="-1" aria-labelledby="LocationSubmitted" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationSubmitted_hu961557fa3463bf44eff8b0766a391ca3_20266_200x0_resize_box_3.png 200w&quot; width=&quot;773&quot; height=&quot;432&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="complete_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_location_locations-1">
<p>Use the 
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">archivist_runner</a> to run your YAML file!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      UK_factory_location.yaml
</span></span></code></pre></div></div>
  <div id="complete_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="complete_location_locations-2">
<p>Use the curl command to run your JSON file! See instructions for 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">creating your <code>BEARER_TOKEN_FILE</code></a> here.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>View your locations
<ul class="nav nav-tabs" id="location_list_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#location_list_locations-0" type="button" role="tab" aria-controls="location_list_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#location_list_locations-1" type="button" role="tab" aria-controls="location_list_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#location_list_locations-2" type="button" role="tab" aria-controls="location_list_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="location_list_locations"><div id="location_list_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="location_list_locations-0">
<p>Navigate to <code>Locations</code> in the sidebar to see a list of existing locations.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAdded" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAdded.png" width="1669" height="366" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAdded.png" width="1669" height="366" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Managing a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAdded" tabindex="-1" aria-labelledby="LocationAdded" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAdded_hu92a4d78942a57d8a54f7e8b8da75b8ff_48498_200x0_resize_box_3.png 200w&quot; width=&quot;1669&quot; height=&quot;366&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="location_list_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="location_list_locations-1">
<p>You can view all location data using the <code>LOCATIONS_LIST</code> action. Use the <code>print_response</code> keyword to get the full output</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all locations.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="location_list_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="location_list_locations-2">
<p>Use the 
<a href="/developers/api-reference/locations-api/">Locations API</a> to GET a list of existing locations.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div></div></div>
</p>
</li>
<li>
<p>View details of the location you just created
<ul class="nav nav-tabs" id="specific_location_locations" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#specific_location_locations-0" type="button" role="tab" aria-controls="specific_location_locations-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#specific_location_locations-1" type="button" role="tab" aria-controls="specific_location_locations-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#specific_location_locations-2" type="button" role="tab" aria-controls="specific_location_locations-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="specific_location_locations"><div id="specific_location_locations-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="specific_location_locations-0">
<p>You can inspect details of a single location. Click the desired location row</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationDetails" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationDetails.png" width="383" height="422" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w" src="/platform/administration/grouping-assets-by-location/LocationDetails.png" width="383" height="422" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Viewing a Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationDetails" tabindex="-1" aria-labelledby="LocationDetails" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationDetails_hufb197c2e704af47efdb5ee2c8ae93652_29675_500x0_resize_box_3.png 500w&quot; width=&quot;383&quot; height=&quot;422&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="specific_location_locations-1" class="tab-pane fade" role="tabpanel" aria-labelledby="specific_location_locations-1">
<p>The <code>LOCATIONS_LIST</code> action can be filtered using identifying attributes (<code>attrs</code>) to view the details of a specific location.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Display Location named UK Factory. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="specific_location_locations-2" class="tab-pane fade" role="tabpanel" aria-labelledby="specific_location_locations-2">
<p>Use the 
<a href="/developers/api-reference/locations-api/">Locations API</a> to GET the specific location by name.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/locations?display_name=UK%20Factory&#34;</span>
</span></span></code></pre></div></div></div>
</p>
</li>
</ol>
<h2 id="assigning-a-location-to-an-asset">Assigning a Location to an Asset</h2>
<h3 id="adding-at-asset-creation">Adding at Asset Creation</h3>
<p>To assign a pre-existing location to an Asset during Asset creation, you need only select it
<ul class="nav nav-tabs" id="add_at_asset_create" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_at_asset_create-0" type="button" role="tab" aria-controls="add_at_asset_create-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_at_asset_create-1" type="button" role="tab" aria-controls="add_at_asset_create-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_at_asset_create-2" type="button" role="tab" aria-controls="add_at_asset_create-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_at_asset_create"><div id="add_at_asset_create-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_at_asset_create-0">
<p>Choose the desired location from the <code>Location</code> drop-down.</p>
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAssetCreation" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAssetCreation.png" width="859" height="530" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAssetCreation.png" width="859" height="530" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Creating an Asset with an Existing Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAssetCreation" tabindex="-1" aria-labelledby="LocationAssetCreation" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetCreation_hudf8bec33d2407d293e03a522f9421c3c_43046_200x0_resize_box_3.png 200w&quot; width=&quot;859&quot; height=&quot;530&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div></div>
  <div id="add_at_asset_create-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_at_asset_create-1">
<p>A pre-existing location can be added during Asset creation, using the Location ID as an identifier (e.g. <code>locations/&lt;location-id&gt;</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset with pre-existing Location. </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_home_location_identity</span><span class="p">:</span><span class="w"> </span><span class="l">&lt;your-location-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The YAML Runner also allows you to create new locations at Asset Creation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create an asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">arc_display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">My First Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Shipping Container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Container Origin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">52.2025</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">0.1311</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">location_label</span><span class="p">:</span><span class="w"> </span><span class="l">UK Factory</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_at_asset_create-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_at_asset_create-2">
<p>A pre-existing location can be added during Asset creation, using the Location ID as an identifier (e.g. <code>locations/&lt;location-id&gt;</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My First Container&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Traffic light with violation camera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></div></div>
</p>
<h3 id="adding-to-a-pre-existing-asset">Adding to a pre-existing Asset</h3>
<ol>
<li>
<p>To assign a pre-existing Asset with a new location, you need to identify the Location ID. To do this, view the location details by clicking the location row.


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationIdentity" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationIdentity.png" width="369" height="409" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" src="/platform/administration/grouping-assets-by-location/LocationIdentity.png" width="369" height="409" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Location Identity</em></figcaption>
</figure>





<div class="modal fade" id="LocationIdentity" tabindex="-1" aria-labelledby="LocationIdentity" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationIdentity_huc6ae87f132bc4a952019345b88b5ab8e_28848_500x0_resize_box_3.png 500w" width="369" height="409" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
<li>
<p>Then create an Event for the Asset and specify the identity of the new location as noted in step 1, against the <code>arc_home_location_identity</code> key<br>
For more information on creating Events, please visit 
<a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset</a>.
<ul class="nav nav-tabs" id="add_to_asset" role="tablist"><li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link active" data-bs-target="#add_to_asset-0" type="button" role="tab" aria-controls="add_to_asset-0" aria-selected="true">UI</button>
		</li>
	  
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_to_asset-1" type="button" role="tab" aria-controls="add_to_asset-1" aria-selected="false">YAML</button>
		</li>
		<li class="nav-item">
			<button data-bs-toggle="tab" class="nav-link" data-bs-target="#add_to_asset-2" type="button" role="tab" aria-controls="add_to_asset-2" aria-selected="false">JSON</button>
		</li></ul>
<div class="tab-content" id="add_to_asset"><div id="add_to_asset-0" class="tab-pane fade show active" role="tabpanel" aria-labelledby="add_to_asset-0">
<figure class="border-0">
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationAssetUpdate" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationAssetUpdate.png" width="770" height="487" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationAssetUpdate.png" width="770" height="487" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Updating an Existing Asset with a new Location</em></figcaption>
</figure>
<div class="modal fade" id="LocationAssetUpdate" tabindex="-1" aria-labelledby="LocationAssetUpdate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
<pre><code>  &lt;div class=&quot;modal-body&quot;&gt;
    
    &lt;img class=&quot;img-fluid lazyload responsive&quot; data-sizes=&quot;auto&quot; src=&quot;/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_100x0_resize_box_3.png&quot; data-srcset=&quot;https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationAssetUpdate_hud50f730f5140a0b590184d6d59968f36_34899_200x0_resize_box_3.png 200w&quot; width=&quot;770&quot; height=&quot;487&quot; alt=&quot;Rectangle&quot;&gt;
  &lt;/div&gt;
</code></pre>
  </div>
</div>
</div>
  <div id="add_to_asset-1" class="tab-pane fade" role="tabpanel" aria-labelledby="add_to_asset-1">
<p>The <code>EVENTS_CREATE</code> action must contain at least one key-value pair for <code>event_attributes</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Add Location to existing Asset.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">assets/&lt;asset-id&gt; </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">new_event</span><span class="p">:</span><span class="w"> </span><span class="l">Record Asset Location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_home_location_identity</span><span class="p">:</span><span class="w"> </span><span class="l">locations/&lt;location-id&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div></div>
  <div id="add_to_asset-2" class="tab-pane fade" role="tabpanel" aria-labelledby="add_to_asset-2">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/&lt;location-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> - The Event must be recorded against the appropriate <code>assets/&lt;asset-id&gt;</code> when the curl command is executed. 
<a href="/platform/overview/creating-an-event-against-an-asset/">See Step 4 here for more details.</a></div>
  </blockquote>
</div></div>

<blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong> - You need to include the full <code>locations/&lt;location-id&gt;</code> reference as using only the <code>UUID</code> will not be recognized.</div>
  </blockquote></p>
</li>
<li>
<p>In the following screenshot, note the location of our Asset has been updated


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#LocationUpdateComplete" img class="img-fluid responsive" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete.png" width="1209" height="576" data-sizes="auto" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete.png" width="1209" height="576" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>Completed update of Asset Location</em></figcaption>
</figure>





<div class="modal fade" id="LocationUpdateComplete" tabindex="-1" aria-labelledby="LocationUpdateComplete" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/LocationUpdateComplete_hu02fa8fb8263a784858332ffc93d7eb61_181950_200x0_resize_box_3.png 200w" width="1209" height="576" alt="Rectangle">
      </div>
  
  </div>
</div></p>
</li>
</ol>
`}).add({id:26,href:"https://docs.datatrails.ai/developers/api-reference/app-registrations-api/",title:"App Registrations API",description:"App Registrations API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="app-registrations-api-examples">App Registrations API Examples</h2>
<p>The App Registrations API enables you to create and manage application identities with access to your DataTrails Tenancy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> App Registrations are called Custom Integrations in the DataTrail application UI.</div>
  </blockquote>
<p>It supports the OpenID Connect Client Credentials Flow, which means that for each application you register, a <code>CLIENT_ID</code> and <code>SECRET</code> are generated and returned.</p>
<p>These credentials are then used to request an access token from <code>https://app.datatrails.ai/archivist/iam/v1/appidp/token</code>, which is used for API authentication to DataTrails.</p>
<p>Each App Registration is created with Non-Administrator privileges by default.</p>
<p>To provide your credentials with access to the Assets and Events in your Tenancy, it is best practice to create an 
<a href="../iam-policies-api/">ABAC policy</a> with specific, declared permissions.</p>
<p>If you wish to give your credentials Administrator privileges to access everything in your Tenancy, you would use the <code>client-id</code> as the subject and <code>https://app.datatrails.ai/appidpv1</code> as the issuer in the <code>Settings</code> screen or by using the 
<a href="../tenancies-api/">Administrators Endpoint in the Tenancies API</a>.<br>This would be necessary if you want to carry out Tenancy administration via the API.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more information on App Registrations and access tokens, visit 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">DataTrails Developer Patterns</a>.</div>
  </blockquote>
<h3 id="creating-an-application">Creating an Application</h3>
<p>Create a JSON file with the parameters of your new application. Below is an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;TL1000000101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Once you have created your file, you can then submit it to the DataTrails API:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/applications
</span></span></code></pre></div><p>An example response is shown below.</p>
<p>The client secret <em><strong>must</strong></em> be taken note of at this point, as it will be redacted in any attempt to retrieve the application (shown as an empty string.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/53e6bed7-6f4c-4a37-8c4f-cf889f2b1aa6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;credentials&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;secret&#34;</span><span class="p">:</span><span class="s2">&#34;a0c09972b6ac912a4d67815fef88093c81a99b49977d35ecf6d162631aa29173&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_from&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-09-21T16:43:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_until&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-09-21T16:43:19Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;TL1000000101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> The expiry date refers to the secret only, any tokens generated with this secret will not automatically become invalid when the secret expires or is rotated. Each token has a TTL of 1 hour.</div>
  </blockquote>
<h4 id="authenticating-with-your-application">Authenticating with your Application</h4>
<p>Now that you&rsquo;ve created an application, you get a token.</p>
<p>Replace <code>\${CLIENT_ID}</code> with the Application ID, and <code>\${SECRET}</code> with your secret from the App Registration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://app.datatrails.ai/archivist/iam/v1/appidp/token <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;grant_type=client_credentials&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_id=</span><span class="si">\${</span><span class="nv">CLIENT_ID</span><span class="si">}</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --data-urlencode <span class="s2">&#34;client_secret=</span><span class="si">\${</span><span class="nv">SECRET</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span></code></pre></div><p>The token is found in the <code>.access_token</code> field and it is a base64 encoded 
<a href="https://jwt.io/introduction/" target="_blank" rel="noopener">JSON Web Token</a>.</p>
<p>A common method to extract the token is to use <code>jq</code>, where <code>$RESPONSE</code> is the output your curl command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="nv">$RESPONSE</span> <span class="p">|</span> jq -r .access_token<span class="k">)</span>
</span></span></code></pre></div><p>You should then save the token to a local <code>bearer_token</code> file with <code>0600</code> permissions in the following format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Authorization: Bearer <span class="nv">$TOKEN</span>
</span></span></code></pre></div><p>Where <code>$TOKEN</code> is the extracted token value.</p>
<p>You can then use this bearer token to interact with other DataTrails services.</p>
<h3 id="listing-applications">Listing Applications</h3>
<p>All of the applications created for your DataTrails tenancy can be viewed using the following command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/applications
</span></span></code></pre></div><h3 id="viewing-applications">Viewing Applications</h3>
<p>The following example shows how to view the details of a single application.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><h3 id="updating-applications">Updating Applications</h3>
<p>You may edit the display name and/or the custom claims of an application.</p>
<p>Create a JSON file containing the details you wish to update. Partial updating of applications is also supported. Below is an example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Once you&rsquo;ve created your file, submit it to the DataTrails API:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -d <span class="s2">&#34;@/path/to/json&#34;</span>
</span></span><span class="line"><span class="cl">     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><p>Example response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;TrafficLight101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;client_id&#34;</span><span class="p">:</span> <span class="s2">&#34;d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_id&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/53e6bed7-6f4c-4a37-8c4f-cf889f2b1aa6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;credentials&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;secret&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_from&#34;</span><span class="p">:</span> <span class="s2">&#34;2021-09-21T16:43:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;valid_until&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-09-21T16:43:19Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;custom_claims&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;has_cyclist_light&#34;</span><span class="p">:</span> <span class="s2">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="regenerating-application-secrets">Regenerating Application Secrets</h3>
<p>It is possible to regenerate the secret for an existing application.</p>
<p>The expected response will be the same as for 
<a href="./#creating-an-application">creation</a>, but the credential entry will have been updated with a new secret, along with new expiry dates.</p>
<p>Once again, you <em><strong>must</strong></em> take note of the secret at this point, as it will not be recoverable.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>:regenerate-secret
</span></span></code></pre></div><blockquote class="caution callout">
    <div><strong></strong> <strong>Caution:</strong> The expiry date refers to the secret only, any tokens generated with this secret will not automatically become invalid when the secret expires or is rotated. Each token has a TTL of 1 hour.</div>
  </blockquote>
<h3 id="deleting-applications">Deleting Applications</h3>
<p>The following example shows how to delete an application.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">IDENTITY</span><span class="o">=</span><span class="s2">&#34;applications/d1fb6c87-faa9-4d56-b2fd-a5b70a9af065&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/<span class="si">\${</span><span class="nv">IDENTITY</span><span class="si">}</span>
</span></span></code></pre></div><h2 id="app-registrations-openapi-docs">App Registrations OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Application Registrations.</p>
    </div>
      <div class="accordion" id='AppRegistrations_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API1' aria-expanded="true" aria-controls='collapseAppRegistrations_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API1' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications</span></h4>
                      </div>
                      <h5>List applications for the user&#39;s tenant</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists all applications for the user&rsquo;s tenant</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API1' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "applications": [
    {
      "client_id": "b222a12e-03d8-40b0-8d28-b851c2caadd0",
      "credentials": [
        {
          "secret": "",
          "valid_from": "2021-09-17T16:48:32Z",
          "valid_until": "2022-09-17T16:48:32Z"
        }
      ],
      "custom_claims": {
        "a": "b"
      },
      "display_name": "a",
      "identity": "applications/b222a12e-03d8-40b0-8d28-b851c2caadd0",
      "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
    },
    {
      "client_id": "288e8cef-62fa-4eb0-9d36-ab01db27c182",
      "credentials": [
        {
          "secret": "",
          "valid_from": "2021-09-17T16:54:05Z",
          "valid_until": "2022-09-17T16:54:05Z"
        }
      ],
      "custom_claims": {
        "asf": "asbdf"
      },
      "display_name": "test",
      "identity": "applications/288e8cef-62fa-4eb0-9d36-ab01db27c182",
      "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
    }
  ],
  "next_page_token": "eyJvcmlnX3JlcSI6eyJwYWdlX3NpemUiOjJ9LCJza2lwIjoyfQ=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>applications</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single application used for machine authentication</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Pagination token. Empty on first request. On subsequent requests copied from response.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API2' aria-expanded="true" aria-controls='collapseAppRegistrations_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications</span></h4>
                      </div>
                      <h5>Registers a new application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Registers a new application, generating a client ID and secret for use in machine authentication. Regenerates the client secret for the application matching the supplied UUID. The response will include the client secret, but it will not be possible to retrieve it afterwards.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAppRegistrations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAppRegistrations_API2' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAppRegistrations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "custom_claims": {
    "has_cyclist_light": "true",
    "serial_number": "TL1000000101"
  },
  "display_name": "TrafficLight101"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>custom_claims</th>
                                    <td>object</td>
                                    
                                      <td>Custom claims to add to Application for use in access policies.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Human-readable display name for this Application.</td>
                                    
                                  
                                  <tr>
                                    <th>roles</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td></td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API2' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of app registrations policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API3' aria-expanded="true" aria-controls='collapseAppRegistrations_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API3' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Delete an application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes the application matching the supplied UUID</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API4' aria-expanded="true" aria-controls='collapseAppRegistrations_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API4' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Fetch an application record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Fetches the application record for the supplied UUID</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API4' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API5' aria-expanded="true" aria-controls='collapseAppRegistrations_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API5' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}</span></h4>
                      </div>
                      <h5>Update an existing application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Allows updating of the display name and custom claims for an application</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API5' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAppRegistrations_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAppRegistrations_API6' aria-expanded="true" aria-controls='collapseAppRegistrations_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}:regenerate-secret</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAppRegistrations_API6' class="accordion-collapse collapse" aria-labelledby='headerAppRegistrations_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/applications/archivist/iam/v1/applications/{uuid}:regenerate-secret</span></h4>
                      </div>
                      <h5>Regenerate the client secret for an application</h5>
                      <p><a href=""></a></p>
                      <p>Description: Regenerates the client secret for the application matching the supplied UUID. The response will include the client secret, but it will not be possible to retrieve it afterwards.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAppRegistrations_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAppRegistrations_API6' aria-expanded="true" aria-controls='collapserequestAppRegistrations_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAppRegistrations_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAppRegistrations_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "client_id": "ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "credentials": [
    {
      "secret": "2acc636e8439fa2ea1a613fe547a1d435b0b0ab3793f11751559d7431a3414eb",
      "valid_from": "2021-09-17T16:54:08Z",
      "valid_until": "2022-09-17T16:54:08Z"
    }
  ],
  "custom_claims": {
    "asf": "asbdf"
  },
  "display_name": "test",
  "identity": "applications/ffaa0f30-a503-4de7-b085-d857ed34a7cd",
  "tenant_id": "tenant/fafb2d41-5237-45c7-9740-66d1635f549b"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>client_id</th>
                                  <td>string</td>
                                  
                                    <td>Client ID for use in OIDC client credentials flow</td>
                                  
                                
                                <tr>
                                  <th>credentials</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a single time-limited secret</td>
                                  
                                
                                <tr>
                                  <th>custom_claims</th>
                                  <td>object</td>
                                  
                                    <td>Custom claims to add to Application for use in access policies.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Human-readable display name for this Application.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Resource name for the application</td>
                                  
                                
                                <tr>
                                  <th>roles</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>tenant_id</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant owning this application</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized.</td>
                          
                            <tr><th>404</th><td>Returned when the Application does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:27,href:"https://docs.datatrails.ai/developers/api-reference/assets-api/",title:"Assets API",description:"Assets API Reference",content:`<p><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> For more information on Assets and Asset creation, visit our 
<a href="/platform/overview/core-concepts/#assets">Core Concepts</a> and 
<a href="/platform/overview/creating-an-asset/">Creating an Asset</a> guide.</div>
  </blockquote></p>
<h2 id="asset-api-examples">Asset API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="asset-record-creation">Asset Record Creation</h3>
<p>Define the asset parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; /tmp/asset.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;behaviours&#34;: [&#34;RecordEvidence&#34;],
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;attributes&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_type&#34;: &#34;Cat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_name&#34;: &#34;My Cat&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;weight&#34;: &#34;3.6kg&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  },
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;public&#34;: false
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div><p>Create the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/asset.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Cat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;My Cat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.6kg&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:35:13Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;proof_mechanism&#34;</span><span class="p">:</span> <span class="s2">&#34;MERKLE_LOG&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="updating-an-asset-attribute">Updating an Asset Attribute</h4>
<p>To update an Asset attribute, record an Event and enter the new value. Here we will update the weight of the cat from the previous example.</p>
<p>See the 
<a href="https://docs.datatrails.ai/developers/api-reference/events-api/" target="_blank" rel="noopener">Events API reference</a> for more information about Events.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>   
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><p>POST the Event to update the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><h4 id="creating-a-public-asset">Creating a Public Asset</h4>
<blockquote class="warning callout">
    <div><strong></strong> <strong>Warning</strong>: Assets can only be made public at Asset creation and cannot be made private afterwards.</div>
  </blockquote>
<p>In most cases it is appropriate to create a standard Asset. These Assets can only be shared externally using Access Policies as described in 
<a href="/platform/administration/sharing-access-outside-your-tenant/">Sharing Assets with OBAC</a> or the 
<a href="../iam-policies-api/">IAM Policies API Reference</a>.</p>
<p>However, it is also possible to create a Public Asset which can be shared with a read-only public url; similar to the link sharing you may have seen in file sharing services like Google Drive or DropBox.</p>
<p>Public Assets can be used for Public Attestation, where you may wish to publicly assert data you have published.</p>
<p>For example, the vulnerability reports against an OpenSource software package, or perhaps the maintenance records for a public building.</p>
<p>Creating a Public Asset just requires flipping the <code>public</code> value in the above request to <code>true</code>. From then on, <strong>only</strong> the creating Tenancy may update the Asset and Events on a Public Asset through their private, signed-in interface.</p>
<p>All Public Assets are then given a read-only public URL that can be retrieved using 
<a href="./#fetch-a-public-assets-url">Fetch a Public Asset&rsquo;s URL</a>, any Events added to that Public Asset will also get their own unique Public URL that can be retrieved with 
<a href="./#fetch-a-public-assets-event-url">Fetch a Public Asset&rsquo;s Event URL</a>.</p>
<p>This link can be shared with anyone to give them read-only access to the Asset or Event without the need to sign in.</p>
<p>To interact with the unauthenticated Public Interface for a Public Asset see the 
<a href="../public-assets-api/">Public Assets API Reference</a>. To update the Assets and Events as the creating Tenant on a Public Asset&rsquo;s authenticated Private Interface, you would still use the standard Assets and Events API as normal.</p>
<h4 id="creating-a-document-profile-asset">Creating a Document Profile Asset</h4>
<p>This class of Asset conforms to the 
<a href="/developers/developer-patterns/document-profile/">Document Profile Developer Pattern</a>, which allows you to trace the lifecycle of a document.</p>
<p>Define the asset parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Marketing glossy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span><span class="s2">&#34;Test Document Profile Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span><span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span><span class="s2">&#34;anything you like&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note</strong>: Document Profile Assets must be set to <code>public</code> to be compatible with 
<a href="/platform/overview/instaproof/">Instaproof</a> verification.</div>
  </blockquote>
<p>Create the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_profile&#34;</span><span class="p">:</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;anything you like&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Marketing glossy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Test Document Profile Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;sha256&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T11:32:22Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="asset-record-retrieval">Asset Record Retrieval</h3>
<p>Asset records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><p>If you do not know the Asset’s identity you can fetch Asset records using other information you do know.</p>
<h4 id="fetch-all-assets">Fetch All Assets</h4>
<p>To fetch all Asset records, simply <code>GET</code> the Assets resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets?page_size<span class="o">=</span><span class="m">5</span>
</span></span></code></pre></div><h4 id="fetch-specific-asset-by-identity">Fetch Specific Asset by Identity</h4>
<p>If you know the unique identity of the Asset record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><h4 id="fetch-specific-asset-at-given-point-in-time-by-identity">Fetch Specific Asset at Given Point in Time by Identity</h4>
<p>If you know the unique identity of an Asset record and want to show its state at any given point in the past, simply <code>GET</code> with the following query parameter:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx?at_time=2021-01-13T12:34:21Z&#34;</span>
</span></span></code></pre></div><p>This will return the Asset record with the values it had on <code>2021-01-13T12:34:21Z</code>.</p>
<h4 id="fetch-assets-by-name">Fetch Assets by Name</h4>
<p>To fetch all Assets with a specific name, GET the Assets resource and filter on <code>arc_display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name=tcl.ccj.003&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-type">Fetch Assets by Type</h4>
<p>To fetch all Assets of a specific type, <code>GET</code> the Assets resource and filter on <code>arc_display_type</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_type=Traffic%20light&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-proof-mechanism">Fetch Assets by Proof Mechanism</h4>
<p>To fetch all Assets that use a specific Proof Mechanism, <code>GET</code> the Assets resource and filter on <code>proof_mechanism</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?proof_mechanism=MERKLE_LOG&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-ordered-for-simplehashv1-schema">Fetch Events Ordered for SIMPLEHASHV1 Schema</h4>
<p>To fetch Simple Hash Events in the order needed for the 
<a href="https://github.com/datatrails/datatrails-simplehash-python" target="_blank" rel="noopener">SIMPLEHASHV1 schema</a>, <code>GET</code> the Assets resource, specifying a specific Asset ID or using <code>assets/-/events</code> to fetch Events for all Assets:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?order_by=SIMPLEHASHV1&#34;</span>
</span></span></code></pre></div><h4 id="fetch-assets-by-filtering-for-presence-of-a-field">Fetch Assets by Filtering for Presence of a Field</h4>
<p>To fetch all Assets with a field set to any value, <code>GET</code> the Assets resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name=*&#34;</span>
</span></span></code></pre></div><p>Returns all Assets which have <code>arc_display_name</code> that is not empty.</p>
<h4 id="fetch-assets-which-are-missing-a-field">Fetch Assets Which are Missing a Field</h4>
<p>To fetch all Assets with a field which is not set to any value, <code>GET</code> the Assets resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets?attributes.arc_display_name!=*&#34;</span>
</span></span></code></pre></div><p>Returns all Assets which do not have <code>arc_display_name</code> or in which <code>arc_display_name</code> is empty.</p>
<h4 id="fetch-a-public-assets-url">Fetch a Public Asset&rsquo;s URL</h4>
<p>Fetch the Public URL of a Public Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:publicurl
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;publicurl&#34;</span><span class="p">:</span><span class="s2">&#34;https://app.datatrails.ai/archivist/publicassets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="fetch-a-public-assets-event-url">Fetch a Public Asset&rsquo;s Event URL</h4>
<p>Fetch the Public URL of an Event on a Public Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:publicurl
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;publicurl&#34;</span><span class="p">:</span><span class="s2">&#34;https://app.datatrails.ai/archivist/publicassets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="tracking-and-untracking-assets">Tracking and Untracking Assets</h3>
<p>While deleting Assets is not possible, it is possible to hide them from default searches so that old or obsolete records don&rsquo;t crowd out the tenant estate or show up in partner tenancies when they shouldn&rsquo;t.</p>
<h4 id="untracking-an-asset">Untracking an Asset</h4>
<p>Untracking is actually an Event in the Asset lifecycle, so it is necessary to know the Asset identity and POST to it directly. Here we assume we are working with an Asset with identity <code>assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>.</p>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StopTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Untrack the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StopTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="re-tracking-an-asset">(Re-)Tracking an Asset</h4>
<p>It is possible to reverse an untracking Event by tracking the Asset again, assuming you know the Asset identity. Here we assume we are working with an Asset with identity <code>assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>.</p>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StartTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Track the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;StartTracking&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-23T19:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="asset-openapi-docs">Asset OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for asset and event management.</p>
    </div>
      <div class="accordion" id='Assets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API1' aria-expanded="true" aria-controls='collapseAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>List Assets</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Assets</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API1' aria-expanded="true" aria-controls='collapserequestAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Assets exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header if the &lsquo;x-request-total-count&rsquo; header on the request is set to &rsquo;true&rsquo;. The exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;. Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Assets for the given proof mechanism has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Assets.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API2' aria-expanded="true" aria-controls='collapseAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>Create an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Asset</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "proof_mechanism": "MERKLE_LOG",
  "public": false
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviours</th>
                                    <td>array</td>
                                    
                                      <td>list of behaviours enabled for this asset</td>
                                    
                                  
                                  <tr>
                                    <th>chain_id</th>
                                    <td>string</td>
                                    
                                      <td>chain id of the blockchain associated with this asset</td>
                                    
                                  
                                  <tr>
                                    <th>proof_mechanism</th>
                                    <td>string</td>
                                    
                                      <td>specify the mechanism used to provide evidential proof for Events on this Asset</td>
                                    
                                  
                                  <tr>
                                    <th>public</th>
                                    <td>boolean</td>
                                    
                                      <td>Public asset. A public asset and all its events are visible to the general public.Sharing to specific organisations is not available for public assets.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user either has not enabled blockchain storage orthe number of assets would exceed the user&rsquo;s quota</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an Asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API3' aria-expanded="true" aria-controls='collapseAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Event</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API3' aria-expanded="true" aria-controls='collapserequestAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view Event.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API4' aria-expanded="true" aria-controls='collapseAssets_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerAssets_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Event public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Event.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API4' aria-expanded="true" aria-controls='collapserequestAssets_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API5' aria-expanded="true" aria-controls='collapseAssets_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerAssets_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API5' aria-expanded="true" aria-controls='collapserequestAssets_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API6' aria-expanded="true" aria-controls='collapseAssets_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerAssets_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Events</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Events</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API6' aria-expanded="true" aria-controls='collapserequestAssets_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Events exceeds the server&rsquo;s limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Events.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API7' aria-expanded="true" aria-controls='collapseAssets_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerAssets_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>Creates an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Event</p>

                      
                        
                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "behaviour": "RecordEvidence",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "operation": "Record"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of asset attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviour</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>event_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>operation</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>principal_declared</th>
                                    <td></td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>timestamp_declared</th>
                                    <td>string</td>
                                    
                                      <td>time of event as declared by the user</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Events has been reached.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API8'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API8' aria-expanded="true" aria-controls='collapseAssets_API8'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerAssets_API8' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Asset public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Asset.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API8'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API8' aria-expanded="true" aria-controls='collapserequestAssets_API8'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API8' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:28,href:"https://docs.datatrails.ai/developers/api-reference/attachments-api/",title:"Attachments API",description:"Attachments API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.io" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="attachment-api-examples">Attachment API Examples</h2>
<p>The Attachments API enables you to query Binary Large OBjects (BLOBs) such as documents, process artifacts and images that are attached to your evidence ledger. For details of how to actually attach these BLOBs to Events and Assets, see the 
<a href="../events-api/#adding-attachments">the Events API Reference</a>.</p>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="retrieve-a-specific-attachment-on-an-asset">Retrieve a Specific Attachment on an Asset</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h3 id="retrieve-a-specific-attachment-on-an-event">Retrieve a Specific Attachment on an Event</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/events/de834094-f6c3-4e38-9b37-8c61dea312c9/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h3 id="retrieve-information-about-a-specific-attachment">Retrieve Information About a Specific Attachment</h3>
<p>It’s also possible to retrieve information about specific attachment using this API.</p>
<p>This information includes the <code>scanned_status</code> of the attachment. Attachment scanning happens each day.</p>
<p>To do so, simply issue a request as above with the suffix <code>/info</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/attachments/assets/c04d5ecf-02e0-4be2-a014-ffbbf0e8ddeb/08838336-c357-460d-902a-3aba9528dd22/info
</span></span></code></pre></div><p>The response will include basic information about the attachment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;75debbfc7a4d988f2321dfb158fe65c62dabe50d4d7b6efb961e83be43a8aa77&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;attachments/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="attachment-openapi-docs">Attachment OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading attachments.</p>
    </div>
      <div class="accordion" id='Attachments_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API1' aria-expanded="true" aria-controls='collapseAttachments_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API1' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an event attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an event attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API2' aria-expanded="true" aria-controls='collapseAttachments_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API2' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAttachments_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAttachments_API2' aria-expanded="true" aria-controls='collapserequestAttachments_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAttachments_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAttachments_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API3' aria-expanded="true" aria-controls='collapseAttachments_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API3' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an asset attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an asset attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAttachments_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAttachments_API4' aria-expanded="true" aria-controls='collapseAttachments_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAttachments_API4' class="accordion-collapse collapse" aria-labelledby='headerAttachments_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/assets/archivist/v2/attachments/assets/{asset_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAttachments_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAttachments_API4' aria-expanded="true" aria-controls='collapserequestAttachments_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAttachments_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAttachments_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>



 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading attachments from public Assets.</p>
    </div>
      <div class="accordion" id='Public_Attachments_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API1' aria-expanded="true" aria-controls='collapsePublic_Attachments_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API1' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an event attachment from public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an event attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API2' aria-expanded="true" aria-controls='collapsePublic_Attachments_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API2' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/events/{event_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment from a public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; event atttribute.</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublic_Attachments_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublic_Attachments_API2' aria-expanded="true" aria-controls='collapserequestPublic_Attachments_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublic_Attachments_API2' class="accordion-collapse collapse" aria-labelledby='headerresponsePublic_Attachments_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the event.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API3' aria-expanded="true" aria-controls='collapsePublic_Attachments_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API3' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}</span></h4>
                      </div>
                      <h5>Downloads an public asset attachment.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads an asset attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublic_Attachments_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublic_Attachments_API4' aria-expanded="true" aria-controls='collapsePublic_Attachments_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublic_Attachments_API4' class="accordion-collapse collapse" aria-labelledby='headerPublic_Attachments_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/attachments/publicassets/archivist/v2/attachments/publicassets/{asset_uuid}/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve metadata on an attachment from a public asset.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieve metadata on an attachment, if the given attachment is present in the &lsquo;arc_attachments&rsquo; asset atttribute.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublic_Attachments_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublic_Attachments_API4' aria-expanded="true" aria-controls='collapserequestPublic_Attachments_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublic_Attachments_API4' class="accordion-collapse collapse" aria-labelledby='headerresponsePublic_Attachments_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>404</th><td>Returned when the underlying system can&rsquo;t find the asset.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

</p>
`}).add({id:29,href:"https://docs.datatrails.ai/developers/api-reference/blobs-api/",title:"Blobs API",description:"Blobs API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="blob-api-examples">Blob API Examples</h2>
<p>The Blobs API enables you to upload Binary Large OBjects (BLOBs) such as documents, process artifacts and images to attach to your evidence ledger.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Blobs cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment. Take note of the Blob ID returned in the API response, it will be needed for use with Assets and Events.<br>
For information on Attachments and how to implement them, please refer to 
<a href="../events-api/#adding-attachments">the Events API Reference</a>.</div>
  </blockquote>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="upload-a-blob">Upload a Blob</h3>
<p>Upload the blob stored at /path/to/file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=image/jpg&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -F <span class="s2">&#34;file=@/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxx&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="retrieve-a-blob">Retrieve a Blob</h3>
<p>Retrieve a specific Blob:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;content_type=image/jpg&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --output <span class="s2">&#34;/path/to/file&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/blobs/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hash&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxx&#34;</span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/&lt;blob-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;local&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mime_type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">81254</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;user@datatrails.ai&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenantid&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-06T16:04:31Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_status&#34;</span><span class="p">:</span> <span class="s2">&#34;NOT_SCANNED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_bad_reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scanned_timestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="blobs-openapi-docs">Blobs OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for uploading and downloading blobs.</p>
    </div>
      <div class="accordion" id='Blobs_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API1' aria-expanded="true" aria-controls='collapseBlobs_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API1' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs</span></h4>
                      </div>
                      <h5>Upload.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Uploads a blob.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseBlobs_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseBlobs_API1' aria-expanded="true" aria-controls='collapserequestBlobs_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseBlobs_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseBlobs_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the number of blobs would exceed the user&rsquo;s quota or the size of the blob exceeds the user&rsquo;s allocation.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a blob.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API2' aria-expanded="true" aria-controls='collapseBlobs_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API2' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs/{uuid}</span></h4>
                      </div>
                      <h5>Download.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Downloads a blob.</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerBlobs_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseBlobs_API3' aria-expanded="true" aria-controls='collapseBlobs_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/blobs/archivist/v1/blobs/{uuid}/info</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseBlobs_API3' class="accordion-collapse collapse" aria-labelledby='headerBlobs_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/blobs/archivist/v1/blobs/{uuid}/info</span></h4>
                      </div>
                      <h5>Retrieve blob metadata.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns metadata information on a blob.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseBlobs_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseBlobs_API3' aria-expanded="true" aria-controls='collapserequestBlobs_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseBlobs_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseBlobs_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "hash": {
    "alg": "SHA256",
    "value": "xxxxxxxxxxxxxxxxxxxxxxx"
  },
  "identity": "blobs/08838336-c357-460d-902a-3aba9528dd22",
  "issuer": "xxxx@example.com",
  "mime_type": "image/jpeg",
  "scanned_bad_reason": "",
  "scanned_status": "SCANNED_OK",
  "scanned_timestamp": "2019-11-07T15:31:49Z",
  "size": 31424,
  "subject": "user-xxxx@example.com",
  "tenantid": "tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "timestamp_accepted": "2019-11-07T15:31:49Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>hash</th>
                                  <td></td>
                                  
                                    <td>blob hash.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>blob identity.</td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>principal issuer.</td>
                                  
                                
                                <tr>
                                  <th>mime_type</th>
                                  <td>string</td>
                                  
                                    <td>http mime type.</td>
                                  
                                
                                <tr>
                                  <th>scanned_bad_reason</th>
                                  <td>string</td>
                                  
                                    <td>if scanned as SCANNED_BAD contains a hint of scan result.</td>
                                  
                                
                                <tr>
                                  <th>scanned_status</th>
                                  <td>string</td>
                                  
                                    <td>status of scan.</td>
                                  
                                
                                <tr>
                                  <th>scanned_timestamp</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the attachments has been scanned.</td>
                                  
                                
                                <tr>
                                  <th>size</th>
                                  <td>integer</td>
                                  
                                    <td>size of the blob.</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>principal subject.</td>
                                  
                                
                                <tr>
                                  <th>tenantid</th>
                                  <td>string</td>
                                  
                                    <td>identity of the tenant the blob belongs to.</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>date and time when the request has been received.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to get the blob metadata.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:30,href:"https://docs.datatrails.ai/developers/api-reference/compliance-api/",title:"Compliance API",description:"Compliance API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="compliance-api-examples">Compliance API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="types-of-compliance-policies">Types of Compliance Policies</h3>
<p>Compliance posture is measured against user-defined rule sets called Compliance Policies.</p>
<p>Compliance Policies are created once and then Assets can be tested against them at any point in time.</p>
<p>For instance, a policy might state that “Maintenance Alarm Events must be addressed with a Maintenance Report Event recorded in 72 hours”.</p>
<p>This creates a Compliance Policy object in the system against which any Asset can be tested as needed.</p>
<p>DataTrails allows users to define Compliance Policies of the following types:</p>
<h4 id="compliance_since">COMPLIANCE_SINCE</h4>
<p>This Compliance Policy checks if the time since the last occurrence of a specific Event type has elapsed a specified threshold.</p>
<p>For example “Time since last Maintenance must be less than 72 hours”:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_SINCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance should be performed every 72h&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Regular Maintenance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event we want to check with this Compliance Policy</td>
</tr>
<tr>
<td><code>time_period_seconds</code></td>
<td>The maximum amount of time allowed since a specified Event type last occurred, in seconds</td>
</tr>
</tbody>
</table>

<h4 id="compliance_current_outstanding">COMPLIANCE_CURRENT_OUTSTANDING</h4>
<p>This Compliance Policy will only pass if there is an associated closing event addressing a specified outstanding Event.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, defining pairs of Events like <code>Maintenance Request</code> and <code>Maintenance Performed</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
</tbody>
</table>

<h4 id="compliance_period_outstanding">COMPLIANCE_PERIOD_OUTSTANDING</h4>
<p>This Compliance Policy will only pass if the time between a pair of correlated Events did not exceed the defined threshold.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, a policy checking that the time between <code>Maintenance Request</code> and <code>Maintenance Performed</code> Events does not exceed the maximum 72 hours:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_PERIOD_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
<tr>
<td><code>time_period_seconds</code></td>
<td>Maximum amount of time that can elapse between associated Events, in seconds</td>
</tr>
</tbody>
</table>

<h4 id="compliance_dynamic_tolerance">COMPLIANCE_DYNAMIC_TOLERANCE</h4>
<p>This Compliance Policy will only pass if the time between correlated Events is not excessively different to the observed average normal duration for similar Events.</p>
<p>To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To properly track and assess Events, the <code>arc_correlation_value</code> should be unique to each pair of Events.</div>
  </blockquote>
<p>For example, a policy checking that the time between <code>Maintenance Request</code> and <code>Maintenance Performed</code> Events in the last week does not exceed a variability of 0.5 standard deviations around the mean:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_DYNAMIC_TOLERANCE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Average time between Maintenance Requested/Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outlying Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_window&#34;</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dynamic_variability&#34;</span><span class="p">:</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event_display_type</code></td>
<td>Type of Event that should be addressed by the Event defined in <code>closing_event_display_type</code></td>
</tr>
<tr>
<td><code>closing_event_display_type</code></td>
<td>Type of Event addressing the Event defined in <code>event_display_type</code></td>
</tr>
<tr>
<td><code>dynamic_window</code></td>
<td>Number of seconds in the past - only Events in this time window are considered</td>
</tr>
<tr>
<td><code>dynamic_variability</code></td>
<td>Exceeding this number of standard deviations from the mean will cause compliance to fail for a particular pair of matching Events</td>
</tr>
</tbody>
</table>

<h4 id="compliance_richness">COMPLIANCE_RICHNESS</h4>
<p>This Compliance Policy will only pass if attributes are within expected bounds or otherwise meet defined conditions.</p>
<p>An assertion is comprised of: an attribute name, a comparison value and an operator to compare with; for example <code>rad&lt;7</code>.</p>
<p>The operator can be one of six relational operators: equal to, not equal to, greater than, less than, greater than or equal to, less than or equal to; <code>[=|!=|&gt;|&lt;|&gt;=|&lt;=]</code>.</p>
<p>Assertions are comprised of two lists, an inner list and outer list. The inner list states that, if any of the assertions pass, then the list is compliant (<code>OR</code> logic). For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span><span class="err">“or”:</span> <span class="err">[“rad&lt;7”,</span> <span class="err">“rad=10”]</span><span class="p">}</span><span class="err">.</span> 
</span></span></code></pre></div><p>The outer list states that, all inner lists need to be compliant in order for the policy to be compliant (<code>AND</code> logic).</p>
<p>Compliance is a signal, not a perfect answer. Therefore equivalence of floats is exact, not approximate.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_RICHNESS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad level is less than 7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Rad limit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;richness_assertions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;rad&lt;7&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>




<table class='table table-striped table-bordered'>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>richness_assertions</code></td>
<td>The assertions to be made, against Asset attributes, to check if the Asset is compliant.</td>
</tr>
</tbody>
</table>

<h3 id="compliance-policy-creation">Compliance Policy Creation</h3>
<p>Create a Compliance Policy with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance_policies
</span></span></code></pre></div><p>Using data from <code>/path/to/jsonfile</code> in the format described in 
<a href="#types-of-compliance-policies">Types of Compliance Policies</a>.</p>
<p>Sample response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;compliance_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance_type&#34;</span><span class="p">:</span> <span class="s2">&#34;COMPLIANCE_CURRENT_OUTSTANDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;There should be no outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Outstanding Maintenance Requests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_filter&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_home_location_identity=locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Maintenance Request&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;closing_event_display_type&#34;</span><span class="p">:</span>  <span class="s2">&#34;Maintenance Performed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;time_period_seconds&#34;</span><span class="p">:</span> <span class="s2">&#34;259200&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="checking-compliance">Checking Compliance</h3>
<p>The compliance v1 endpoint reports on the status of an Asset’s compliance with Compliance Policies.</p>
<p>Query the endpoint:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/compliance/assets/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><p>or if determining compliance at some historical date:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/compliance/assets/6a951b62-0a26-4c22-a886-1082297b063b?compliant_at=2019-11-27T14:44:19Z&#34;</span>
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliant&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliance&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;compliance_policy_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;compliance_policies/0000-0000-000000000-00000000&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;compliant&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;reason&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compliant_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="compliance-openapi-docs">Compliance OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Compliance.</p>
    </div>
      <div class="accordion" id='Compliance_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_API1' aria-expanded="true" aria-controls='collapseCompliance_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance/assets/archivist/v1/compliance/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_API1' class="accordion-collapse collapse" aria-labelledby='headerCompliance_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance/assets/archivist/v1/compliance/assets/{uuid}</span></h4>
                      </div>
                      <h5>List all compliance status relevant to an asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: </p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_API1' aria-expanded="true" aria-controls='collapserequestCompliance_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "compliance": [
    {
      "compliance_policy_identity": "compliance_policies/0000-0000-000000000-00000000",
      "compliant": false
    }
  ],
  "compliant": false,
  "compliant_at": "2019-11-27T14:44:19Z"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>compliance</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>simple compliance status against a compliance policy.</td>
                                  
                                
                                <tr>
                                  <th>compliant</th>
                                  <td>boolean</td>
                                  
                                    <td>overall compliance status for the asset</td>
                                  
                                
                                <tr>
                                  <th>compliant_at</th>
                                  <td>string</td>
                                  
                                    <td>time at which compliance is determined</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of compliance statements exceeds the servers limit.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the no asset with the provided id can be found.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Compliance Policies.</p>
    </div>
      <div class="accordion" id='Compliance_Policies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API1' aria-expanded="true" aria-controls='collapseCompliance_Policies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API1' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span></h4>
                      </div>
                      <h5>List Compliance Policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Compliance Policies</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API1' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "compliance_policies": [
    {
      "asset_filter": [
        {
          "or": [
            "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
          ]
        }
      ],
      "compliance_type": "COMPLIANCE_SINCE",
      "description": "sample compliance policy",
      "display_name": "my compliance policy",
      "event_display_type": "tracked event",
      "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
      "time_period_seconds": 86400
    }
  ],
  "next_page_token": "NDYzZmFiM2EtYmFlNS00MzQ5LThmNzYtZjY0NTRkYTIwYzlkCg=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>compliance_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>compliance policy</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API2' aria-expanded="true" aria-controls='collapseCompliance_Policies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies</span></h4>
                      </div>
                      <h5>Create a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates a Compliance Policy</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestCompliance_Policies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestCompliance_Policies_API2' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestCompliance_Policies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_filter</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                  <tr>
                                    <th>closing_event_display_type</th>
                                    <td>string</td>
                                    
                                      <td>this is the correlated event type - required except for RICHNESS policy type</td>
                                    
                                  
                                  <tr>
                                    <th>compliance_type</th>
                                    <td></td>
                                    
                                      <td>policy type</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Customer description of the compliance policy.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>display name</td>
                                    
                                  
                                  <tr>
                                    <th>dynamic_variability</th>
                                    <td>number</td>
                                    
                                      <td>number of standard deviations - required for DYNAMIC_TOLERANCE</td>
                                    
                                  
                                  <tr>
                                    <th>dynamic_window</th>
                                    <td>string</td>
                                    
                                      <td>valid period for policy - required for DYNAMIC_TOLERANCE</td>
                                    
                                  
                                  <tr>
                                    <th>event_display_type</th>
                                    <td>string</td>
                                    
                                      <td>this is the target event_display_type - required except for RICHNESS policy type</td>
                                    
                                  
                                  <tr>
                                    <th>richness_assertions</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                  <tr>
                                    <th>time_period_seconds</th>
                                    <td>string</td>
                                    
                                      <td>time delta - required for SINCE and PERIOD_OUTSTANDING</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API2' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of compliance policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API3' aria-expanded="true" aria-controls='collapseCompliance_Policies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API3' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span></h4>
                      </div>
                      <h5>Delete a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes a Compliance Policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API3' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCompliance_Policies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCompliance_Policies_API4' aria-expanded="true" aria-controls='collapseCompliance_Policies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCompliance_Policies_API4' class="accordion-collapse collapse" aria-labelledby='headerCompliance_Policies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/compliance_policies/archivist/v1/compliance_policies/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves a Compliance Policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Compliance Policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseCompliance_Policies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseCompliance_Policies_API4' aria-expanded="true" aria-controls='collapserequestCompliance_Policies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseCompliance_Policies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseCompliance_Policies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_filter": [
    {
      "or": [
        "attributes.arc_location_identity:locations/5eef2b71-35c1-4376-a166-6c64bfa72f4b"
      ]
    }
  ],
  "compliance_type": "COMPLIANCE_SINCE",
  "description": "Ensure Maintenance is performed daily",
  "display_name": "Daily Maintenance",
  "event_display_type": "Maintenance Performed",
  "identity": "compliance_policies/463fab3a-bae5-4349-8f76-f6454da20c9d",
  "time_period_seconds": 86800
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_filter</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>closing_event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>compliance_type</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_variability</th>
                                  <td>number</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>dynamic_window</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>event_display_type</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>richness_assertions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>time_period_seconds</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the requested resource.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:31,href:"https://docs.datatrails.ai/developers/api-reference/events-api/",title:"Events API",description:"Events API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="events-api-examples">Events API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> You will need to create an Asset first in order to submit Events against it.
The dependency on Assets is being deprecated.
In a future release, Events will be created independently from Assets.</div>
  </blockquote>
<h3 id="asset-reference">Asset Reference</h3>
<p>Capture the Asset ID by which the events will be associated.
See 
<a href="../assets-api/#fetch-all-assets">Fetch All Assets</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">ASSET_UUID</span><span class="o">=</span>&lt;ASSET_UUID&gt;
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> DataTrails will soon be moving to an event centric design, removing the need to create and reference Assets to hold your Event collections.</div>
  </blockquote>
<h3 id="event-creation">Event Creation</h3>
<ul>
<li>
<p>Define the Event parameters and store in <code>/tmp/event.json</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; /tmp/event.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;operation&#34;: &#34;Record&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;behaviour&#34;: &#34;RecordEvidence&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;event_attributes&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;arc_display_type&#34;: &#34;Safety Conformance&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;Safety Rating&#34;: &#34;90&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;inspector&#34;: &#34;Clouseau&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  }
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div></li>
</ul>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> <code>RecordEvidence</code> is the primary, default behavior for creating Events.</div>
  </blockquote>
<ul>
<li>
<p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="p">|</span> jq
</span></span></code></pre></div></li>
<li>
<p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;inspector&#34;</span><span class="p">:</span> <span class="s2">&#34;Clouseau&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;Safety Rating&#34;</span><span class="p">:</span> <span class="s2">&#34;90&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:45:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-09-04T23:45:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;my-integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p>To query the events jump to 
<a href="#fetch-events-for-a-specific-asset">Fetch Specific Events by Identity</a></p>
</li>
</ul>
<h3 id="updating-an-asset-attribute">Updating an Asset Attribute</h3>
<p>To update an Asset attribute, record an Event and enter the new value. Here we will update the weight of the cat Asset created in the 
<a href="https://docs.datatrails.ai/developers/api-reference/assets-api/#asset-record-creation" target="_blank" rel="noopener">Assets API reference</a> example.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>   
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>POST the Event to update the Asset:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;groom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;additional_checks&#34;</span><span class="p">:</span> <span class="s2">&#34;weigh the cat&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;weight&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5kg&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2024-05-30T12:28:50Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Custom Integration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;merklelog_entry&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirm&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;unequivocal&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>    
</span></span></code></pre></div><h3 id="document-profile-event-creation">Document Profile Event Creation</h3>
<p>There are two 
<a href="/developers/developer-patterns/document-profile/">Document Profile Events</a> that are available as part of the document lifecycle. These are to <code>publish</code> a new version and to <code>withdraw</code> the document from use.</p>
<h4 id="publish">Publish</h4>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span><span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span><span class="s2">&#34;sha256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span><span class="s2">&#34;2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Publish version 2 of Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Publish&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;George&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;george@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Zippy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;zippy@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Bungle&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;bungle@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version_authors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;George&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;george@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Zippy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;zippy@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Bungle&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;bungle@rainbow.tv&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish version 2 of Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Publish&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Published&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_version&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;sha256&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T12:55:16Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T12:55:16Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="withdraw">Withdraw</h4>
<p>Define the Event parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span><span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw the Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span><span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@datatrails-bearer.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdraw the Test Document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdraw&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;document_status&#34;</span><span class="p">:</span> <span class="s2">&#34;Withdrawn&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T13:08:32Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-09-27T13:08:32Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.datatrails.ai/appidpv1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;CustomIntegration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;PENDING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="adding-attachments">Adding Attachments</h3>
<p>The following assumes that an attachment has already been uploaded to DataTrails using the 
<a href="../blobs-api">Blob API</a>.</p>
<p>This attachment uuid is generically referred to as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</span></span></code></pre></div><p>Each attachment has an associated hash value and the name of the hash algorithm used that you can also get from the Blob API response.</p>
<p>Once you&rsquo;ve uploaded your file, you can use the <code>&quot;arc_attribute_type&quot;: &quot;arc_attachment&quot;</code> key-value pair within a dictionary of blob information to add the attachment to either your Asset or Event.</p>
<p>The following example shows you usage with both the <code>event_attributes</code> and the <code>asset_attributes</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">cat</span> <span class="err">&gt;</span> <span class="err">/tmp/event.json</span> <span class="err">&lt;&lt;EOF</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety conformance approved for version 1.6. See attached conformance report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_evidence&#34;</span><span class="p">:</span> <span class="s2">&#34;DVA Conformance Report attached&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;photo.jpg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latest_conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Latest Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">EOF</span>
</span></span></code></pre></div><p>Add the request to the Asset Record by POSTing it to the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/tmp/event.json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/assets/<span class="nv">$ASSET_UUID</span>/events
</span></span></code></pre></div><p>The response:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/events/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety Conformance&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Safety conformance approved for version 1.6. See attached conformance report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_evidence&#34;</span><span class="p">:</span> <span class="s2">&#34;DVA Conformance Report attached&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latest_conformance_report&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;safety_conformance.pdf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Latest Conformance Report&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T15:13:21Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T14:44:19Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-11-27T15:15:02Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;idp.synsation.io/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;phil.b@synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;job.idp.server/1234&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;bob@job&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;0x07569&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="event-record-retrieval">Event Record Retrieval</h3>
<p>Event records in DataTrails are tokenized at creation time and referred to in all future API calls by a permanent unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">assets/<span class="nv">$ASSET_UUID</span>/events/<span class="nv">$EVENT_ID</span>
</span></span></code></pre></div><p>If you do not know the Event’s identity you can fetch Event records using other information you do know.</p>
<h4 id="fetch-all-events">Fetch All Events</h4>
<p>To fetch all Event records, simply <code>GET</code> the Events resources:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-for-a-specific-asset">Fetch Events for a Specific Asset</h4>
<p>If you know the unique identity of the Asset record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/</span><span class="nv">$ASSET_UUID</span><span class="s2">/events?page_size=5&#34;</span>
</span></span></code></pre></div><h4 id="fetch-specific-events-by-identity">Fetch Specific Events by Identity</h4>
<p>If you know the unique identity of the Asset and Event record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivst/v2/assets/</span><span class="nv">$ASSET_UUID</span><span class="s2">/events/&lt;EVENT_UUID&gt;&#34;</span>
</span></span></code></pre></div><h4 id="fetch-event-by-type">Fetch Event by Type</h4>
<p>To fetch all Events of a specific type, <code>GET</code> the Events resource and filter on <code>arc_display_type</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type=Software%20Package%20Release&#34;</span>
</span></span></code></pre></div><h4 id="fetch-event-by-asset-attribute">Fetch Event by Asset Attribute</h4>
<p>To fetch all Events of a specific Asset attribute, <code>GET</code> the Events resource and filter on <code>asset_attributes</code> at the Asset level:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?asset_attributes.document_status=Published&#34;</span>
</span></span></code></pre></div><h4 id="fetch-events-by-filtering-for-presence-of-a-field">Fetch Events by Filtering for Presence of a Field</h4>
<p>To fetch all Events with a field set to any value, <code>GET</code> the Events resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type=*&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have <code>arc_display_type</code> that is not empty.</p>
<h4 id="fetch-events-which-are-missing-a-field">Fetch Events Which are Missing a Field</h4>
<p>To fetch all Events with a field which is not set to any value, <code>GET</code> the Events resource and filter on most available fields. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?event_attributes.arc_display_type!=*&#34;</span>
</span></span></code></pre></div><p>Returns all Events which do not have <code>arc_display_type</code> or in which <code>arc_display_type</code> is empty.</p>
<h4 id="fetch-events-by-minimum-confirmation-status">Fetch Events by Minimum Confirmation Status</h4>
<p>To fetch all Events with a specified confirmation status or higher, <code>GET</code> the Events resource and filter on <code>minimum_trust</code>.
For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?minimum_trust=COMMITTED&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have a <code>confirmation_status</code> level of COMMITTED, CONFIRMED or UNEQUIVOCAL.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/assets/-/events?minimum_trust=CONFIRMED&#34;</span>
</span></span></code></pre></div><p>Returns all Events which have a <code>confirmation_status</code> level of CONFIRMED or UNEQUIVOCAL.</p>
<h2 id="events-openapi-docs">Events OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for asset and event management.</p>
    </div>
      <div class="accordion" id='Assets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API1' aria-expanded="true" aria-controls='collapseAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>List Assets</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a list of Assets</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API1' aria-expanded="true" aria-controls='collapserequestAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Assets exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header if the &lsquo;x-request-total-count&rsquo; header on the request is set to &rsquo;true&rsquo;. The exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;. Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Assets for the given proof mechanism has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Assets.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API2' aria-expanded="true" aria-controls='collapseAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets</span></h4>
                      </div>
                      <h5>Create an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Asset</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "proof_mechanism": "MERKLE_LOG",
  "public": false
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviours</th>
                                    <td>array</td>
                                    
                                      <td>list of behaviours enabled for this asset</td>
                                    
                                  
                                  <tr>
                                    <th>chain_id</th>
                                    <td>string</td>
                                    
                                      <td>chain id of the blockchain associated with this asset</td>
                                    
                                  
                                  <tr>
                                    <th>proof_mechanism</th>
                                    <td>string</td>
                                    
                                      <td>specify the mechanism used to provide evidential proof for Events on this Asset</td>
                                    
                                  
                                  <tr>
                                    <th>public</th>
                                    <td>boolean</td>
                                    
                                      <td>Public asset. A public asset and all its events are visible to the general public.Sharing to specific organisations is not available for public assets.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API2' aria-expanded="true" aria-controls='collapserequestAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user either has not enabled blockchain storage orthe number of assets would exceed the user&rsquo;s quota</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an Asset.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API3' aria-expanded="true" aria-controls='collapseAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Event</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API3' aria-expanded="true" aria-controls='collapserequestAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view Event.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API4' aria-expanded="true" aria-controls='collapseAssets_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerAssets_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{asset_uuid}/events/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Event public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Event.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API4' aria-expanded="true" aria-controls='collapserequestAssets_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API5' aria-expanded="true" aria-controls='collapseAssets_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerAssets_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves an Asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API5' aria-expanded="true" aria-controls='collapserequestAssets_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>assets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API6' aria-expanded="true" aria-controls='collapseAssets_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerAssets_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Events</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Events</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API6' aria-expanded="true" aria-controls='collapserequestAssets_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "assets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of Events exceeds the server&rsquo;s limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list Events.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API7' aria-expanded="true" aria-controls='collapseAssets_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerAssets_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}/events</span></h4>
                      </div>
                      <h5>Creates an Event</h5>
                      <p><a href=""></a></p>
                      <p>Description: Creates an Event</p>

                      
                        
                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerrequestAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "behaviour": "RecordEvidence",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "operation": "Record"
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>asset_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of asset attributes</td>
                                    
                                  
                                  <tr>
                                    <th>behaviour</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>event_attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of event attributes</td>
                                    
                                  
                                  <tr>
                                    <th>operation</th>
                                    <td>string</td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>principal_declared</th>
                                    <td></td>
                                    
                                      <td></td>
                                    
                                  
                                  <tr>
                                    <th>timestamp_declared</th>
                                    <td>string</td>
                                    
                                      <td>time of event as declared by the user</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API7' aria-expanded="true" aria-controls='collapserequestAssets_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>assets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of Events has been reached.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerAssets_API8'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseAssets_API8' aria-expanded="true" aria-controls='collapseAssets_API8'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerAssets_API8' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/assets/archivist/v2/assets/{uuid}:publicurl</span></h4>
                      </div>
                      <h5>Retrieves the Asset public url</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves the public url for a specific Asset.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseAssets_API8'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseAssets_API8' aria-expanded="true" aria-controls='collapserequestAssets_API8'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseAssets_API8' class="accordion-collapse collapse" aria-labelledby='headerresponseAssets_API8' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "publicurl": "https://app.datatrails.ai/archivist/v2/publicassets/add30235-1424-4fda-840a-d5ef82c4c96f"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>publicurl</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to view an Asset.</td>
                          
                            <tr><th>404</th><td>Returned when the asset with the id does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:32,href:"https://docs.datatrails.ai/developers/api-reference/iam-policies-api/",title:"IAM Policies API",description:"IAM Policies API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="iam-policies-api-examples">IAM Policies API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<p>An 
<a href="/platform/administration/sharing-access-inside-your-tenant/">ABAC</a> policy is used to share permissions with Non-Administrators within your Tenancy. A Non-Administrator could be a user who has been added using the 
<a href="../invites-api/">Invites API</a> or could be an App Registration used for client credentials, which are created as Non-Root by default.</p>
<p>To create an ABAC Policy, you should use the <code>user_attributes</code> keyword. Specify <code>email</code> for invited users, and <code>subject</code>, using the client-id of your credentials, for App Registrations.</p>
<p>You may also set permissions based on the Custom Claims of an 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">App Registration</a> using JSON Web Tokens (JWTs). To do so, you must include the prefix <code>jwt_</code> followed by the desired claim as one of the <code>user_attributes</code> in the policy. For example, the key <code>jwt_app_reg_role</code> to match on claim <code>app_reg_role</code>.</p>
<p>An 
<a href="/platform/administration/sharing-access-outside-your-tenant/">OBAC</a> policy is used to share with the Administrators of an external organization.</p>
<p>To begin sharing with OBAC, you must first import your collaborator&rsquo;s Organization ID using either the 
<a href="../iam-subjects-api/">IAM Subjects API</a> or the instructions in the 
<a href="/platform/administration/sharing-assets-with-obac/#importing-another-organizations-ids">administration section</a>.</p>
<p>This will return a <code>subjects/&lt;UUID&gt;</code> object you would then specify with the <code>subjects</code> keyword to make it an OBAC Policy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> To accept a Subject import request, both organizations must have imported the other&rsquo;s Subject ID. This acknowledges that the organizations wish to share with each other.</div>
  </blockquote>
<p>As both ABAC and OBAC use the same filter syntax, it is possible to have a mix of internal and external sharing within a single policy.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Learn more about 
<a href="/platform/administration/sharing-access-inside-your-tenant/">ABAC</a> and 
<a href="/platform/administration/sharing-access-outside-your-tenant/">OBAC</a> policies in our DataTrails Basics guides.</div>
  </blockquote>
<h3 id="iam-policy-creation">IAM Policy Creation</h3>
<p>The following example shows how you can mix the <code>user_attributes</code> keyword for ABAC and <code>subjects</code> keyword for OBAC.</p>
<p>Define the access_policies parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Create the Access Policy:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Access polices are applied to the Asset. This means that when a policy is created or updated an Event will be recorded in the audit trail of matching Assets from the Actor <code>Archivist Internal</code>.</div>
  </blockquote>
<h3 id="iam-policy-retrieval">IAM Policy Retrieval</h3>
<p>IAM Access Policy records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">access_policies/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Access Policy ID you can fetch IAM Access Policy records using other information you do know, such as the Access Policy name.</p>
<h4 id="fetch-all-iam-access_policies-v1">Fetch all IAM access_policies (v1)</h4>
<p>To fetch all IAM <code>access_policies</code> records, simply <code>GET</code> the <code>iam/access_policies</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies
</span></span></code></pre></div><h4 id="fetch-specific-iam-access-policy-by-identity-v1">Fetch specific IAM access Policy by identity (v1)</h4>
<p>If you know the unique identity of the IAM access policy Record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><h4 id="fetch-iam-access-policies-by-name-v1">Fetch IAM Access Policies by name (v1)</h4>
<p>To fetch all IAM <code>access_policies</code> with a specific name, <code>GET</code> the <code>iam/access_policies</code> resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/access_policies?display_name=Some%20description&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM Access Policies records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_policies&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Name to display&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_display_type=door_access_reader&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-policy-deletion">IAM Policy Deletion</h3>
<p>To delete an IAM Access Policy, issue following request:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{}</span>
</span></span></code></pre></div><h3 id="iam-policy-update">IAM Policy Update</h3>
<p>Define the Access Policy parameters to be changed and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the Access Policy:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/access_policies/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Friendly name of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of the policy&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">]}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes_write&#34;</span><span class="p">:[</span><span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_type&#34;</span><span class="p">,</span> <span class="s2">&#34;toner_colour&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_arc_display_type_write&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;toner_replacement&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="matching-assets-with-iam-policies">Matching Assets with IAM Policies</h3>
<p>IAM Access Policy records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">access_policies/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Access Policy ID you can fetch IAM Access Policy records using other information you do know, such as the Access Policy name.</p>
<h4 id="fetch-all-assets-matching-specific-iam-access-policy-v1">Fetch all Assets Matching Specific IAM Access Policy (v1)</h4>
<p>If you know the unique identity of the IAM Access Policy Record simply GET the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/access_policies/6a951b62-0a26-4c22-a886-1082297b063b/assets
</span></span></code></pre></div><p>Each of these calls returns a list of matching Asset records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;assets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;RecordEvidence&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Pump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_firmware_version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_home_location_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/866790d8-4ed6-4cc9-8f60-07672609b331&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_serial_number&#34;</span><span class="p">:</span> <span class="s2">&#34;vtl-x4-07&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;Pump at A603 North East&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;tcl.ccj.003&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;some_custom_attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;value&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;arc_primary_image&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_attribute_type&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_attachment&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_hash_value&#34;</span><span class="p">:</span> <span class="s2">&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;blobs/1754b920-cf20-4d7e-9d36-9ed7d479744d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_blob_hash_alg&#34;</span><span class="p">:</span> <span class="s2">&#34;SHA256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_file_name&#34;</span><span class="p">:</span> <span class="s2">&#34;somepic.jpeg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;arc_primary_image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="fetch-all-iam-access_policies-matching-specific-asset-v1">Fetch all IAM access_policies Matching Specific Asset (v1)</h4>
<p>If you know the unique identity of the Asset Record simply GET matching policies:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/assets/6a951b62-0a26-4c22-a886-1082297b063b/access_policies
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM <code>access_policies</code> records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;access_policies&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/5ea815f0-4de1-4a84-9377-701e880fe8ae&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_home_location_identity=locations/27eed70b-9e2b-4db1-b8c4-e36505350dcc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Valve&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.arc_display_type=Pump&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;attributes.ext_vendor_name=SynsationIndustries&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>  <span class="s2">&#34;RecordEvidence&#34;</span>  <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;access_policies/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span> <span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;attributes.arc_display_type=door_access_reader&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;access_permissions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;subjects/a24306e5-dc06-41ba-a7d6-2b6b3e1df48d&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;RecordEvidence&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;include_attributes&#34;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&#34;arc_display_name&#34;</span><span class="p">,</span> <span class="s2">&#34;arc_display_type&#34;</span> <span class="p">],</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;user_attributes&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="nt">&#34;or&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;group:maintainers&#34;</span><span class="p">,</span> <span class="s2">&#34;group:supervisors&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="iam-policies-openapi-docs">IAM Policies OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Access Management AccessPolicies.</p>
    </div>
      <div class="accordion" id='IAMAccessPolicies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API1' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span></h4>
                      </div>
                      <h5>List access policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of access_policies</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API1' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_policies": [
    {
      "access_permissions": [
        {
          "asset_attributes_read": [
            "attribute1",
            "attribute2"
          ],
          "behaviours": [
            "behaviour1",
            "behaviour2"
          ],
          "subjects": [
            "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
            "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
          ],
          "user_attributes": [
            {
              "or": [
                "group:maintainers",
                "group:supervisors"
              ]
            }
          ]
        }
      ],
      "display_name": "Some description",
      "filters": [
        {
          "or": [
            "location=basingstoke",
            "location=cambridge"
          ]
        },
        {
          "or": [
            "asset_type=door_access_reader"
          ]
        }
      ],
      "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
    }
  ],
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes an Access Policy for OBAC</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies</span></h4>
                      </div>
                      <h5>Create an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: This request creates a new access policy. The display_name is the friendly name.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestIAMAccessPolicies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestIAMAccessPolicies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "Customers description for the policy",
  "display_name": "Customers name for the policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>access_permissions</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Permissions</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Customer description for the access policy.</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the access policy.</td>
                                    
                                  
                                  <tr>
                                    <th>filters</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>Filter</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API2' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of access policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create an access policy.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API3' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API3' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Delete an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified access policy</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API4' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API4' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Get an access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified access policy</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API4' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API5' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API5' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}</span></h4>
                      </div>
                      <h5>Update a access policy details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified access policy</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API5' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_permissions": [
    {
      "asset_attributes_read": [
        "attribute1",
        "attribute2"
      ],
      "behaviours": [
        "behaviour1",
        "behaviour2"
      ],
      "subjects": [
        "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
        "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
      ],
      "user_attributes": [
        {
          "or": [
            "group:maintainers",
            "group:supervisors"
          ]
        }
      ]
    }
  ],
  "description": "User description for this policy",
  "display_name": "User name for this policy",
  "filters": [
    {
      "or": [
        "location=basingstoke",
        "location=cambridge"
      ]
    },
    {
      "or": [
        "asset_type=door_access_reader"
      ]
    }
  ],
  "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_permissions</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Permissions</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Customer description for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the access policy.</td>
                                  
                                
                                <tr>
                                  <th>filters</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Filter</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the access policy, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenant id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAccessPolicies_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAccessPolicies_API6' aria-expanded="true" aria-controls='collapseIAMAccessPolicies_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}/assets</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAccessPolicies_API6' class="accordion-collapse collapse" aria-labelledby='headerIAMAccessPolicies_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/access_policies/archivist/iam/v1/access_policies/{uuid}/assets</span></h4>
                      </div>
                      <h5>Returns assets matching access policy</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns assets matching access policy</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAccessPolicies_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAccessPolicies_API6' aria-expanded="true" aria-controls='collapserequestIAMAccessPolicies_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAccessPolicies_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAccessPolicies_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "assets": [
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My Garden Fence",
        "arc_display_type": "Garden Fence",
        "colour": "Plain wood"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    },
    {
      "at_time": "2019-11-27T14:44:19Z",
      "attributes": {
        "arc_display_name": "My IoT Device",
        "arc_display_type": "IoT Device",
        "arc_firmware_version": "3.2.1"
      },
      "behaviours": [
        "RecordEvidence"
      ],
      "confirmation_status": "PENDING",
      "identity": "assets/cef61346-2453-5aeb-921c-e6fa93d5b032",
      "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
      "proof_mechanism": "MERKLE_LOG",
      "public": false,
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "tracked": "TRACKED"
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>assets</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Asset.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Assets AccessPolicies.</p>
    </div>
      <div class="accordion" id='IAMAssets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMAssets_API1' aria-expanded="true" aria-controls='collapseIAMAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/assets/archivist/iam/v1/assets/{uuid}/access_policies</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/assets/archivist/iam/v1/assets/{uuid}/access_policies</span></h4>
                      </div>
                      <h5>Get matching access policies</h5>
                      <p><a href=""></a></p>
                      <p>Description: Get matching access policies for specified asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMAssets_API1' aria-expanded="true" aria-controls='collapserequestIAMAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "access_policies": [
    {
      "access_permissions": [
        {
          "asset_attributes_read": [
            "attribute1",
            "attribute2"
          ],
          "behaviours": [
            "behaviour1",
            "behaviour2"
          ],
          "subjects": [
            "subjects/9846b867-3e42-4b5d-af56-bcd62c2126d2",
            "subjects/3907c132-900b-4481-82da-21ffe699ddb9"
          ],
          "user_attributes": [
            {
              "or": [
                "group:maintainers",
                "group:supervisors"
              ]
            }
          ]
        }
      ],
      "display_name": "Some description",
      "filters": [
        {
          "or": [
            "location=basingstoke",
            "location=cambridge"
          ]
        },
        {
          "or": [
            "asset_type=door_access_reader"
          ]
        }
      ],
      "identity": "access_policies/08838336-c357-460d-902a-3aba9528dd22"
    }
  ],
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policies</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes an Access Policy for OBAC</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list the access policy.</td>
                          
                            <tr><th>404</th><td>Returned when the identified access policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:33,href:"https://docs.datatrails.ai/developers/api-reference/iam-subjects-api/",title:"IAM Subjects API",description:"IAM Subjects API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="iam-subjects-api-examples">IAM Subjects API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="iam-subjects-creation">IAM Subjects Creation</h3>
<p>Define the Subject parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> The values for <code>wallet_pub_key</code> and <code>tessera_pub_key</code> are found by decoding the Subject string that is provided by the Tenancy Administrator of the other organization. See the JSON tab 
<a href="https://docs.datatrails.ai/platform/administration/sharing-access-outside-your-tenant/" target="_blank" rel="noopener">here</a> for more detail.</div>
  </blockquote>
<p>Create the IAM Subject:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subjects-retrieval">IAM Subjects Retrieval</h3>
<p>IAM Subject records in DataTrails are tokenized at creation time and referred to in all API calls and smart contracts throughout the system by a unique identity of the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">subjects/12345678-90ab-cdef-1234-567890abcdef
</span></span></code></pre></div><p>If you do not know the Subjects’s identity you can fetch IAM Subject records using other information you do know, such as the Subject’s name.</p>
<h4 id="fetch-all-iam-subjects-v1">Fetch all IAM Subjects (v1)</h4>
<p>To fetch all IAM Subjects records, simply <code>GET</code> the <code>/subjects</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects
</span></span></code></pre></div><h4 id="fetch-specific-iam-subject-by-identity-v1">Fetch specific IAM Subject by identity (v1)</h4>
<p>If you know the unique identity of the IAM Subject record simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects/6a951b62-0a26-4c22-a886-1082297b063b
</span></span></code></pre></div><h4 id="fetch-iam-subjects-by-name-v1">Fetch IAM Subjects by Name (v1)</h4>
<p>To fetch all IAM subjects with a specific name, <code>GET</code> the <code>/subjects</code> resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/iam/v1/subjects?display_name=Acme&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching IAM Subjects records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subjects&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/6a951b62-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/12345678-0a26-4c22-a886-1082297b063b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some other description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key5&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address5&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key7&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subject-deletion">IAM Subject Deletion</h3>
<p>To delete an IAM Subject, issue the following request:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X DELETE <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is <code>{}</code>.</p>
<h3 id="iam-subject-update">IAM Subject Update</h3>
<p>Define the Subject parameters to be changed and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key2&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the IAM Subject:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/iam/v1/subjects/47b58286-ff0f-11e9-8f0b-362b9e155667
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/3f5be24f-fd1b-40e2-af35-ec7c14c74d53&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key3&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="iam-subject-self-entry">IAM Subject Self Entry</h3>
<p>There is an immutable entry in the Subjects API called <code>Self</code> that contains the keys for the hosting organization of the DataTrails Tenant.</p>
<p>This entry cannot be deleted or updated.</p>
<p>This special identity is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">subjects/00000000-0000-0000-0000-000000000000
</span></span></code></pre></div><h4 id="fetch-self-iam-subject-by-identity-v1">Fetch Self IAM Subject by Identity (v1)</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/iam/v1/subjects/00000000-0000-0000-0000-000000000000
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;subjects/00000000-0000-0000-0000-000000000000&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Some description&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;wallet_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;wallet_address&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;address1&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;tessera_pub_key&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;key3&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><h2 id="iam-subjects-openapi-docs">IAM Subjects OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage Identity Access Management Subjects.</p>
    </div>
      <div class="accordion" id='IAMSubjects_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API1' aria-expanded="true" aria-controls='collapseIAMSubjects_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API1' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span></h4>
                      </div>
                      <h5>List subjects</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of subjects</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API1' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "subjects": [
    {
      "confirmation_status": "PENDING",
      "display_name": "Some description",
      "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
      "tessera_pub_key": [
        "key3"
      ],
      "wallet_pub_key": [
        "key1"
      ]
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>subjects</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes Organization including wallet addresses and public keys used to create assets and events.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the subject.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API2' aria-expanded="true" aria-controls='collapseIAMSubjects_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects</span></h4>
                      </div>
                      <h5>Create an subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: This request creates a new subject. The display_name is the friendly name.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestIAMSubjects_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestIAMSubjects_API2' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestIAMSubjects_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "Some description",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the subject.</td>
                                    
                                  
                                  <tr>
                                    <th>tessera_pub_key</th>
                                    <td>array</td>
                                    
                                      <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                    
                                  
                                  <tr>
                                    <th>wallet_pub_key</th>
                                    <td>array</td>
                                    
                                      <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API2' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a subject.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API3' aria-expanded="true" aria-controls='collapseIAMSubjects_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API3' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Delete a subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified subject</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified laccess policy does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API4' aria-expanded="true" aria-controls='collapseIAMSubjects_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API4' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Get an subject</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified subject</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API4' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified subject does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerIAMSubjects_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseIAMSubjects_API5' aria-expanded="true" aria-controls='collapseIAMSubjects_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseIAMSubjects_API5' class="accordion-collapse collapse" aria-labelledby='headerIAMSubjects_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/iam/v1/subjects/archivist/iam/v1/subjects/{uuid}</span></h4>
                      </div>
                      <h5>Update a subject&#39;s details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified subject</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseIAMSubjects_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseIAMSubjects_API5' aria-expanded="true" aria-controls='collapserequestIAMSubjects_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseIAMSubjects_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseIAMSubjects_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "confirmation_status": "PENDING",
  "display_name": "Some description",
  "identity": "subjects/08838336-c357-460d-902a-3aba9528dd22",
  "tessera_pub_key": [
    "key3"
  ],
  "wallet_address": [
    "address1"
  ],
  "wallet_pub_key": [
    "key1"
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the subject.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the subject, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                                <tr>
                                  <th>tessera_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s tessara wallet keys (BNF)</td>
                                  
                                
                                <tr>
                                  <th>wallet_address</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s wallet addresses</td>
                                  
                                
                                <tr>
                                  <th>wallet_pub_key</th>
                                  <td>array</td>
                                  
                                    <td>Organisation&rsquo;s public wallet keys (BNF)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the subject.</td>
                          
                            <tr><th>404</th><td>Returned when the identified subject does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:34,href:"https://docs.datatrails.ai/developers/developer-patterns/scitt-api/",title:"Quickstart: SCITT Statements (Preview)",description:"Getting Started with SCITT: creating a collection of statements  (Preview)",content:`<blockquote class="caution callout">
    <div><strong></strong> The SCITT API is currently in preview and subject to change</div>
  </blockquote>
<p>The <strong>S</strong>upply <strong>C</strong>hain <strong>I</strong>ntegrity, <strong>T</strong>ransparency and <strong>T</strong>rust (SCITT) initiative is a set of 
<a href="https://datatracker.ietf.org/group/scitt/documents/" target="_blank" rel="noopener">IETF standards</a> for managing the compliance and auditability of goods and services across end-to-end supply chains.
SCITT supports the ongoing verification of goods and services where the authenticity of entities, evidence, policy, and artifacts can be assured and the actions of entities can be guaranteed to be authorized, non-repudiable, immutable, and auditable.</p>
<p>To assure insights to supply chain artifacts are current, the SCITT APIs provide a correlation of statements, allowing verifiers to view a full history of statements.
This includes previously registered statements, and newly registered statements providing the most up to date insights.</p>
<p>This quickstart will:</p>
<ol>
<li>create, or use an existing a key to sign a collection of statements about an artifact</li>
<li>create and register a statement for an artifact</li>
<li>query a collection of statements about the artifact</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>
<a href="https://app.datatrails.ai/signup" target="_blank" rel="noopener">A DataTrails subscription</a> with a 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">Token</a> for API access</li>
<li>
<a href="#datatrails-sample-code">DataTrails sample code</a></li>
<li>
<a href="https://www.python.org/downloads/" target="_blank" rel="noopener">Python</a> to run the samples</li>
<li>
<a href="#environment-configuration">Environment Configuration</a></li>
</ul>
<h3 id="datatrails-sample-code">DataTrails Sample Code</h3>
<p>The Quickstart uses existing samples and scripts to focus on the SCITT APIs.</p>
<p>Clone the 
<a href="https://github.com/datatrails/datatrails-scitt-samples" target="_blank" rel="noopener">DataTrails SCITT Examples</a> repository to copy those files to your environment.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/datatrails/datatrails-scitt-samples.git <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="nb">cd</span> datatrails-scitt-samples
</span></span></code></pre></div><h2 id="environment-configuration">Environment Configuration</h2>
<ol>
<li>
<p>Create a Python Virtual Environment for the sample scripts and install the dependencies</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python -m  venv venv <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="nb">source</span> venv/bin/activate <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>pip install --upgrade pip <span class="o">&amp;&amp;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>pip install -r requirements.txt
</span></span></code></pre></div></li>
<li>
<p>To ease copying and pasting commands, update any variables to fit your environment</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># your identity</span>
</span></span><span class="line"><span class="cl"><span class="nv">ISSUER</span><span class="o">=</span><span class="s2">&#34;sample.synsation.io&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># signing key to sign the SCITT Statements</span>
</span></span><span class="line"><span class="cl"><span class="nv">SIGNING_KEY</span><span class="o">=</span><span class="s2">&#34;my-signing-key.pem&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># File representing the signed statement to be registered</span>
</span></span><span class="line"><span class="cl"><span class="nv">SIGNED_STATEMENT_FILE</span><span class="o">=</span><span class="s2">&#34;signed-statement.cbor&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># File representing the transparent statement, which includes the signed statement and the registration receipt</span>
</span></span><span class="line"><span class="cl"><span class="nv">TRANSPARENT_STATEMENT_FILE</span><span class="o">=</span><span class="s2">&#34;transparent-statement.cbor&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Subject is a property used to correlate a collection of statements about an artifact</span>
</span></span><span class="line"><span class="cl"><span class="nv">SUBJECT</span><span class="o">=</span><span class="s2">&#34;my-product-id&#34;</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="create-a-signing-key">Create a Signing Key</h2>
<blockquote class="note callout">
    <div><strong></strong> If you already have a signing key, skip ahead to 
<a href="#generating-a-payload">Generating a Payload</a></div>
  </blockquote>
<p>For the Quickstart, create a testing key which DataTrails will cryptographically validate upon registration</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">openssl ecparam -name prime256v1 -genkey -out <span class="nv">$SIGNING_KEY</span>
</span></span></code></pre></div><h2 id="generate-a-payload">Generate a Payload</h2>
<p>Create any payload you wish to register on DataTrails.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; payload.json <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;author&#34;: &#34;fred&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;title&#34;: &#34;my biography&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;reviews&#34;: &#34;mixed&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div><h2 id="create-a-cose-signed-statement">Create a COSE Signed Statement</h2>
<p>Create a COSE Signed Statement, hashing the content of the <code>payload.json</code> file.
The payload may already be stored in another storage/package manager, which can be referenced with the <code>--location-hint</code> parameter.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/create_hashed_signed_statement.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --content-type <span class="s2">&#34;application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --issuer <span class="nv">$ISSUER</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --payload-file payload.json <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --payload-location <span class="s2">&#34;https://storage.example/</span><span class="nv">$SUBJECT</span><span class="s2">&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --signing-key-file <span class="nv">$SIGNING_KEY</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --subject <span class="nv">$SUBJECT</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --output-file <span class="nv">$SIGNED_STATEMENT_FILE</span>
</span></span></code></pre></div><h2 id="register-the-scitt-statement-on-datatrails">Register the SCITT Statement on DataTrails</h2>
<ol>
<li>
<p>Submit the Signed Statement to DataTrails, using the credentials in the <code>DATATRAILS_CLIENT_ID</code> and <code>DATATRAILS_CLIENT_SECRET</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/register_signed_statement.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --signed-statement-file signed-statement.cbor <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --output-file <span class="nv">$TRANSPARENT_STATEMENT_FILE</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --log-level INFO
</span></span></code></pre></div></li>
<li>
<p>View the Transparent Statement, as a result of registering the Signed Statement</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/dump_cbor.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --input transparent-statement.cbor
</span></span></code></pre></div></li>
<li>
<p>Verify the signature of the receipt</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python scitt/verify_receipt_signature.py <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --transparent-statement-file <span class="nv">$TRANSPARENT_STATEMENT_FILE</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="retrieve-statements-for-the-artifact">Retrieve Statements for the Artifact</h2>
<p>The power of SCITT is the ability to retrieve the history of statements made for a given artifact.
By querying the series of statements, consumers can verify who did what and when for a given artifact.</p>
<ol>
<li>
<p>Query DataTrails for the collection of statements</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H @<span class="nv">$HOME</span>/.datatrails/bearer-token.txt <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  https://app.datatrails.ai/archivist/v2/publicassets/-/events?event_attributes.subject<span class="o">=</span><span class="nv">$SUBJECT</span> <span class="p">|</span> jq
</span></span></code></pre></div></li>
</ol>
<blockquote class="note callout">
    <div><strong></strong> Coming soon: Filter on specific content types, such as what SBOMs have been registered, or which issuers have made statements.</div>
  </blockquote>
<h2 id="summary">Summary</h2>
<p>The quickstart created a collection of statements for a given artifact.
Over time, as new information is available, authors can publish new statements which verifiers and consumers can benefit from, making decisions specific to their environment.</p>
<p>There are no limits to the types of additional statements that may be registered, which may include new vulnerability information, notifications of new versions, end of life (EOL) notifications, or more.
By using the content-type parameter, verifiers can filter to specific types, filter statements by the issuer, or other headers &amp; metadata.</p>
<p>For more information:</p>
<!-- - [DataTrails SCITT API Reference](TBD) -->
<ul>
<li>
<a href="SCITT.io">SCITT.io</a></li>
</ul>
`}).add({id:35,href:"https://docs.datatrails.ai/developers/api-reference/locations-api/",title:"Locations API",description:"Locations API Reference",content:`<p><blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> See 
<a href="/platform/administration/grouping-assets-by-location/">DataTrails Administration</a> for additional information on creating and using locations with DataTrails.</div>
  </blockquote></p>
<h2 id="locations-api-examples">Locations API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="location-creation">Location Creation</h3>
<p>Define the location parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">53.2546799</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.1213956</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Unit 6A, Synsation Park, Maccelsfield&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Create the location to POSTing to the locations resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X POST <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="mf">53.2546799</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="mf">-2.1213956</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Bridgewater, Somerset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="location-retrieval">Location Retrieval</h3>
<h4 id="fetch-all-locations">Fetch All Locations</h4>
<p>To fetch all locations, simply <code>GET</code> the locations resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations
</span></span></code></pre></div><h4 id="fetch-specific-location-by-identity">Fetch Specific Location by Identity</h4>
<p>If you know the unique identity of the location record, simply <code>GET</code> the resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v2/locations/08838336-c357-460d-902a-3aba9528dd22
</span></span></code></pre></div><h4 id="fetch-location-by-name">Fetch Location by Name</h4>
<p>To fetch all locations with a specific name, <code>GET</code> the Assets resource and filter on <code>display_name</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="s2">&#34;https://app.datatrails.ai/archivist/v2/locations?display_name=Macclesfield%2C%20Cheshire&#34;</span>
</span></span></code></pre></div><p>Each of these calls returns a list of matching Asset records in the form:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;locations&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;locations/08838336-c357-460d-902a-3aba9528dd22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacturing site, North West England, Macclesfield, Cheshire&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;latitude&#34;</span><span class="p">:</span> <span class="s2">&#34;53.2546799&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;longitude&#34;</span><span class="p">:</span> <span class="s2">&#34;-2.1213956,14.54&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;director&#34;</span><span class="p">:</span> <span class="s2">&#34;John Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;Bridgewater, Somerset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;Facility Type&#34;</span><span class="p">:</span> <span class="s2">&#34;Manufacture&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;support_email&#34;</span><span class="p">:</span> <span class="s2">&#34;support@macclesfield.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;support_phone&#34;</span><span class="p">:</span> <span class="s2">&#34;123 456 789&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="locations-openapi-docs">Locations OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage locations.</p>
    </div>
      <div class="accordion" id='Locations_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API1' aria-expanded="true" aria-controls='collapseLocations_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API1' class="accordion-collapse collapse" aria-labelledby='headerLocations_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations</span></h4>
                      </div>
                      <h5>List locations</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a paginated list of locations</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API1' aria-expanded="true" aria-controls='collapserequestLocations_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "locations": [
    {
      "attributes": {
        "Facility Type": "Manufacture",
        "address": "Bridgewater, Somerset",
        "director": "John Smith",
        "support_email": "support@macclesfield.com",
        "support_phone": "123 456 789"
      },
      "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
      "display_name": "Macclesfield, Cheshire",
      "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
      "latitude": 53.2546799,
      "longitude": -2.1213956
    },
    {
      "attributes": {
        "Facility Type": "Distribution",
        "address": "Newtown",
        "director": "June Smith",
        "support_email": "support@example.com",
        "support_phone": "321 654 987"
      },
      "description": "Distribution Centre, Wales, Cardiff, Glamorganshire",
      "display_name": "Cardiff, Glamorganshire",
      "identity": "locations/19749457-d468-572c-6e3b-3acb0417ec13",
      "latitude": 51.481583,
      "longitude": -3.17909
    }
  ],
  "next_page_token": "eyJvcmlnX3JlcSI6eyJwYWdlX3NpemUiOjJ9LCJza2lwIjoyfQ=="
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>locations</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Describes a location for asset resources</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the location.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API2' aria-expanded="true" aria-controls='collapseLocations_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">post</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerLocations_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">post</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations</span></h4>
                      </div>
                      <h5>Create a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Create a new location.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestLocations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestLocations_API2' aria-expanded="true" aria-controls='collapserequestLocations_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestLocations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>attributes</th>
                                    <td>object</td>
                                    
                                      <td>key value mapping of location properties</td>
                                    
                                  
                                  <tr>
                                    <th>description</th>
                                    <td>string</td>
                                    
                                      <td>Free text description of the location</td>
                                    
                                  
                                  <tr>
                                    <th>display_name</th>
                                    <td>string</td>
                                    
                                      <td>Customer friendly name for the location.</td>
                                    
                                  
                                  <tr>
                                    <th>latitude</th>
                                    <td>number</td>
                                    
                                      <td>Latitude in decimal degrees format.</td>
                                    
                                  
                                  <tr>
                                    <th>longitude</th>
                                    <td>number</td>
                                    
                                      <td>longitude in decimal degrees format.</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API2' aria-expanded="true" aria-controls='collapserequestLocations_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>402</th><td>Returned when the user&rsquo;s quota of locations policies has been reached.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to create a location.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API3' aria-expanded="true" aria-controls='collapseLocations_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API3' class="accordion-collapse collapse" aria-labelledby='headerLocations_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Delete a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Delete the identified location</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to delete the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API4' aria-expanded="true" aria-controls='collapseLocations_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API4' class="accordion-collapse collapse" aria-labelledby='headerLocations_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Get a location</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns the identified location</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API4' aria-expanded="true" aria-controls='collapserequestLocations_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API5' aria-expanded="true" aria-controls='collapseLocations_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API5' class="accordion-collapse collapse" aria-labelledby='headerLocations_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}</span></h4>
                      </div>
                      <h5>Update a location&#39;s details</h5>
                      <p><a href=""></a></p>
                      <p>Description: Perform a full or partial update of the identified location</p>

                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API5' aria-expanded="true" aria-controls='collapserequestLocations_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "attributes": {
    "Facility Type": "Manufacture",
    "address": "Bridgewater, Somerset",
    "director": "John Smith",
    "support_email": "support@macclesfield.com",
    "support_phone": "123 456 789"
  },
  "description": "Manufacturing site, North West England, Macclesfield, Cheshire",
  "display_name": "Macclesfield, Cheshire",
  "identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "latitude": 53.2546799,
  "longitude": -2.1213956
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>description</th>
                                  <td>string</td>
                                  
                                    <td>Free text description of the location</td>
                                  
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the location.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>Unique identification for the location, Relative Resource Name</td>
                                  
                                
                                <tr>
                                  <th>latitude</th>
                                  <td>number</td>
                                  
                                    <td>Latitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>longitude</th>
                                  <td>number</td>
                                  
                                    <td>Longitude in decimal degrees</td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the location owner</td>
                                  
                                
                                <tr>
                                  <th>tenant</th>
                                  <td>string</td>
                                  
                                    <td>Tenent id</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API6' aria-expanded="true" aria-controls='collapseLocations_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API6' class="accordion-collapse collapse" aria-labelledby='headerLocations_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span></h4>
                      </div>
                      <h5>Get location permissions</h5>
                      <p><a href=""></a></p>
                      <p>Description: Get location permissions for identified location</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API6' aria-expanded="true" aria-controls='collapserequestLocations_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "location_identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "permissions": {
    "subject_identities": [
      "bob@example.com",
      "orgb"
    ]
  }
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>location_identity</th>
                                  <td>string</td>
                                  
                                    <td>The location identity in the form: <code>locations/{uuid}</code></td>
                                  
                                
                                <tr>
                                  <th>permissions</th>
                                  <td></td>
                                  
                                    <td>Subject identities this location is shared with</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to list permissions for the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerLocations_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseLocations_API7' aria-expanded="true" aria-controls='collapseLocations_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseLocations_API7' class="accordion-collapse collapse" aria-labelledby='headerLocations_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v2/locations/archivist/v2/locations/{uuid}/permissions</span></h4>
                      </div>
                      <h5>Patch location permissions</h5>
                      <p><a href=""></a></p>
                      <p>Description: Patch location permissions for identified location</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseLocations_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseLocations_API7' aria-expanded="true" aria-controls='collapserequestLocations_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseLocations_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseLocations_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "location_identity": "locations/08838336-c357-460d-902a-3aba9528dd22",
  "permissions": {
    "subject_identities": [
      "bob@example.com",
      "orgb"
    ]
  }
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>location_identity</th>
                                  <td>string</td>
                                  
                                    <td>The location identity in the form: <code>locations/{uuid}</code></td>
                                  
                                
                                <tr>
                                  <th>permissions</th>
                                  <td></td>
                                  
                                    <td>Subject identities this location is shared with</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access permissions for the location.</td>
                          
                            <tr><th>404</th><td>Returned when the identified location does not exist.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:36,href:"https://docs.datatrails.ai/developers/api-reference/public-assets-api/",title:"Public Assets API",description:"Public Assets API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="public-assets-api-examples">Public Assets API Examples</h2>
<p>Public Assets are created using the 
<a href="../assets-api/">Assets API</a> and setting the value of <code>public</code> to <code>true</code>.</p>
<p>To see more information about creating a Public Asset, see 
<a href="../assets-api/#creating-a-public-asset">Creating a Public Asset</a>.</p>
<p>Each Public Asset has a private and a public interface. The private interface is used to update the Asset by the creating Tenancy and the public interface is a read-only view of the Asset that you do not need to be authenticated for.</p>
<p>The methods described below cover interacting with the public interface only. To interact with the private interface, use the standard 
<a href="../assets-api/">Assets API</a>.</p>
<blockquote class="note callout">
    <div><strong></strong> <strong>Note:</strong> Visit the 
<a href="/platform/overview/public-attestation/">Public Attestation</a> guide for more information.</div>
  </blockquote>
<h3 id="fetch-a-public-asset-record">Fetch a Public Asset Record</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span> <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span> <span class="s2">&#34;AssetCreator&#34;</span><span class="p">]</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;foo&#34;</span><span class="p">:</span> <span class="s2">&#34;bar&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This asset is public&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Public Asset&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-15T14:26:40Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;8275868384&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="fetch-all-of-a-public-assets-events-records">Fetch All Of a Public Asset&rsquo;s Events Records</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4/events
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;events&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/083f90fb-c379-40db-b56a-190564d53cd5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Change&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24.681514884Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/10d252f2-3116-4c22-b34a-7e3f768895c9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_always_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;tessera&#34;</span><span class="p">:</span> <span class="s2">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;wallet&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_asset_attributes_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;0x4609ea6bbe85F61bc64760273ce6D89A632B569f&#34;</span><span class="p">:</span> <span class="s2">&#34;wallet&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">:</span> <span class="s2">&#34;tessera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;attribute&#34;</span><span class="p">:</span> <span class="s2">&#34;*&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_access_policy_event_arc_display_type_read&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;SmL4PHAHXLdpkj/c6Xs+2br+hxqLmhcRk75Hkj5DyEQ=&#34;</span><span class="p">:</span> <span class="s2">&#34;tessera&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="s2">&#34;*&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;0x4609ea6bbe85F61bc64760273ce6D89A632B569f&#34;</span><span class="p">:</span> <span class="s2">&#34;wallet&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;foo&#34;</span><span class="p">:</span> <span class="s2">&#34;bar&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_description&#34;</span><span class="p">:</span> <span class="s2">&#34;This asset is public&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Public Asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Asset&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;NewAsset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;AssetCreator&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:34Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:34Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T13:38:35.143791572Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;next_page_token&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="fetch-a-public-assets-specific-event-record">Fetch a Public Asset&rsquo;s Specific Event Record</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/publicassets/86b61c4b-030e-4c07-9400-463612e6cee4/events/7da272ad-19d5-4106-b4af-2980a84c2721
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4/events/083f90fb-c379-40db-b56a-190564d53cd5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/86b61c4b-030e-4c07-9400-463612e6cee4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;event_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;Change&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;asset_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;A&#34;</span><span class="p">:</span> <span class="s2">&#34;B&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;operation&#34;</span><span class="p">:</span> <span class="s2">&#34;Record&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviour&#34;</span><span class="p">:</span> <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_declared&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_accepted&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timestamp_committed&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-06T14:56:24.681514884Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_declared&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;principal_accepted&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;block_number&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;transaction_index&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;from&#34;</span><span class="p">:</span> <span class="s2">&#34;0x5eC362570D1b52a01648997db5ed7693fc6b3978&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="public-assets-openapi-docs">Public Assets OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API for public asset and event management.</p>
    </div>
      <div class="accordion" id='PublicAssets_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API1' aria-expanded="true" aria-controls='collapsePublicAssets_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{asset_uuid}/events/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{asset_uuid}/events/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves Archivist event for public asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific Archivist event for a public asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API1' aria-expanded="true" aria-controls='collapserequestPublicAssets_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API1' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "asset_attributes": {
    "colour": "Midnight Blue"
  },
  "asset_identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "behaviour": "RecordEvidence",
  "block_number": 12,
  "confirmation_status": "CONFIRMED",
  "event_attributes": {
    "arc_description": "Painted the fence",
    "arc_display_type": "Paint"
  },
  "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
  "operation": "Record",
  "principal_accepted": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "principal_declared": {
    "issuer": "job.idp.server/1234",
    "subject": "bob@job"
  },
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "timestamp_accepted": "2019-11-27T14:44:19Z",
  "timestamp_committed": "2019-11-27T14:44:19Z",
  "timestamp_declared": "2019-11-27T14:44:19Z",
  "transaction_id": "0x07569",
  "transaction_index": 5
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>asset_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset attributes</td>
                                  
                                
                                <tr>
                                  <th>asset_identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a related asset resource <code>publicassets/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>behaviour</th>
                                  <td>string</td>
                                  
                                    <td>The behaviour used to create event. <code>RecordEvidence</code></td>
                                  
                                
                                <tr>
                                  <th>block_number</th>
                                  <td>string</td>
                                  
                                    <td>number of block event was commited on</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the event has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>event_attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of event attributes</td>
                                  
                                
                                <tr>
                                  <th>from</th>
                                  <td>string</td>
                                  
                                    <td>wallet address for the creator of this event</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>identity of a event resource</td>
                                  
                                
                                <tr>
                                  <th>merklelog_entry</th>
                                  <td>object</td>
                                  
                                    <td>verifiable merkle mmr log entry details</td>
                                  
                                
                                <tr>
                                  <th>operation</th>
                                  <td>string</td>
                                  
                                    <td>The operation represented by the event. <code>Record</code></td>
                                  
                                
                                <tr>
                                  <th>principal_accepted</th>
                                  <td>object</td>
                                  
                                    <td>principal recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>principal_declared</th>
                                  <td>object</td>
                                  
                                    <td>principal provided by the user</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this event</td>
                                  
                                
                                <tr>
                                  <th>timestamp_accepted</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded by the server</td>
                                  
                                
                                <tr>
                                  <th>timestamp_committed</th>
                                  <td>string</td>
                                  
                                    <td>time of event as recorded in verifiable storage</td>
                                  
                                
                                <tr>
                                  <th>timestamp_declared</th>
                                  <td>string</td>
                                  
                                    <td>time of event as declared by the user</td>
                                  
                                
                                <tr>
                                  <th>transaction_id</th>
                                  <td>string</td>
                                  
                                    <td>hash of the transaction as a hex string <code>0x11bf5b37e0b842e08dcfdc8c4aefc000</code></td>
                                  
                                
                                <tr>
                                  <th>transaction_index</th>
                                  <td>string</td>
                                  
                                    <td>index of event within commited block</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>404</th><td>Returned when the event does not exist.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API2' aria-expanded="true" aria-controls='collapsePublicAssets_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}</span></h4>
                      </div>
                      <h5>Retrieves a specific public Archivist asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Retrieves a specific public Archivist asset</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API2' aria-expanded="true" aria-controls='collapserequestPublicAssets_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API2' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "at_time": "2019-11-27T14:44:19Z",
  "attributes": {
    "arc_display_name": "My Garden Fence",
    "arc_display_type": "Garden Fence",
    "colour": "Plain wood"
  },
  "behaviours": [
    "RecordEvidence"
  ],
  "confirmation_status": "PENDING",
  "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
  "owner": "0x601f5A7D3e6dcB55e87bf2F17bC8A27AaCD3511",
  "proof_mechanism": "MERKLE_LOG",
  "public": false,
  "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
  "tracked": "TRACKED"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>access_policy</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of behaviour to private for keys</td>
                                  
                                
                                <tr>
                                  <th>at_time</th>
                                  <td>string</td>
                                  
                                    <td>indicates time the asset data is from</td>
                                  
                                
                                <tr>
                                  <th>attributes</th>
                                  <td>object</td>
                                  
                                    <td>key value mapping of asset properties</td>
                                  
                                
                                <tr>
                                  <th>behaviours</th>
                                  <td>array</td>
                                  
                                    <td>list of behaviours enabled for this asset</td>
                                  
                                
                                <tr>
                                  <th>chain_id</th>
                                  <td>string</td>
                                  
                                    <td>chain id of the blockchain associated with this asset</td>
                                  
                                
                                <tr>
                                  <th>confirmation_status</th>
                                  <td>string</td>
                                  
                                    <td>indicates if the asset has been succesfully committed to the blockchain</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>relative resource address <code>publicassets/{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>owner</th>
                                  <td>string</td>
                                  
                                    <td>wallet address of the asset owner</td>
                                  
                                
                                <tr>
                                  <th>proof_mechanism</th>
                                  <td>string</td>
                                  
                                    <td>the mechanism used to provide evidential proof</td>
                                  
                                
                                <tr>
                                  <th>public</th>
                                  <td>boolean</td>
                                  
                                    <td>Public asset</td>
                                  
                                
                                <tr>
                                  <th>tenant_identity</th>
                                  <td>string</td>
                                  
                                    <td>Identity of the tenant the that created this asset</td>
                                  
                                
                                <tr>
                                  <th>tracked</th>
                                  <td>string</td>
                                  
                                    <td>indicates whether asset is still being tracked in the system</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>404</th><td>Returned when the no asset with the provided id can be found.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerPublicAssets_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapsePublicAssets_API3' aria-expanded="true" aria-controls='collapsePublicAssets_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}/events</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapsePublicAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerPublicAssets_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v2/publicassets/archivist/v2/publicassets/{uuid}/events</span></h4>
                      </div>
                      <h5>List Archivist events for a public asset</h5>
                      <p><a href=""></a></p>
                      <p>Description: Lists Archivist events for a public asset</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponsePublicAssets_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponsePublicAssets_API3' aria-expanded="true" aria-controls='collapserequestPublicAssets_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponsePublicAssets_API3' class="accordion-collapse collapse" aria-labelledby='headerresponsePublicAssets_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "events": [
    {
      "asset_attributes": {
        "colour": "Midnight Blue"
      },
      "asset_identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 12,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_description": "Painted the fence",
        "arc_display_type": "Paint"
      },
      "identity": "publicassets/add30235-1424-4fda-840a-d5ef82c4c96f/events/11bf5b37-e0b8-42e0-8dcf-dc8c4aefc000",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-11-27T14:44:19Z",
      "timestamp_committed": "2019-11-27T14:44:19Z",
      "timestamp_declared": "2019-11-27T14:44:19Z",
      "transaction_id": "0x07569",
      "transaction_index": 5
    },
    {
      "asset_attributes": {
        "arc_firmware_version": "3.2.1"
      },
      "asset_identity": "publicassets/bf330235-1424-4fda-840a-d5ef82c4c96f",
      "behaviour": "RecordEvidence",
      "block_number": 13,
      "confirmation_status": "CONFIRMED",
      "event_attributes": {
        "arc_display_type": "Update Firmware"
      },
      "identity": "publicassets/bf330235-1424-4fda-840a-d5ef82c4c96f/events/23c06c48-e0b8-42e0-8dcf-dc8c4fdad123",
      "operation": "Record",
      "principal_accepted": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "principal_declared": {
        "issuer": "job.idp.server/1234",
        "subject": "bob@job"
      },
      "tenant_identity": "tenant/8e0b600c-8234-43e4-860c-e95bdcd695a9",
      "timestamp_accepted": "2019-07-27T14:44:19Z",
      "timestamp_committed": "2019-07-27T14:44:19Z",
      "timestamp_declared": "2019-07-27T14:44:19Z",
      "transaction_id": "0x12569",
      "transaction_index": 6
    }
  ],
  "next_page_token": "abcd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>events</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>This describes an Event.</td>
                                  
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>206</th><td>The number of events exceeds the servers limit. The approximate number of matching results is provided by the x-total-count header, the exact limit is available in the content-range header. The value format is &lsquo;items 0-LIMIT/TOTAL&rsquo;.  Note that x-total-count is always present for 200 and 206 responses. It is the servers best available approximation. Similarly, in any result set, you may get a few more than LIMIT items.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:37,href:"https://docs.datatrails.ai/developers/api-reference/tenancies-api/",title:"Tenancies API",description:"Tenancies API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="tenancies-api-examples">Tenancies API Examples</h2>
<p>Create the 
<a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">bearer_token</a> and store in a file in a secure local directory with 0600 permissions.</p>
<h3 id="retrieve-the-current-list-of-administrators">Retrieve the Current List of Administrators</h3>
<p>To fetch the list of Administrators, simply <code>GET</code> the <code>tenancies/root_principals</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     https://app.datatrails.ai/archivist/v1/tenancies/root_principals
</span></span></code></pre></div><h3 id="update-the-list-of-administrators">Update the List of Administrators</h3>
<p>Define the update parameters and store in <code>/path/to/jsonfile</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;administrators&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://login.microsoftonline.com/5c129635-5858-4fe3-9bef-444f6c7ee1cf/v2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;58589bef-4fe3-9a3b-23df-8527bc45e1cf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Jane Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;email&#34;</span><span class="p">:</span>  <span class="s2">&#34;jane.smith@synsation.org&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="p">},</span>
</span></span><span class="line"><span class="cl">       <span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;issuer&#34;</span><span class="p">:</span> <span class="s2">&#34;https://login.microsoftonline.com/5c129635-5858-4fe3-9bef-444f6c7ee1cf/v2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;subject&#34;</span><span class="p">:</span> <span class="s2">&#34;27bc5b4f-9a3b-4fe3-23df-e1c7bc45e1cf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Nate Rogers&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nt">&#34;email&#34;</span><span class="p">:</span>  <span class="s2">&#34;nate.rogers@synsation.org&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Update the Administrators by PATCHing the <code>tenancies/root_principals</code> resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -v -X PATCH <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -H <span class="s2">&#34;Content-type: application/json&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -d <span class="s2">&#34;@/path/to/jsonfile&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    https://app.datatrails.ai/archivist/v1/tenancies/root_principals
</span></span></code></pre></div><h2 id="tenancies-openapi-docs">Tenancies OpenAPI Docs</h2>
<p>
 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API to manage tenancies</p>
    </div>
      <div class="accordion" id='Tenancies_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API1' aria-expanded="true" aria-controls='collapseTenancies_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API1' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span></h4>
                      </div>
                      <h5>Fetch the current list of tenant root user principals</h5>
                      <p><a href=""></a></p>
                      <p>Description: Fetch the current list of tenant root user principals.</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API1' aria-expanded="true" aria-controls='collapserequestTenancies_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>root_principals</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the root principals.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API2'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API2' aria-expanded="true" aria-controls='collapseTenancies_API2'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API2' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/root_principals</span></h4>
                      </div>
                      <h5>Update the list of tenant root user principals</h5>
                      <p><a href=""></a></p>
                      <p>Description: Replace the list of tenant root user principals.  Note that you are not able to remove yourself from the list.</p>

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerrequestTenancies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapserequestTenancies_API2' aria-expanded="true" aria-controls='collapserequestTenancies_API2'>
                                    <span>Example Request</span>
                                  </button>
                              </h3>
                              <div id='collapserequestTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerrequestTenancies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                  </div>
                                </div>
                              </div>
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">Description</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  
                                  <tr>
                                    <th>root_principals</th>
                                    <td>array</td>
                                    
                                      
                                      
                                      
                                      <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                    
                                  
                                </tbody>
                              </table>
                            
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API2'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API2' aria-expanded="true" aria-controls='collapserequestTenancies_API2'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API2' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API2' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "root_principals": [
    {
      "display_name": "Bob Smith",
      "email": "bob@job",
      "issuer": "job.idp.server/1234",
      "subject": "08838336-c357-460d-902a-3aba9528dd22"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>root_principals</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>The principal description assured by the configured Identity  Provider. All values are according to OIDC id token claims and  standard claims.  See https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.  Including, but not limited to, attempting to remove yourself as a root uesr principal.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to update the root principals.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API3'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API3' aria-expanded="true" aria-controls='collapseTenancies_API3'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/self</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API3' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API3' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/self</span></h4>
                      </div>
                      <h5>Get tenant record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns an administrator&rsquo;s view of tenant for which they&rsquo;re authenticated</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API3'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API3' aria-expanded="true" aria-controls='collapserequestTenancies_API3'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API3' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API3' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "My First Tenancy",
  "enterprise_sso_config": {
    "client_id": "foo",
    "client_secret": "",
    "config_url": "foo",
    "issuer": "foo",
    "policy_id": "foo"
  },
  "enterprise_sso_enabled": true,
  "identity": "tenant/08838336-c357-460d-902a-3aba9528dd22",
  "verified_domain": "foo.com"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the tenant.</td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_config</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_enabled</th>
                                  <td>boolean</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>tenant identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Supplied parameters were invalid</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to retrieve the tenant id.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API4'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API4' aria-expanded="true" aria-controls='collapseTenancies_API4'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">patch</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/self</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API4' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API4' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">patch</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/self</span></h4>
                      </div>
                      <h5>Update tenant record</h5>
                      <p><a href=""></a></p>
                      <p>Description: Enables a root principal of the tenant to update the tenant record.</p>

                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API4'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API4' aria-expanded="true" aria-controls='collapserequestTenancies_API4'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API4' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API4' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "display_name": "My First Tenancy",
  "enterprise_sso_config": {
    "client_id": "foo",
    "client_secret": "",
    "config_url": "foo",
    "issuer": "foo",
    "policy_id": "foo"
  },
  "enterprise_sso_enabled": true,
  "identity": "tenant/08838336-c357-460d-902a-3aba9528dd22",
  "verified_domain": "foo.com"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>display_name</th>
                                  <td>string</td>
                                  
                                    <td>Customer friendly name for the tenant.</td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_config</th>
                                  <td></td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>enterprise_sso_enabled</th>
                                  <td>boolean</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>tenant identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to perform this action.</td>
                          
                            <tr><th>404</th><td>Returned when the referenced tenant does not exist.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API5'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API5' aria-expanded="true" aria-controls='collapseTenancies_API5'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/users</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API5' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API5' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/users</span></h4>
                      </div>
                      <h5>List Users</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a list of Users active in or invited to the tenant.</p>

                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API5'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API5' aria-expanded="true" aria-controls='collapserequestTenancies_API5'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API5' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API5' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "users": [
    {
      "email": "frank123@example.com",
      "identity": "users/87d349ed-44d7-43e1-9a83-5f2406dee5bd",
      "issuer": "frank@example.com",
      "subject": "franky123",
      "user_status": "ACTIVE"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>users</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>User Data</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the users.</td>
                          
                            <tr><th>404</th><td>Returned when the identified users don&rsquo;t exist.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API6'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API6' aria-expanded="true" aria-controls='collapseTenancies_API6'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">delete</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/users/{user_uuid}</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API6' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API6' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">delete</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/users/{user_uuid}</span></h4>
                      </div>
                      <h5>Deletes User</h5>
                      <p><a href=""></a></p>
                      <p>Description: Deletes a User from the tenancy.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API6'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API6' aria-expanded="true" aria-controls='collapserequestTenancies_API6'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API6' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API6' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "email": "frank123@example.com",
  "identity": "users/87d349ed-44d7-43e1-9a83-5f2406dee5bd",
  "issuer": "frank@example.com",
  "subject": "franky123",
  "user_status": "ACTIVE"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>displayName</th>
                                  <td>string</td>
                                  
                                    <td>display name for the user</td>
                                  
                                
                                <tr>
                                  <th>email</th>
                                  <td>string</td>
                                  
                                    <td>User email.</td>
                                  
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td>user identity <code>{UUID}</code></td>
                                  
                                
                                <tr>
                                  <th>issuer</th>
                                  <td>string</td>
                                  
                                    <td>optional issuer of the principal identity. Where the issuer is not provided the subject is treated as a free string</td>
                                  
                                
                                <tr>
                                  <th>subject</th>
                                  <td>string</td>
                                  
                                    <td>unique identifier of the principal (within issuer context)</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the user.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerTenancies_API7'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseTenancies_API7' aria-expanded="true" aria-controls='collapseTenancies_API7'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/tenancies/archivist/v1/tenancies/{uuid}:publicinfo</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseTenancies_API7' class="accordion-collapse collapse" aria-labelledby='headerTenancies_API7' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/tenancies/archivist/v1/tenancies/{uuid}:publicinfo</span></h4>
                      </div>
                      <h5>Public Tenant Information.</h5>
                      <p><a href=""></a></p>
                      <p>Description: Return the publically avaialble tenant information.</p>

                      
                        
                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseTenancies_API7'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseTenancies_API7' aria-expanded="true" aria-controls='collapserequestTenancies_API7'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseTenancies_API7' class="accordion-collapse collapse" aria-labelledby='headerresponseTenancies_API7' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "identity": "tenant/add30235-1424-4fda-840a-d5ef82c4c96f",
  "verified_domain": "exampleltd"
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>identity</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                                <tr>
                                  <th>verified_domain</th>
                                  <td>string</td>
                                  
                                    <td></td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>

<br></p>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>Simple API for User Management</p>
    </div>
      <div class="accordion" id='UserManagement_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerUserManagement_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseUserManagement_API1' aria-expanded="true" aria-controls='collapseUserManagement_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/users/archivist/v1/users/tenants</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseUserManagement_API1' class="accordion-collapse collapse" aria-labelledby='headerUserManagement_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/users/archivist/v1/users/tenants</span></h4>
                      </div>
                      <h5>List User Tenants</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns a list of tenancies the user has access to.</p>

                      

                      
                        
                          
                            
                            
                            
                            <div class="accordion-item">
                              <h3 class="accordion-header" id='headerresponseUserManagement_API1'>
                                  <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseresponseUserManagement_API1' aria-expanded="true" aria-controls='collapserequestUserManagement_API1'>
                                    <span>Example Response</span>
                                  </button>
                              </h3>
                              <div id='collapseresponseUserManagement_API1' class="accordion-collapse collapse" aria-labelledby='headerresponseUserManagement_API1' data-parent="#accordion">
                                <div class="accordion-body">
                                  <div style="width: 100%;">
                                    <pre><code>{
  "page_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6InN0dW50aWR",
  "tenants": [
    {
      "display_name": "Bobs Tenancy",
      "identity": "tenant/01038663-c357-470d-912a-3abc9528dd21"
    },
    {
      "display_name": "Alices Tenancy",
      "identity": "tenant/12149552-f258-430d-922b-4bcd8413ee30"
    }
  ]
}</code></pre>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <table class="table table-striped table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">Response Parameter</th>
                                  <th scope="col">Type</th>
                                  <th scope="col">Description</th>
                                </tr>
                              </thead>
                              <tbody>
                                
                                <tr>
                                  <th>next_page_token</th>
                                  <td>string</td>
                                  
                                    <td>Token to retrieve the next page of results or empty if there are none.</td>
                                  
                                
                                <tr>
                                  <th>tenants</th>
                                  <td>array</td>
                                  
                                    
                                    
                                    
                                    <td>Tenant information for a user.</td>
                                  
                                
                              </tbody>
                            </table>
                          
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>400</th><td>Returned when the request is badly formed.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to read the user.</td>
                          
                            <tr><th>404</th><td>Returned when the identified user don&rsquo;t exist.</td>
                          
                            <tr><th>500</th><td>Returned when the underlying storage system returns an error.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:38,href:"https://docs.datatrails.ai/developers/yaml-reference/story-runner-components/",title:"YAML Runner Components",description:"Common Keys Used for the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<table>
<thead>
<tr>
<th><strong>Key</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>action</strong></td>
<td>Required for every operation, the action specifies what function will be performed.</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td>Optional string that describes what the step is doing. For example, &ldquo;Create the Asset My First Container&rdquo;.</td>
</tr>
<tr>
<td><strong>asset_label</strong></td>
<td>For a series of steps run as one file, the Asset label could be a friendly name used by later steps to refer back to an Asset created in a previous step. If the Asset already exists, this field may be used to reference the Asset ID in the form <code>assets/&lt;asset-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>location_label</strong></td>
<td>For a series of steps run as one file, the location label could be a friendly name used by later steps to refer back to a location created in a previous step. If the location already exists, this field may be used to reference the Location ID in the form <code>locations/&lt;location-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>subject_label</strong></td>
<td>For a series of steps run as one file, the Subject label could be a friendly name used by later steps to refer back to a Subject created in a previous step. If the Subject already exists, this field may be used to reference the Subject ID in the form <code>subjects/&lt;subject-id&gt;</code>.</td>
</tr>
<tr>
<td><strong>print_response</strong></td>
<td>Specifying this field as true emits a JSON representation of the response, useful for debugging purposes.</td>
</tr>
<tr>
<td><strong>wait_time</strong></td>
<td>Optional field specifying a number of seconds the story runner will pause before executing the next step. Useful for demonstration and/or testing Compliance Policies.</td>
</tr>
</tbody>
</table>
<p>Each step of the YAML Runner follows the same general pattern:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wait_time</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Radiation bag 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">location_label</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">...definition of request body and other parameters</span><span class="w">
</span></span></span></code></pre></div><p>Depending on the action, some fields are required but others are optional. We will discuss each action in further detail in the upcoming sections.</p>
<p>Once you have created a YAML file with your desired steps, run the file using the <code>archivist_runner</code> command to execute the actions you defined. The command follows this format:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ archivist_runner <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      -u https://app.datatrails.ai <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-id &lt;your-client-id&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      --client-secret &lt;your-client-secret&gt; <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>      &lt;path-to-yaml-file&gt;
</span></span></code></pre></div>`}).add({id:39,href:"https://docs.datatrails.ai/developers/yaml-reference/assets/",title:"Assets YAML Runner",description:"Asset Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="assets-create">Assets Create</h2>
<p>Adding an <code>asset_label</code> allows your Asset to be referenced in later steps of the story. For example, if you want to add a Compliance Policy for the Asset after it is created.</p>
<p>The <code>arc_namespace</code> (for the Asset) and the <code>namespace</code> (for the location) are used to distinguish between Assets and Locations created between runs of the story. Usually, these field values are derived from an environment variable <code>ARCHIVIST_NAMESPACE</code> (default value is namespace).</p>
<p>The optional <code>confirm: true</code> entry means that the YAML Runner will wait for the Asset to be committed before moving on to the next step. This is beneficial if the Asset will be referenced in later steps.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ev_pump</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;true&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The output of this action is available in the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">DataTrails UI</a>:</p>


<figure class="border-0">
  
  <input type="image" data-bs-toggle="modal" data-bs-target="#AssetsCreate" img class="img-fluid responsive" src="/developers/yaml-reference/assets/AssetsCreate.png" width="1203" height="599" data-sizes="auto" data-srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" alt="Rectangle">
  <noscript><img class="img-fluid" sizes="100vw" srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" src="/developers/yaml-reference/assets/AssetsCreate.png" width="1203" height="599" alt="Rectangle"></noscript>
  <figcaption class="figure-caption"><em>ASSETS_CREATE Output</em></figcaption>
</figure>





<div class="modal fade" id="AssetsCreate" tabindex="-1" aria-labelledby="AssetsCreate" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    
      <div class="modal-body">
        
        <img class="img-fluid lazyload responsive" data-sizes="auto" src="/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_100x0_resize_box_3.png" data-srcset="https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/developers/yaml-reference/assets/AssetsCreate_hufa58242b0641db3c8a01847eb10d4f29_59200_200x0_resize_box_3.png 200w" width="1203" height="599" alt="Rectangle">
      </div>
  
  </div>
</div>
<h2 id="assets-create-if-not-exists">Assets Create If Not Exists</h2>
<p>This action is similar to <code>ASSETS_CREATE</code>, with the additional functionality of checking if an Asset with the same identifier exists before executing the creation of a new one.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create new EV Pump with id 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviours</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ev_pump</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;true&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><h2 id="assets-list">Assets List</h2>
<p>This action returns a list of all Assets that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>In the example below, our action will return a list of all Assets with <code>arc_display_type: pump</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all pumps</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span></code></pre></div><p>The response printed was ev pump 1, the Asset created in the <code>Assets Create</code> example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">Response</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;identity&#34;</span><span class="p">:</span> <span class="s2">&#34;assets/&lt;asset-id&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;behaviours&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RecordEvidence&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Builtin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssetCreator&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_type&#34;</span><span class="p">:</span> <span class="s2">&#34;pump&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;wipp&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ev_pump&#34;</span><span class="p">:</span> <span class="s2">&#34;true&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;arc_display_name&#34;</span><span class="p">:</span> <span class="s2">&#34;ev pump 1&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;confirmation_status&#34;</span><span class="p">:</span> <span class="s2">&#34;COMMITTED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tracked&#34;</span><span class="p">:</span> <span class="s2">&#34;TRACKED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;owner&#34;</span><span class="p">:</span> <span class="s2">&#34;0x6ba1CA0a5f4a2aBC23412419bC0E14233E88d233&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;at_time&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-11-18T16:55:44Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;storage_integrity&#34;</span><span class="p">:</span> <span class="s2">&#34;TENANT_STORAGE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;chain_id&#34;</span><span class="p">:</span> <span class="s2">&#34;827586838445807967&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;public&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tenant_identity&#34;</span><span class="p">:</span> <span class="s2">&#34;tenant/&lt;tenant-id&gt;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="assets-count">Assets Count</h2>
<p>This action returns a count of all Assets that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>In the example below, our action will return a count of all Assets with <code>arc_display_type: pump</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count all pumps</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">pump</span><span class="w">
</span></span></span></code></pre></div><h2 id="assets-wait-for-confirmed">Assets Wait For Confirmed</h2>
<p>This action tells the YAML Runner to wait before proceeding to the next step until all Assets that meet your specified criteria are confirmed/committed.</p>
<p>This step is optional and only necessary if your workflow requires 3rd parties (public or other DataTrails tenancies) to immediately view or interact with your Assets.
If this is not needed then do not wait for confirmation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">ASSETS_WAIT_FOR_CONFIRMED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Wait for all Assets in the wipp namespace to be confirmed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_namespace</span><span class="p">:</span><span class="w"> </span><span class="l">wipp</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:40,href:"https://docs.datatrails.ai/developers/yaml-reference/events/",title:"Events YAML Runner",description:"Event Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="events-create">Events Create</h2>
<p>The <code>asset_label</code> must match the setting when the Asset was created in an earlier step. The <code>asset_label</code> may also be specified as the Asset ID of an existing Asset, in the form <code>assets/&lt;asset-id&gt;</code>.</p>
<p>There are a few optional settings that can be used when creating Events. <code>attachments</code> uploads the attachment to DataTrails and the response is added to the Event before posting. <code>location</code> creates the location if it does not exist and adds it to the Event. The <code>sbom</code> setting uploads the SBOM to DataTrails and adds the response to the Event before posting.</p>
<p><code>confirm: true</code> tells the YAML Runner to wait for the Event to be committed before moving to the next step.
This is optional and only necessary if your workflow requires 3rd parties (public or other DataTrails tenancies) to immediately view the Event.
If this is not needed then do not wait for confirmation.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Access Card, opens Courts of justice front door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Access Card</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">Opened Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_evidence</span><span class="p">:</span><span class="w"> </span><span class="l">ARQC 0x12345678</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_correlation_value</span><span class="p">:</span><span class="w"> </span><span class="l">be5c8061-236d-4400-a625-b74a34e5801b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wavestone_door_name</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">wavestone_evt_type</span><span class="p">:</span><span class="w"> </span><span class="l">door_open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">location</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">namespace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Paris Courts of Justice</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Public museum in the former Palais de Justice</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="m">48.855722</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">2.345051</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">door entry</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="l">Boulevard du Palais, 75001 Paris, France</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">wavestone_ext</span><span class="p">:</span><span class="w"> </span><span class="l">managed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attachments</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">functests/test_resources/doors/events/door_open.png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">image/png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>This example creates an Event with custom Event attributes, creates and adds a location, and adds an image attachment.</p>
<p>Events may also be used to release a software package as an SBOM, such as the example below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Release YYYYMMDD.1 of Test SBOM for YAML story</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Corporation Detector SAAS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l">Record</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">behaviour</span><span class="p">:</span><span class="w"> </span><span class="l">RecordEvidence</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">event_attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_description</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Corporation Detector SAAS Released YYYYMMDD.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">Software Package Release</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">sbom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l">functests/test_resources/sbom/gen1.xml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">content_type</span><span class="p">:</span><span class="w"> </span><span class="l">text/xml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">ACME Generation1 SBOM</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">params</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">privacy</span><span class="p">:</span><span class="w"> </span><span class="l">PRIVATE</span><span class="w">
</span></span></span></code></pre></div><h2 id="events-list">Events List</h2>
<p>This action returns a list of all Events that meet your specified criteria. The <code>asset_label</code> can be identified as the friendly name of an Asset created in a previous step, or as an Asset ID for an existing Asset. If no <code>asset_label</code> is set, data for all Assets will be used.</p>
<p>Specifying <code>props</code>, <code>attrs</code>, and <code>asset_attrs</code> are optional criteria.</p>
<p>Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>The following example lists all &ldquo;open door&rdquo; Events for the Courts of Justice Paris Front Door:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events for Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">props</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirmation_status</span><span class="p">:</span><span class="w"> </span><span class="l">COMMITTED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">door</span><span class="w">
</span></span></span></code></pre></div><h2 id="events-count">Events Count</h2>
<p>This action returns a count of all Events that meet your specified criteria. The same criteria options available for <code>Events List</code> are possible. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>The following example counts all &ldquo;open door&rdquo; Events for the Courts of Justice Paris Front Door:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">EVENTS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all events for Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">Courts of Justice Paris Front Door</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">props</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">confirmation_status</span><span class="p">:</span><span class="w"> </span><span class="l">COMMITTED</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">open</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">arc_display_type</span><span class="p">:</span><span class="w"> </span><span class="l">door</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:41,href:"https://docs.datatrails.ai/developers/yaml-reference/locations/",title:"Locations YAML Runner",description:"Location Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="locations-create-if-not-exists">Locations Create If Not Exists</h2>
<p>This action checks to see if the location you are looking to create already exists, and if not, executes the creation of your new location. The action checks for a location with the same identifier to verify that the location does not already exist.</p>
<p>If this action is executed as part of a series of YAML Runner steps, the location created can be referenced in later steps using the key <code>location_label</code>.</p>
<p>When you create your location, you may also add location attributes. In the example below, information such as the facility address and type have been included, as well as contact information for the location&rsquo;s reception:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_CREATE_IF_NOT_EXISTS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create Cape Town Location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">display_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">namespace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">South Africa Office</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span>-<span class="m">33.92527778</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="m">18.42388889</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">synsation industries</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l">Cape Town Downtown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">Facility Type</span><span class="p">:</span><span class="w"> </span><span class="l">Satellite Office</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">reception_email</span><span class="p">:</span><span class="w"> </span><span class="l">reception_CT@synsation.io</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">reception_phone</span><span class="p">:</span><span class="w"> </span><span class="l">+27 (21) 123-456</span><span class="w">
</span></span></span></code></pre></div><h2 id="locations-list">Locations List</h2>
<p>This action returns a list of all locations that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List locations for which John Smith is director</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">director</span><span class="p">:</span><span class="w"> </span><span class="l">John Smith</span><span class="w">
</span></span></span></code></pre></div><h2 id="locations-count">Locations Count</h2>
<p>This action returns a count of all locations that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">LOCATIONS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count location for which John Smith is director</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attrs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">director</span><span class="p">:</span><span class="w"> </span><span class="l">John Smith</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:42,href:"https://docs.datatrails.ai/developers/yaml-reference/subjects/",title:"Subjects YAML Runner",description:"Subject Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="subjects-create">Subjects Create</h2>
<p>This action creates a Subject using their <code>wallet_pub_key</code> and <code>tessera_pub_key</code>. Adding a <code>subject_label</code> allows the Subject to be referenced in later YAML Runner steps.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">wallet_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tessera_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key2</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-create-from-base64">Subjects Create From base64</h2>
<p>This action creates a Subject using their base64 <code>subject_string</code>. Adding a <code>subject_label</code> allows the Subject to be referenced in later YAML Runner steps.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_CREATE_FROM_B64</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Import a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">An imported subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">An imported subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">subject_string</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      eyJpZGVudGl0eSI6ICJzdWJqZWN0cy8wMDAwMDAwMC0wMDAwLTAwMDAtMDA
</span></span></span><span class="line"><span class="cl"><span class="sd">      wMC0wMDAwMDAwMDAwMDAiLCAiZGlzcGxheV9uYW1lIjogIlNlbGYiLCAid2
</span></span></span><span class="line"><span class="cl"><span class="sd">      FsbGV0X3B1Yl9rZXkiOiBbIjA0YzExNzNiZjc4NDRiZjFjNjA3Yjc5YzE4Z
</span></span></span><span class="line"><span class="cl"><span class="sd">      GIwOTFiOTU1OGZmZTU4MWJmMTMyYjhjZjNiMzc2NTcyMzBmYTMyMWEwODgw
</span></span></span><span class="line"><span class="cl"><span class="sd">      YjU0YTc5YTg4YjI4YmM3MTBlZGU2ZGNmM2Q4MjcyYzUyMTBiZmQ0MWVhODM
</span></span></span><span class="line"><span class="cl"><span class="sd">      xODhlMzg1ZDEyYzE4OWMiXSwgIndhbGxldF9hZGRyZXNzIjogWyIweDk5Rm
</span></span></span><span class="line"><span class="cl"><span class="sd">      E0QUFCMEFGMkI1M2YxNTgwODNEOGYyNDRiYjQ1MjMzODgxOTciXSwgInRlc
</span></span></span><span class="line"><span class="cl"><span class="sd">      3NlcmFfcHViX2tleSI6IFsiZWZkZzlKMFFoU0IyZzRJeEtjYVhnSm1OS2J6
</span></span></span><span class="line"><span class="cl"><span class="sd">      cHhzMDNGRllJaVlZdWVraz0iXSwgInRlbmFudCI6ICIiLCAiY29uZmlybWF
</span></span></span><span class="line"><span class="cl"><span class="sd">      0aW9uX3N0YXR1cyI6ICJDT05GSVJNQVRJT05fU1RBVFVTX1VOU1BFQ0lGSU
</span></span></span><span class="line"><span class="cl"><span class="sd">      VEIn0=</span><span class="w">      
</span></span></span></code></pre></div><h2 id="subjects-update">Subjects Update</h2>
<p>To update a Subject&rsquo;s entity, the <code>subject_label</code> from a previous action in the YAML Runner steps is required. The <code>subject_label</code> may also be specified as the Subject ID of an existing Subject, in the form <code>subjects/&lt;subject-id</code>.</p>
<p><code>display_name</code>, <code>wallet_pub_key</code>, and <code>tessera_pub_key</code> are optional, but at least one must be specified.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_UPDATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Update a subjects entity.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">wallet_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">wallet_pub_key2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tessera_pub_key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">tessera_pub_key2</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-delete">Subjects Delete</h2>
<p>This action deletes the specified Subject.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_DELETE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Delete subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-read">Subjects Read</h2>
<p>This action allows you to read the details for the specified Subject. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_READ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Read subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">subjects/&lt;subject-id&gt;</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-list">Subjects List</h2>
<p>This action returns a list of all Subjects that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<p>For example, to list all Subjects with the name John Doe:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_LIST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">List all subjects with name John Doe</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">John Doe</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-count">Subjects Count</h2>
<p>This action returns a count of all Subjects that meet your specified criteria. Setting <code>print_response: true</code> is necessary to print the full output.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_COUNT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Count all subjects</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">John Doe</span><span class="w">
</span></span></span></code></pre></div><h2 id="subjects-wait-for-confirmation">Subjects Wait for Confirmation</h2>
<p>This action tells the YAML Runner to wait before proceeding to the next step until all Subjects that meet your specified criteria are confirmed/committed.</p>
<p><code>subject_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Subject ID of an existing subject, in the form <code>subjects/&lt;subject-id&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">SUBJECTS_WAIT_FOR_CONFIRMATION</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Wait for all subjects to be confirmed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">subject_label</span><span class="p">:</span><span class="w"> </span><span class="l">A subject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">\`\`</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:43,href:"https://docs.datatrails.ai/developers/yaml-reference/compliance/",title:"Compliance Policies YAML Runner",description:"Compliance Policy Actions Used with the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="compliance-policies-create">Compliance Policies Create</h2>
<p>This action creates a Compliance Policy that assets may be tested against.</p>
<p>The specific fields required for creating Compliance Policies vary depending on the type of policy being used. Please see the 
<a href="/platform/administration/compliance-policies/">Compliance Policies</a> section for details regarding Compliance Policy types and YAML Runner examples of each.</p>
<p>For example, a <code>COMPLIANCE_RICHNESS</code> policy that asserts radiation level must be less than 7:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_POLICIES_CREATE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Create COMPLIANCE_RICHNESS policy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">print_response</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Radiation level must be less than 7&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">Rad Limit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">compliance_type</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_RICHNESS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">asset_filter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;attributes.arc_home_location_identity=locations/&lt;location-id&gt;&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">richness_assertions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">or</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&#34;radiation_level&lt;7&#34;</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></span></span></code></pre></div><h2 id="compliance-compliant-at">Compliance Compliant At</h2>
<p>The <code>COMPLIANCE_COMPLIANT_AT</code> action checks an Asset against its Compliance Policies.</p>
<p><code>asset_label</code> is required, and may be specified as the friendly name defined in a previous step or as the Asset ID of an existing subject, in the form <code>assets/&lt;asset-id&gt;</code>. Setting <code>report: true</code> will trigger a report to be printed on the Asset&rsquo;s compliance status.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPLIANCE_COMPLIANT_AT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Check Compliance of EV pump 1.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">report</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">asset_label</span><span class="p">:</span><span class="w"> </span><span class="l">ev pump 1</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:44,href:"https://docs.datatrails.ai/developers/yaml-reference/estate-info/",title:"Estate Information YAML Runner",description:"Retrieve Estate Info Using the Yaml Runner",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> To use the YAML Runner you will need to install the <code>datatrails-archivist</code> python package.</p>
<p>
<a href="https://python.datatrails.ai/runner/index.html" target="_blank" rel="noopener">Click here</a> for installation instructions.</p>
</div>
  </blockquote>
<h2 id="composite-estate-info">Composite Estate Info</h2>
<p>This action returns a report on the current number of Assets, Events, and locations in your DataTrails estate.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">step</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l">COMPOSITE_ESTATE_INFO</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Estate Info Report</span><span class="w">
</span></span></span></code></pre></div>`}).add({id:45,href:"https://docs.datatrails.ai/developers/developer-patterns/",title:"Developer Patterns",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Developer Patterns</h1>
      <p>This sub-section of the Developers subject area contains more detailed information on topics that cannot be covered by the API or YAML Runner references. <br></p>
      <p>You will find articles on common developer tasks and concept guides that are relevant to developers.</p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations/">Getting Access Tokens using App Registrations &rarr;</a><br>
      <a href="/developers/developer-patterns/containers-as-assets/">Containers as Assets &rarr;</a><br>
      <a href="/developers/developer-patterns/namespace/">Namespace &rarr;</a><br>
      <a href="/developers/developer-patterns/verifying-with-simple-hash/">Verifying Assets and Events with Simple Hash &rarr;</a><br>
      <a href="/developers/developer-patterns/navigating-merklelogs/">Navigating the Merkle Logs &rarr;</a><br>
      <a href="/developers/developer-patterns/massif-blob-offset-tables/">Massif Blob Offset Tables &rarr;</a><br>
      <a href="/developers/developer-patterns/document-profile/">Document Profile &rarr;</a><br>
      <a href="/developers/developer-patterns/software-package-profile/">Software Package Profile &rarr;</a></p>
    </div>
</div>
`}).add({id:46,href:"https://docs.datatrails.ai/developers/api-reference/caps-api/",title:"Caps API",description:"Caps API Reference",content:`<blockquote class="note callout">
    <div><strong></strong> <p><strong>Note:</strong> This page is primarily intended for developers who will be writing applications that will use DataTrails for provenance.
If you are looking for a simple way to test our API you might prefer our 
<a href="https://www.postman.com/datatrails-inc/workspace/datatrails-public/overview" target="_blank" rel="noopener">Postman collection</a>, the 
<a href="/developers/yaml-reference/story-runner-components/">YAML runner</a> or the 
<a href="https://app.datatrails.ai" target="_blank" rel="noopener">Developers</a> section of the web UI.</p>
<p>Additional YAML examples can be found in the articles in the 
<a href="/platform/overview/introduction/">Overview</a> section.</p>
</div>
  </blockquote>
<h2 id="caps-api-examples">Caps API Examples</h2>
<p>The Caps API enables you to check the resource limits remaining under your Tenancy subscription.</p>
<h3 id="retrieve-a-cap">Retrieve a Cap</h3>
<p>Retrieve the number of remaining Access Policies:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -g -v -X GET <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     -H <span class="s2">&#34;@</span><span class="nv">$HOME</span><span class="s2">/.datatrails/bearer-token.txt&#34;</span> <span class="se">\\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="s2">&#34;https://app.datatrails.ai/archivist/v1/caps?service=access_policies&#34;</span>    
</span></span></code></pre></div><p>The response is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;caps&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;resource_type&#34;</span><span class="p">:</span> <span class="s2">&#34;AccessPolicies&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;resource_remaining&#34;</span><span class="p">:</span> <span class="s2">&#34;6&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>These are the available values for &ldquo;<strong>?service=</strong>&rdquo;:</p>
<ul>
<li>access_policies</li>
<li>applications</li>
<li>assets</li>
<li>blobs</li>
<li>compliance_policies</li>
<li>locations</li>
<li>tenancies/users</li>
</ul>
<h2 id="caps-openapi-docs">Caps OpenAPI Docs</h2>

 
 
  
  
  <div class="$openapi-spec-content">
    <div class="description">
      <p>API providing caps data for DataTrails APIs</p>
    </div>
      <div class="accordion" id='Caps_API0'></div>
      
        
          
          
                <div class="accordion-item">
                  <h3 class="accordion-header" id='headerCaps_API1'>
                      <button class="accordion-button" data-bs-toggle="collapse" data-bs-target='#collapseCaps_API1' aria-expanded="true" aria-controls='collapseCaps_API1'>
                        <div class="overflow-hidden text-nowrap">
                          <span style="text-transform: uppercase; color: #00AEEF;">get</span>&nbsp;&nbsp;<span style="width: 100%; overflow-wrap: break-word;">/archivist/v1/caps/archivist/v1/caps</span>
                        </div>
                      </button>
                  </h3>
                  <div id='collapseCaps_API1' class="accordion-collapse collapse" aria-labelledby='headerCaps_API1' data-parent="#accordion">
                  <div class="accordion-body">
                    <div style="width: 100%;">
                      <div class="overflow-auto">
                      <h4><span style="color: #00AEEF; text-transform: uppercase;">get</span>&nbsp;&nbsp;<span>/archivist/v1/caps/archivist/v1/caps</span></h4>
                      </div>
                      <h5>Returns caps for the given resource</h5>
                      <p><a href=""></a></p>
                      <p>Description: Returns caps for the given resource</p>

                      
                        
                      

                      
                        
                          
                        
                      
                        
                      
                        
                      
                        
                      

                      <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">Responses</th>
                            <th scope="col">Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          
                            <tr><th>200</th><td>A successful response.</td>
                          
                            <tr><th>401</th><td>Returned when the user is not authenticated to the system.</td>
                          
                            <tr><th>403</th><td>Returned when the user is not authorized to access the resource.</td>
                          
                            <tr><th>429</th><td>Returned when a user exceeds their subscription&rsquo;s rate limit for requests.</td>
                          
                        </tbody>
                      </table>

                    </div>
                  </div>
                </div>
              </div>
        
      
    



  </div>


`}).add({id:47,href:"https://docs.datatrails.ai/platform/administration/",title:"Administration",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Administration</h1>
      <p>This section is for Tenancy Administrators who need to know how to manage their Users and configure access to Assets.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/platform/administration/identity-and-access-management/">Identity and Access Management &rarr;</a><br>
      <a href="/platform/administration/verified-domain/">Verified Domain &rarr;</a><br>
      <a href="/platform/administration/sharing-access-inside-your-tenant/">Managing Internal Access to Your Tenant &rarr;</a><br>
      <a href="/platform/administration/sharing-assets-outside-your-tenant/">Managing External Access to Your Tenant &rarr;</a><br>
      <a href="/platform/administration/dropbox-integration/">Dropbox Integration &rarr;</a><br>
      <a href="/platform/administration/compliance-policies/">Compliance Policies &rarr;</a><br>
      <a href="/platform/administration/grouping-assets-by-location/">Grouping Assets by Location &rarr;</a></p>
    </div>
</div>
`}).add({id:48,href:"https://docs.datatrails.ai/developers/templates/",title:"Templates",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>DataTrails Templates</h1>
      <p>A collection of templates for various scenarios.
      Some templates are targeted at industry standards, providing interop, such as SCITT Statements.
      Other templates are more generic, providing a baseline for getting started.<br></p>
      <p> Check out the articles below for more information:</p>
      <a href="/developers/templates/vcons/">Creating DataTrails Events for vCons&rarr;</a><br>
      <a href="/developers/templates/scitt/">Creating SCITT Entries on the DataTrails Platform &rarr;</a><br>
    </div>
</div>
`}).add({id:49,href:"https://docs.datatrails.ai/developers/yaml-reference/",title:"YAML Reference",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>YAML Runner Reference</h1>
      <p>This sub-section of the Developers subject area contains articles that describe and define the functionality of the DataTrails YAML Runner.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/yaml-reference/story-runner-components/">YAML Runner Components &rarr;</a><br>
      <a href="/developers/yaml-reference/assets/">Assets YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/events/">Events YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/locations/">Locations YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/subjects/">Subjects YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/compliance/">Compliance Policies YAML Runner &rarr;</a><br>
      <a href="/developers/yaml-reference/estate-info/">Estate Information YAML Runner &rarr;</a></p>
    </div>
</div>
`}).add({id:50,href:"https://docs.datatrails.ai/developers/api-reference/",title:"API Reference",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>API Reference</h1>
      <p>This sub-section of the Developers subject area contains articles that describe and define the DataTrails REST API endpoints.<br></p>
      <p> Check out the articles below for more information!</p><br>
      <p><a href="/developers/api-reference/app-registrations-api/">App Registrations API Registrations &rarr;</a><br>
      <a href="/developers/api-reference/assets-api/">Assets API &rarr;</a><br>
      <a href="/developers/api-reference/attachments-api/">Attachments API &rarr;</a><br>
      <a href="/developers/api-reference/blobs-api/">Blobs API &rarr;</a><br>
      <a href="/developers/api-reference/compliance-api/">Compliance API &rarr;</a><br>
      <a href="/developers/api-reference/events-api/">Events API &rarr;</a><br>
      <a href="/developers/api-reference/iam-policies-api/">IAM Policies API &rarr;</a><br>
      <a href="/developers/api-reference/iam-subjects-api/">IAM Subjects API &rarr;</a><br>
      <a href="/developers/api-reference/locations-api/">Locations API &rarr;</a><br>
      <a href="/developers/api-reference/public-assets-api/">Public Assets API &rarr;</a><br>
      <a href="/developers/api-reference/tenancies-api/">Tenancies API &rarr;</a><br>
      <a href="/developers/api-reference/caps-api/">Tenancy Caps API &rarr;</a></p>
    </div>
</div>
`}).add({id:51,href:"https://docs.datatrails.ai/platform/overview/",title:"Overview",description:"",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
      <h1>Overview</h1>
      <p>Begin your DataTrails journey here.<br></p>
      <p> Check out the articles below for an introduction to the DataTrails platform.</p><br>
      <p><a href="/platform/overview/introduction/">Introduction &rarr;</a><br>
      <a href="/platform/overview/core-concepts/">Core Concepts &rarr;</a><br>
      <a href="/platform/overview/advanced-concepts/">Advanced Concepts &rarr;</a><br>
      <a href="/platform/overview/creating-an-asset/">Creating an Asset  &rarr;</a><br>
      <a href="/platform/overview/creating-an-event-against-an-asset/">Creating an Event Against an Asset &rarr;</a><br>
      <a href="/platform/overview/registering-a-document-profile-asset/">Registering a Document Profile Asset &rarr;</a><br>
      <a href="/platform/overview/registering-an-event-against-a-document-profile-asset/">Registering an Event Against a Document Profile Asset &rarr;</a><br>
      <a href="/platform/overview/instaproof/">Instaproof &rarr;</a><br>
      <a href="/platform/overview/public-attestation/">Public Attestation &rarr;</a></p>
    </div>
</div>
`}).add({id:52,href:"https://docs.datatrails.ai/developers/",title:"Developers",description:"DataTrails developer documentation",content:`<div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <h1>Developers</h1>
    <p>If you are a developer who is looking to easily add provenance to their data, this section is for you. <br>
    You may be building a new application or looking for a way to add functionality to something that you already use every day.</p>
    <p>The DataTrails REST API, python SDK, or the YAML runner provide a simple way for you to integrate a provenance layer into your existing data platform so that you do not need to change the way that your users work.</p>
    <p> Check out the sub-sections below for more information!</p>
    </div>
</div>
<section class="section section-sm" style="padding-top: 20px; padding-bottom: 20px;">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <p><a href="/developers/developer-patterns/getting-access-tokens-using-app-registrations">Developer Patterns &rarr;</a><br>
    Go here for information on setting up an App Registration, requesting an Access Token together with other developer concepts and user profile descriptions.</p>
    <p><a href="/developers/api-reference/app-registrations-api">API Reference &rarr;</a><br>
    The DataTrails REST API endpoint examples and definitions can be found here.</p>
    <a href="/developers/yaml-reference/story-runner-components">YAML Runner Reference &rarr;</a><br>
    The YAML reference contains information and examples for those who work with YAML files and would prefer to use this method to access the API.
    </div>
  </div>
</section>
<section class="section section-sm">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">
    <p>Additional resources are available from our <a href="https://pypi.org/project/datatrails-archivist/" target="_blank">Python SDK</a> and the <a href="https://github.com/datatrails/datatrails-samples" target="_blank">Python Samples</a>.</p>
    </div>
  </div>
</section>
`}).add({id:53,href:"https://docs.datatrails.ai/platform/",title:"Platform",description:"DataTrails Platform and configuration documentation",content:`<div class= "row justify-content-center">
  <div class="col-md-12 col-lg-10 col-xl-10">
    <h1>Platform</h1>
    <p>If you are new to DataTrails, this is the place to start.<br></p>
    <p>The foundations of understanding the DataTrails platform are explained in the Overview. This will introduce the basic (and not so basic) concepts and take you through creating your first Asset and registering the first Event of your audit trail.</p>
    <p>The Administration section will show you how to manage your Tenancy and control access to your Assets.
    <p> Check out the sub-sections below for more information!</p>
  </div>
</div>
<section class="section section-sm" style="padding-top: 20px; padding-bottom: 20px;">
  <div class= "row justify-content-center">
    <div class="col-md-12 col-lg-10 col-xl-10">    
    <a href="/platform/overview/introduction/">Overview &rarr;</a><br>
    Core concepts and tasks<br>
    <a href="/platform/administration/identity-and-access-management/">Administration &rarr;</a><br>
    Create users, set access rights and share Assets
    </div>
  </div>
</section>
`}),userinput.addEventListener("input",n,!0),suggestions.addEventListener("click",s,!0);function n(){var n,i=this.value,s=e.search(i,{limit:10,index:["content"],enrich:!0}),o=suggestions.childNodes,r=s[0].result.length;for(suggestions.classList.remove("d-none"),s[0].result.forEach(function(e){n=document.createElement("div"),n.innerHTML="<a href><span></span><span></span></a>",a=n.querySelector("a"),t=n.querySelector("span:first-child"),d=n.querySelector("span:nth-child(2)"),a.href=e.doc.href,t.textContent=e.doc.title,d.textContent=e.doc.description,suggestions.appendChild(n)});o.length>r;)suggestions.removeChild(o[0])}function s(){for(;suggestions.lastChild;)suggestions.removeChild(suggestions.lastChild);return!1}})()