<!doctype html><html lang=en-GB><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=Strict-Transport-Security content="max-age=31536000; includeSubDomains"><meta http-equiv=X-Frame-Options content="SAMEORIGIN"><meta http-equiv=X-Content-Type-Options content="nosniff"><meta http-equiv=Referrer-Policy content="no-referrer-when-downgrade"><meta http-equiv=Permissions-Policy content="autoplay 'self'; cookie 'self'"><meta http-equiv=Content-Security-Policy content="script-src 'self' 'sha256-GoUI0hA42/W90nTDE3+8IM59Pmj5d7MTNu1m0Qv4C+o=' 'sha256-eg7hiIPJDJy7WtCOgK4mlnMdUDYpX6h90ef9pORicds=' https://www.googletagmanager.com/gtag/js js.hs-scripts.com https://js.hscollectedforms.net/collectedforms.js js.hs-analytics.net https://js.usemessages.com/conversations-embed.js https://js.hsadspixel.net/fb.js js.hs-banner.com https://www.google-analytics.com/analytics.js googleads.g.doubleclick.net;"><link rel=preload as=font href=https://docs.datatrails.ai/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.datatrails.ai/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://docs.datatrails.ai/main.26f0231cd61928f5e97b2677f2f3eb6cb49c1c52e216373e9e6f1e2b3a3810e0c4b4162713c46acd45c820e2de533c4b81bbd5bd61eafc439658ce41e25b924f.css integrity="sha512-JvAjHNYZKPXpeyZ38vPrbLScHFLiFjc+nm8eKzo4EODEtBYnE8RqzUXIIOLeUzxLgbvVvWHq/EOWWM5B4luSTw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Advanced Concepts - DataTrails</title>
<meta name=description content="DataTrails Advanced Concepts"><link rel=canonical href=https://docs.datatrails.ai/platform/overview/advanced-concepts/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/RKVST_WhtLogo_CMYK.svg"><meta name=twitter:title content="Advanced Concepts"><meta name=twitter:description content="DataTrails Advanced Concepts"><meta name=twitter:site content="@"><meta name=twitter:creator content="@"><meta property="og:title" content="Advanced Concepts"><meta property="og:description" content="DataTrails Advanced Concepts"><meta property="og:type" content="article"><meta property="og:url" content="/platform/overview/advanced-concepts/"><meta property="og:image" content="/RKVST_WhtLogo_CMYK.svg"><meta property="article:published_time" content="2021-06-14T10:57:58+01:00"><meta property="article:modified_time" content="2021-06-14T10:57:58+01:00"><meta property="og:site_name" content="DataTrails"><meta property="article:publisher" content="https://www.facebook.com/"><meta property="article:author" content="https://www.facebook.com/"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/docs.datatrails.ai"},{"@type":"ListItem","position":3,"name":"Platform","item":"https:\/\/docs.datatrails.ai\/platform\/"},{"@type":"ListItem","position":4,"name":"Overview","item":"https:\/\/docs.datatrails.ai\/platform\/overview\/"},{"@type":"ListItem","position":5,"name":"Advanced Concepts","item":"https:\/\/docs.datatrails.ai\/platform\/overview\/advanced-concepts\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.datatrails.ai/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.datatrails.ai/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.datatrails.ai/favicon-16x16.png><link rel=manifest href=https://docs.datatrails.ai/site.webmanifest><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/9491266.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7K46H3KK7N"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7K46H3KK7N")</script></head><body class="platform single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" style=font-family:Montserrat href=https://www.datatrails.ai>DataTrails</a>
<svg width="68" height="18" viewBox="0 0 88 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.471367 22V.999999H9.65137C11.9314.999999 13.9314 1.44 15.6514 2.32c1.72.88 3.06 2.1 4.02 3.66C20.6314 7.54 21.1114 9.38 21.1114 11.5c0 2.1-.48 3.94-1.44 5.52C18.7114 18.58 17.3714 19.8 15.6514 20.68S11.9314 22 9.65137 22H.471367zM4.37137 18.7h5.1C11.0514 18.7 12.4114 18.4 13.5514 17.8 14.7114 17.2 15.6014 16.36 16.2214 15.28 16.8614 14.2 17.1814 12.94 17.1814 11.5c0-1.46-.32-2.72-.960000000000001-3.78C15.6014 6.64 14.7114 5.8 13.5514 5.2 12.4114 4.6 11.0514 4.3 9.47137 4.3h-5.1V18.7zM35.0965 22.3c-1.64.0-3.15-.27-4.53-.810000000000002C29.1865 20.95 27.9865 20.2 26.9665 19.24 25.9465 18.26 25.1565 17.12 24.5965 15.82 24.0365 14.5 23.7565 13.06 23.7565 11.5S24.0365 8.51 24.5965 7.21C25.1565 5.89 25.9465 4.75 26.9665 3.79c1.02-.98 2.22-1.74 3.6-2.28 1.38-.540001 2.88-.810001 4.5-.810001 1.64.0 3.14.27 4.5.810001 1.38.54 2.58000000000001 1.3 3.6 2.28 1.02.96 1.81 2.1 2.37 3.42C46.0965 8.51 46.3765 9.94 46.3765 11.5S46.0965 14.5 45.5365 15.82C44.9765 17.14 44.1865 18.28 43.1665 19.24 42.1465 20.2 40.9465 20.95 39.5665 21.49 38.2065 22.03 36.7165 22.3 35.0965 22.3zM35.0665 18.88C36.1265 18.88 37.1065 18.7 38.0065 18.34 38.9065 17.98 39.6865 17.47 40.3465 16.81c.660000000000004-.68 1.17-1.46 1.53-2.34.380000000000003-.9.57-1.89.57-2.97S42.2565 9.44 41.8765 8.56C41.5165 7.66 41.0065 6.88 40.3465 6.22 39.6865 5.54 38.9065 5.02 38.0065 4.66 37.1065 4.3 36.1265 4.12 35.0665 4.12c-1.06.0-2.04.18-2.94.54C31.2465 5.02 30.4665 5.54 29.7865 6.22c-.66.66-1.18 1.44-1.56 2.34C27.8665 9.44 27.6865 10.42 27.6865 11.5c0 1.06.18 2.04.540000000000003 2.94C28.6065 15.34 29.1265 16.13 29.7865 16.81c.66.66 1.44 1.17 2.34 1.53S34.0065 18.88 35.0665 18.88zM60.2304 22.3C58.6304 22.3 57.1404 22.04 55.7604 21.52 54.4004 20.98 53.2104 20.23 52.1904 19.27c-1-.98-1.77999999999999-2.13-2.34-3.45S49.0104 13.06 49.0104 11.5 49.2904 8.5 49.8504 7.18C50.4104 5.86 51.2004 4.72 52.2204 3.76c1.02-.98 2.21-1.73 3.57-2.25 1.36-.540001 2.85-.810001 4.47-.810001C61.9804.699999 63.5504.999999 64.9704 1.6 66.3904 2.18 67.5904 3.05 68.5704 4.21L66.0504 6.58C65.2904 5.76 64.4404 5.15 63.5004 4.75 62.5604 4.33 61.5404 4.12 60.4404 4.12 59.3404 4.12 58.3304 4.3 57.4104 4.66 56.5104 5.02 55.7204 5.53 55.0404 6.19 54.3804 6.85 53.8604 7.63 53.4804 8.53 53.1204 9.43 52.9404 10.42 52.9404 11.5S53.1204 13.57 53.4804 14.47C53.8604 15.37 54.3804 16.15 55.0404 16.81c.68.66 1.47 1.17 2.37 1.53C58.3304 18.7 59.3404 18.88 60.4404 18.88 61.5404 18.88 62.5604 18.68 63.5004 18.28 64.4404 17.86 65.2904 17.23 66.0504 16.39L68.5704 18.79C67.5904 19.93 66.3904 20.8 64.9704 21.4 63.5504 22 61.9704 22.3 60.2304 22.3zm18.5576.0C77.148 22.3 75.578 22.07 74.078 21.61 72.578 21.13 71.388 20.52 70.508 19.78L71.858 16.75C72.698 17.41 73.738 17.96 74.978 18.4 76.218 18.84 77.488 19.06 78.788 19.06 79.888 19.06 80.778 18.94 81.458 18.7 82.138 18.46 82.638 18.14 82.958 17.74 83.278 17.32 83.438 16.85 83.438 16.33 83.438 15.69 83.208 15.18 82.748 14.8 82.288 14.4 81.688 14.09 80.948 13.87 80.228 13.63 79.418 13.41 78.518 13.21 77.638 13.01 76.748 12.78 75.848 12.52 74.968 12.24 74.158 11.89 73.418 11.47 72.698 11.03 72.108 10.45 71.648 9.73 71.188 9.01 70.958 8.09 70.958 6.97 70.958 5.83 71.258 4.79 71.858 3.85 72.478 2.89 73.408 2.13 74.648 1.57 75.908.989999 77.498.699999 79.418.699999 80.678.699999 81.928.859999 83.168 1.18 84.408 1.5 85.488 1.96 86.408 2.56l-1.23 3.03C84.238 5.03 83.268 4.62 82.268 4.36 81.268 4.08 80.308 3.94 79.388 3.94 78.308 3.94 77.428 4.07 76.748 4.33 76.088 4.59 75.598 4.93 75.278 5.35 74.978 5.77 74.828 6.25 74.828 6.79 74.828 7.43 75.048 7.95 75.488 8.35 75.948 8.73 76.538 9.03 77.258 9.25 77.998 9.47 78.818 9.69 79.718 9.91 80.618 10.11 81.508 10.34 82.388 10.6 83.288 10.86 84.098 11.2 84.818 11.62c.740000000000009.42 1.33.99 1.77 1.71C87.048 14.05 87.278 14.96 87.278 16.06 87.278 17.18 86.968 18.22 86.348 19.18 85.748 20.12 84.818 20.88 83.558 21.46 82.298 22.02 80.708 22.3 78.788 22.3z" fill="url(#paint0_linear_304_319)"/><defs><linearGradient id="paint0_linear_304_319" x1="-31.0222" y1="-13.3333" x2="58.348" y2="63.0856" gradientUnits="userSpaceOnUse"><stop stop-color="#004fdf"/><stop offset=".166667" stop-color="#005bff"/><stop offset="1" stop-color="#00f8ff"/></linearGradient></defs></svg><button id=mode class="btn btn-link order-2 order-md-3" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav main-nav me-auto order-6 order-md-3" style=white-space:nowrap><a href=https://app.datatrails.ai/login target=_blank rel="noopener noreferrer" class="btn btn-link" style=margin-left:20px;font-size:18px role=button>Sign In</a>
<a href=https://app.datatrails.ai/signup target=_blank rel="noopener noreferrer" class="btn btn-primary btn-xs" style=margin-left:10px;font-size:18px;padding-top:9px role=button>Sign Up</a></ul></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2" style=white-space:nowrap><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/>Home</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/developers/>Developers</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/platform/>Platform</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/usecases/>Use Cases</a></li><li class=nav-item><a class=nav-link href=https://docs.datatrails.ai/glossary/>Glossary</a></li><li class=nav-item><a class=nav-link href=https://support.datatrails.ai>Support</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#overview aria-expanded=true>
Overview</button><div class="collapse show" id=overview><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/core-concepts/>Core Concepts</a></li><li><a class="docs-link rounded active" href=https://docs.datatrails.ai/platform/overview/advanced-concepts/>Advanced Concepts</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/creating-an-asset/>Creating an Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/creating-an-event-against-an-asset/>Creating an Event Against an Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/registering-a-document-profile-asset/>Registering a Document Profile Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/registering-an-event-against-a-document-profile-asset/>Registering an Event Against a Document Profile Asset</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/instaproof/>Instaproof</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/public-attestation/>Public Attestation</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/overview/scitt-receipts/>Verify DataTrails SCITT Receipts</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#administration aria-expanded=false>
Administration</button><div class=collapse id=administration><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/identity-and-access-management/>Identity and Access Management</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/verified-domain/>Verified Domain</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/managing-access-to-an-asset-with-abac/>Managing Access to an Asset With ABAC</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/sharing-assets-outside-your-tenant/>Sharing Assets outside your Tenant</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/compliance-policies/>Compliance Policies</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/grouping-assets-by-location/>Grouping Assets by Location</a></li><li><a class="docs-link rounded" href=https://docs.datatrails.ai/platform/administration/dropbox-integration/>Dropbox Integration</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#assets>Assets</a><ul><li><a href=#deleting-assets-untracking>Deleting Assets (untracking)</a></li></ul></li><li><a href=#events>Events</a><ul><li><a href=#timestamps-on-events>Timestamps on Events</a></li><li><a href=#user-principals-on-events>User Principals on Events</a></li></ul></li><li><a href=#proof-mechanisms>Proof Mechanisms</a><ul><li><a href=#simple-hash>Simple Hash</a></li></ul></li><li><a href=#access-policies>Access Policies</a><ul><li><a href=#considerations>Considerations</a></li><li><a href=#access-policy-configuration>Access Policy configuration</a></li><li><a href=#revoking-access>Revoking Access</a></li></ul></li><li><a href=#attachments-and-blobs>Attachments and Blobs</a><ul><li><a href=#the-primary-image>The Primary Image</a></li></ul></li><li><a href=#geolocation>Geolocation</a><ul><li><a href=#asset-locations>Asset Locations</a></li><li><a href=#gis-coordinates-on-events>GIS Coordinates on Events</a></li></ul></li><li><a href=#compliance-policies>Compliance Policies</a><ul><li><a href=#compliance-policy-configuration>Compliance Policy Configuration</a></li></ul></li><li><a href=#perspectives>Perspectives</a></li><li><a href=#thats-it>That&rsquo;s it</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://docs.datatrails.ai/>Home</a></li><li class=breadcrumb-item><a href=https://docs.datatrails.ai/platform/>Platform</a></li><li class=breadcrumb-item><a href=https://docs.datatrails.ai/platform/overview/>Overview</a></li><li class="breadcrumb-item active" aria-current=page>Advanced Concepts</li></ol></nav><div class=my-n3></div><h1>Advanced Concepts</h1><p class=lead>This section goes into detail on the topics covered in Core Concepts, as well as additional advanced topics.</p><h2 id=assets>Assets<a href=#assets class=anchor aria-hidden=true>#</a></h2><p>Central to all DataTrails operations are <em>Assets</em>. These are the records that represent the collective &lsquo;Golden Thread&rsquo; of evidence contributed by all stakeholders about a particular thing. Assets can represent anything: a physical object, a smart device, or even a business process. As long as shared accountability needs to be traced and trustworthy, it can be recorded as a DataTrails Asset.</p><p>DataTrails Assets are essentially very simple: a collection of <em>attributes</em> that describe the Asset expressed as a standard JSON document. The power of the system comes from the fact that those attributes come with complete traceable provenance and are guaranteed to appear the same to every stakeholder, creating a single source of truth for shared business processes.</p><p>DataTrails is not opinionated about Asset content, meaning that attributes can trace anything deemed important to participants. Much like #hashtags on Twitter, they can be invented by anyone at any time, but once an attribute has been seen once it will be fully traced from that point on.</p><p>A simple Asset might look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>   <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// Fixed global identity for this Asset
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;identity&#34;</span><span class=p>:</span> <span class=s2>&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// The set of tracked and traced attributes
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;attributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// arc_* are understood and processed by DataTrails
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nt>&#34;arc_display_type&#34;</span><span class=p>:</span> <span class=s2>&#34;Top Trump&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_display_name&#34;</span><span class=p>:</span> <span class=s2>&#34;Opel Kadett Rallye 1900&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_description&#34;</span><span class=p>:</span> <span class=s2>&#34;Opel Kadett Rallye 1900 Top Trump card&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_serial_number&#34;</span><span class=p>:</span> <span class=s2>&#34;5a&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_home_location_identity&#34;</span><span class=p>:</span> <span class=s2>&#34;locations/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// attribute with &#34;arc_attribute_type&#34;: &#34;arc_attachment&#34; is a reference to a BLOB attached to the Asset
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nt>&#34;arc_primary_image&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_attribute_type&#34;</span><span class=p>:</span> <span class=s2>&#34;arc_attachment&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_blob_hash_value&#34;</span><span class=p>:</span> <span class=s2>&#34;01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_blob_identity&#34;</span><span class=p>:</span> <span class=s2>&#34;blobs/1754b920-cf20-4d7e-9d36-9ed7d479744d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_blob_hash_alg&#34;</span><span class=p>:</span> <span class=s2>&#34;SHA256&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_file_name&#34;</span><span class=p>:</span> <span class=s2>&#34;somepic.jpeg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;arc_display_name&#34;</span><span class=p>:</span> <span class=s2>&#34;arc_primary_image&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// All others are user-defined attributes
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nt>&#34;bhp&#34;</span><span class=p>:</span> <span class=s2>&#34;145&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;top_speed&#34;</span><span class=p>:</span> <span class=s2>&#34;190&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;weight&#34;</span><span class=p>:</span> <span class=s2>&#34;860&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;engine_capacity&#34;</span><span class=p>:</span> <span class=s2>&#34;1980&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Behaviours define the set of APIs that can be used to interact with the Asset
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;behaviours&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;RecordEvidence&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Date and time at which these attributes were contemporary
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;at_time&#34;</span><span class=p>:</span> <span class=s2>&#34;2021-06-25T12:40:03Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Storage and integrity properties - managed by the system
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;confirmation_status&#34;</span><span class=p>:</span> <span class=s2>&#34;CONFIRMED&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tracked&#34;</span><span class=p>:</span> <span class=s2>&#34;TRACKED&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;owner&#34;</span><span class=p>:</span> <span class=s2>&#34;0xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;storage_integrity&#34;</span><span class=p>:</span> <span class=s2>&#34;LEDGER&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> The Asset Identity is fixed and constant for the life of the Asset and across all stakeholders. This ensures easy traceability and assurance that all stakeholders are collaborating on the same object and see the same complete history of Events.</div></blockquote><h3 id=deleting-assets-untracking>Deleting Assets (untracking)<a href=#deleting-assets-untracking class=anchor aria-hidden=true>#</a></h3><p>An essential value of storing evidence in DataTrails is that data is always available to stakeholders and cannot be shredded or manipulated later. Given this, it is not possible to actually delete Assets from the system, but there will be cases where it is desirable to hide Assets in the UI or omit them from default searches or compliance queries (for instance as a result of decommissioning or disposal of the corresponding physical asset).</p><p>To accommodate this need DataTrails separates the Asset estate into 2 classes: tracked Assets (those that are interesting to the system and actively recording events) and untracked Assets (those that are no longer actively interesting). When for any reason it becomes desirable to remove an Asset, the Asset owner can make it <em>untracked</em> so that it does not appear in lists or searches.</p><blockquote class="caution callout"><div><strong></strong> <strong>Caution:</strong> Untracking an Asset does not remove it or its Event history from the system; all stakeholders who previously had access to the record will continue to have access to the Event history, <em>including</em> the untracking event, if they look for it.</div></blockquote><p>For more detailed information on Assets and how to implement them, please refer to
<a href=https://docs.datatrails.ai/developers/api-reference/assets-api/>the Assets API Reference</a>.</p><h2 id=events>Events<a href=#events class=anchor aria-hidden=true>#</a></h2><p>Any interaction with a device can be significant, from user logins to unexpected restarts or ad-hoc observations. Keeping a record of these Events can build up a picture of how an Asset came to be in its current state and provides crucial insight to future maintenance staff, auditors, and security remediation teams.</p><p>Knowing the current state of an Asset isn&rsquo;t enough: sure, it has software version 3.0 now but when was that installed? Before the major incident? After the major incident? This morning before the support call?</p><p>DataTrails ensures complete and tamper-proof lineage and provenance for all Asset attributes by enforcing a simple rule:
<strong>The only way to change an Asset attribute is through an Event that records Who Did What When to make that change.</strong></p><h3 id=timestamps-on-events>Timestamps on Events<a href=#timestamps-on-events class=anchor aria-hidden=true>#</a></h3><p>Lifecycle events in DataTrails give stakeholders a shared view of “Who did What When to an Asset". The “What” and the &ldquo;Asset&rdquo; are quite straightforward, but the “When” and “Who” can be more nuanced.</p><p>Once committed to the DataTrails system, each lifecycle Event record carries 3 separate timestamps:</p><ul><li><code>timestamp_declared</code> - an optional user-supplied value that tells when an Event happened. This is useful for cases where the client system is off-line for a period but the user still wishes to record the accurate time and order of activities (eg inspection rounds in an air-gapped facility). If unspecified, the system sets timestamp_declared equal to timestamp_accepted (see below).</li><li><code>timestamp_accepted</code> - the time the event was actually received on the DataTrails REST interface. Set by the system, cannot be changed by the client.</li><li><code>timestamp_committed</code> - the time the event was confirmed distributed to all DLT nodes in the value chain. Set by the system, cannot be changed by the client.</li></ul><p>Having these 3 fields enables users of DataTrails to accurately reflect what is claimed, whilst also preventing tampering and backdating of entries.</p><h3 id=user-principals-on-events>User Principals on Events<a href=#user-principals-on-events class=anchor aria-hidden=true>#</a></h3><p>Just as with the &ldquo;When&rdquo;, the &ldquo;Who&rdquo; of “Who Did What When to an Asset" is potentially complicated if, for example, an application or gateway is acting on behalf of some other real-world user.</p><p>Once committed to the DataTrails system, each lifecycle Event record carries 2 separate user identities:</p><ul><li><code>principal_declared</code> - an optional user-supplied value that tells who performed an Event. This is useful for cases where the user principal/credential used to authorize the Event does not accurately or usefully reflect the real-world agent (eg a multi-user application with device-based credentials).</li><li><code>principal_accepted</code> - the actual user principal information belonging to the credential used to access the DataTrails REST interface. Set by the system and retrieved from the authorizing IDP, cannot be changed by the client.</li></ul><p>For more detailed information on Events and how to implement them, please refer to
<a href=https://docs.datatrails.ai/developers/api-reference/events-api/>the Events API Reference</a>.</p><h2 id=proof-mechanisms>Proof Mechanisms<a href=#proof-mechanisms class=anchor aria-hidden=true>#</a></h2><p>Assets and Events are core to the DataTrails platform, and being able to quickly demonstrate proof that these artifacts have not been tampered is key to being able to use them.</p><p>When
<a href=https://docs.datatrails.ai/platform/overview/creating-an-asset/>creating an Asset</a>, a proof mechanism will be used for that Asset and its Events. This determines how your data is recorded on the DataTrails blockchain.</p><h3 id=simple-hash>Simple Hash<a href=#simple-hash class=anchor aria-hidden=true>#</a></h3><p>Simple Hash takes all the Events within a past time period (the default is the last 30 days) and commits them to the blockchain as one hash. This hash value can then be used to compare the current state of the Asset, and identify if any changes have occurred. With Simple Hash, you will not be able to see exactly what those changes were, only that something has changed.</p><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> The Simple Hash proof mechanism is available with
<a href=https://www.datatrails.ai/pricing/ target=_blank rel=noopener>all tiers</a> of the DataTrails platform.</div></blockquote><h2 id=access-policies>Access Policies<a href=#access-policies class=anchor aria-hidden=true>#</a></h2><p>Sharing the right amount of information with your value chain partners is critical to creating a trustworthy shared history for Assets. It is important that every participant be able to see and contribute to the management of Assets without compromising security, commercial, or private personal information. For example, competing vendors should not see each other’s information, but both should be able to freely collaborate with their mutual customer or industry regulator.</p><p>In other scenarios, it is desirable to share basic maintenance information with a vendor or external maintenance company, whilst restricting critical operating information such as run cycles and cyber SLAs to a much smaller group.</p><p>DataTrails Access Policies are the method through which this access is defined, allowing Asset owners to collaborate with just the right partners at the right time, sharing as much or as little access to Assets as the needs of the value chain partners dictate. All transactions are private by default, meaning that only the Asset owner can see and update Asset histories until a sharing policy has been set up. This ensures ready compliance with important regimes such as GDPR and antitrust regulations, as well as allowing safe and ready collaboration with a large and diverse range of value chain partners in the DataTrails network when required.</p><blockquote class="note callout"><div><strong></strong><p><strong>Note:</strong> To collaborate with a value chain partner you first need to enroll them as a partner in your DataTrails Tenancy by exchanging your public DataTrails Subject Identity with each other, a little like making a new LinkedIn connection or Facebook friend.</p><p>This one-time manual process helps to underpin trust and security in your DataTrails Access Policies by ensuring that the partners represented in them are the ones you expect.</p></div></blockquote><h3 id=considerations>Considerations<a href=#considerations class=anchor aria-hidden=true>#</a></h3><p>As with any system handling large amounts of important data, one must carefully consider the design and scope of Access Policy rules in DataTrails.
Every situation is different, and the DataTrails Access Policy system is flexible and powerful enough to support most situations, but in general it is recommended to follow some basic rules:</p><ul><li>Aim for fewest possible number of policies: This makes it much easier to review and manage access rights.</li><li>Balance complex, highly-specific policies with simple, broad ones: Remember rights granted by policy are additive.</li><li>A single Access Policy can contain several permission groups, so it is possible to define a single filter to cover a particular population of Assets, then apply different rights to different sets of users and partner organizations. This is often a simpler way to manage access than to create separate Access Policies for each set of users.</li><li>Remember attributes can change: ABAC policies are applied at time of access request, not at time of creation, so changing attributes on an asset may change which access policies apply to it. This is one of the primary advantages to an ABAC system, but needs to be kept in mind when designing access control processes.</li></ul><h3 id=access-policy-configuration>Access Policy configuration<a href=#access-policy-configuration class=anchor aria-hidden=true>#</a></h3><p>DataTrails employs a principle called Attribute-Based Access Control (ABAC) for users within an organization, and a related concept called Organization-Based Access Control (OBAC) to mediate data sharing between value chain participants.</p><p>Rather than applying a specific fixed policy to each Asset, or grouping them into rigid hierarchies, Access Policies are defined in terms of the observable properties (or attributes) of Assets and users, and if both match, the policy is applied. This enables much greater flexibility and expressivity than traditional hierarchical or role-based methods, whilst at the same time reducing complexity in defining sharing in large-scale systems.</p><p>DataTrails Access Policies comprise of 2 main parts:</p><ul><li>Filters: A list of attributes to match on Assets (this defines the scope of the policy)</li><li>Access Permissions: A list of access rights to be granted to users on those matching Assets</li></ul><p>A simple Access Policy may look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// identity and tenant are non-modifiable system info
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;identity&#34;</span><span class=p>:</span> <span class=s2>&#34;access_policies/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tenant&#34;</span><span class=p>:</span> <span class=s2>&#34;tenant/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// User-friendly identifiers
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;display_name&#34;</span><span class=p>:</span> <span class=s2>&#34;Sample Policy&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;An Access Policy created for DataTrails user docs&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Filters define which Assets this Policy applies to
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s2>&#34;filters&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Any Crate, Box, or Bag ...
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Crate&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Box&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.arc_display_type=Bag&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// ... whose registered handler is either Fred or Margaret
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.handler=Fred&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;attributes.handler=Margaret&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// Permissions define what can be done with the matching Assets
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nt>&#34;access_permissions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Grant access to partner organizations by Subject Identity
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;subjects&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=c1>// The Subject Identity for a known partner eg ACME Co
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=s2>&#34;subjects/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span> 
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Grant access to local users by attribute (eg email address)
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;user_attributes&#34;</span><span class=p>:</span> <span class=p>[</span> 
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;email=bill@synsation.com&#34;</span> <span class=p>]</span> <span class=p>}</span> 
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          
</span></span><span class=line><span class=cl>          <span class=c1>// Limit the APIs they can call
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;behaviours&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;RecordEvidence&#34;</span> <span class=p>],</span>
</span></span><span class=line><span class=cl>          
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Asset attributes these users can see
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;asset_attributes_read&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Height&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arc_display_name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arc_display_type&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Asset attributes these users can modify
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;asset_attributes_write&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Height&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Events from the Asset history these users can see
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;event_arc_display_type_read&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Measure&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Open&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Seal&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Select which Events these users can contribute to the history
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;event_arc_display_type_write&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Measure&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// Note the include_attributes field is deprecated
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nt>&#34;include_attributes&#34;</span><span class=p>:</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><blockquote class="note callout"><div><strong></strong><p><strong>Note:</strong> Observe that there are 2 lists in the <code>filters</code> which concern different attributes. The effect of this is to say that an Asset matches the filters if it matches <em>at least one</em> entry from <em>every list</em>. Or in other words, inner lists are <code>OR</code>, while outer lists are <code>AND</code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>Filters</span> <span class=err>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>type=Pump</span><span class=p>,</span> <span class=err>type=Valve</span><span class=p>]</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>vendor=SynsationIndustries</span><span class=p>]</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;or&#34;</span><span class=p>:</span> <span class=p>[</span><span class=err>location=ChicagoWest</span><span class=p>,</span><span class=err>location=ChicagoEast</span><span class=p>]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p>In the above simplified example, the policy would apply to any Pump or Valve from SynsationIndustries installed in either the ChicagoWest or ChicagoEast sites, but it would not match:</p><ul><li>Other device types from SynsationIndustries;</li><li>Pumps or Valves from any other vendor;</li><li>SynsationIndustries Valves installed in a different location</li></ul></div></blockquote><h3 id=revoking-access>Revoking Access<a href=#revoking-access class=anchor aria-hidden=true>#</a></h3><p>DataTrails adopts a ‘default deny’ approach so access to an Asset Record is only possible if an Access Policy explicitly allows it.</p><p>Revoking access can therefore be achieved in a number of ways, any of which may be more or less appropriate for the circumstances:</p><ul><li>Remove the whole Access Policy</li><li>Change the attributes of the Asset so that it no longer matches the Access Policy (eg change location)</li><li>Change the attributes of the user or subject so that they no longer match the Access Policy (eg change IDP group)</li><li>Turn off the user’s login at the IDP</li></ul><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> As with any fair decentralized system it is not possible to &lsquo;unsee&rsquo; information. Any change in OBAC access policies <em>including revoking OBAC access to a value chain partner</em> only applies to new information contributed <em>after</em> the policy change. This ensures continued fair access to the historic evidence base for all legitimate participants whilst also maintaining control of future operations with the Asset owner.</div></blockquote><h2 id=attachments-and-blobs>Attachments and Blobs<a href=#attachments-and-blobs class=anchor aria-hidden=true>#</a></h2><p>Attachments in DataTrails enable images, PDFs and other binary data to be attached to Assets and Events. This brings added richness to the evidence base and facilitates high fidelity collaboration between stakeholders.</p><p>Adding an attachment to an Asset or Event enables recording of characteristics or evidence that are very difficult to capture in the rigid structured JSON data of Attributes. For example:</p><ul><li>a photograph of the physical state of a device such as alignment of components or wear on tamper seals at the time of a particular inspection</li><li>a PDF of a safety conformance report to support a maintenance event</li><li>a software manifest to support an update</li><li>an x-ray image</li></ul><p>Attaching rich evidence to an Asset or Event is a two step process:</p><ol><li>First a Binary Large OBject (BLOB) is uploaded</li><li>Then a reference to that blob is attached to the Event or Asset.</li></ol><p>To add attachments to an Event, simply specify an attribute in the <code>event_attributes</code> of the POST request with a dictionary including the blob information and with <code>"arc_attribute_type": "arc_attachment"</code>. To add or update an attachment on an Asset, put the attachment attribute in the <code>asset_attributes</code> of the request instead.</p><p>For more detailed information on Attachments and how to implement them, please refer to
<a href=https://docs.datatrails.ai/developers/api-reference/blobs-api/>the Blobs API Reference</a> and
<a href=https://docs.datatrails.ai/developers/api-reference/attachments-api/>the Attachments API Reference</a></p><h3 id=the-primary-image>The Primary Image<a href=#the-primary-image class=anchor aria-hidden=true>#</a></h3><p>Attachments on Assets are named in their arc_display_name property, so that they can be searched and indexed. Names are arbitrary and may be defined according to the needs of the application, but one name is reserved and interpreted by the DataTrails services: <code>arc_primary_image</code>.
If an asset has an attachment attribute named <code>arc_primary_image</code>, then this will be used by the SaaS user interface and other tools to represent the asset.</p><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> Blobs and Attachments cannot be searched or listed as a collection in their own right: they must always be associated with an Asset or Event through an Attachment Attribute and can only be downloaded by users with appropriate access rights to that Attachment.</div></blockquote><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> While Attachments are generally expected to be unique, the same attachment can be applied to multiple assets, such as the case of a process manual PDF.</div></blockquote><h2 id=geolocation>Geolocation<a href=#geolocation class=anchor aria-hidden=true>#</a></h2><p>DataTrails supports 2 different main concepts of geolocation, and it&rsquo;s important to choose the correct one for your use case.</p><ul><li><em>Locations</em> on Assets, which enable grouping of Assets based on some common management (&ldquo;All these devices live in the Basingstoke factory&rdquo;)</li><li><em>GIS coordinates</em> on Events, which enable recording of exactly where an event took place, and when analyzed together can show the movement of an Asset (&ldquo;This was scanned in London, and later sold in Manchester&rdquo;)</li></ul><p>Essentially Locations give you groupings:<figure class=border-0><input type=image data-bs-toggle=modal data-bs-target=#locations_grouping img class="img-fluid responsive" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping.png width=3596 height=1896 data-sizes=auto data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" alt=Rectangle><noscript><img class=img-fluid sizes=100vw srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping.png width=3596 height=1896 alt=Rectangle></noscript><figcaption class=figure-caption><em>Grouping Assets by location</em></figcaption></figure><div class="modal fade" id=locations_grouping tabindex=-1 aria-labelledby=locations_grouping aria-hidden=true><div class="modal-dialog modal-xl"><div class=modal-body><img class="img-fluid lazyload responsive" data-sizes=auto src=https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_100x0_resize_box_3.png data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/locations_grouping_hu875013484c590c001bdf8577c68a6105_661938_200x0_resize_box_3.png 200w" width=3596 height=1896 alt=Rectangle></div></div></div></p><p>Whereas Event coordinates give you tracking:<figure class=border-0><input type=image data-bs-toggle=modal data-bs-target=#gis_tracking img class="img-fluid responsive" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking.png width=3596 height=1896 data-sizes=auto data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" alt=Rectangle><noscript><img class=img-fluid sizes=100vw srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking.png width=3596 height=1896 alt=Rectangle></noscript><figcaption class=figure-caption><em>Tracking Assets with GIS coordinates</em></figcaption></figure><div class="modal fade" id=gis_tracking tabindex=-1 aria-labelledby=gis_tracking aria-hidden=true><div class="modal-dialog modal-xl"><div class=modal-body><img class="img-fluid lazyload responsive" data-sizes=auto src=https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_100x0_resize_box_3.png data-srcset="https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_900x0_resize_box_3.png 900w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_800x0_resize_box_3.png 800w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_500x0_resize_box_3.png 500w,https://docs.datatrails.ai/platform/overview/advanced-concepts/gis_tracking_hu0f0d9c22eeb491c72a4d15a519dece79_1044128_200x0_resize_box_3.png 200w" width=3596 height=1896 alt=Rectangle></div></div></div></p><h3 id=asset-locations>Asset Locations<a href=#asset-locations class=anchor aria-hidden=true>#</a></h3><blockquote class="caution callout"><div><strong></strong> <strong>Caution:</strong> It is important to recognize that the location does not necessarily denote the Asset’s current position in space; it simply determines which facility the Asset belongs to. For things that move around, use GIS coordinates on Events instead.</div></blockquote><p>Assets in DataTrails can be arranged into locations, which allows virtual assets (eg digital twins) to be grouped together in a physical context (eg a single plant location). Locations have full 6-digit decimal latitude and longitude components along with full address details allowing high-precision placement on any map renderer or GIS software you wish to link them to. It is not required for assets to be associated with a location, but it is a useful way to group assets in the same physical location and provides for numerous convenience functions in the DataTrails UI.</p><p>This enables users of the system to quickly identify the answers to questions such as “how many PLCs in the Greyslake plant need to be updated?”, or “who was the last person to touch any device in the Cape Town facility?”. Locations support custom attributes which can be defined and used for any purpose by the user. This enables storage of a mailing address, phone number, or contact details of the site manager, for example.</p><p>Locations are editable and deletable as much as you want. Their references are stored on the DLT but the actual objects are not.</p><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> If your use case does not concern physical sites like factory plant locations or offices it is still possible to use locations to logically group related Assets together. However, in this instance it is likely to be more scalable to use a custom attribute to link Assets.</div></blockquote><h3 id=gis-coordinates-on-events>GIS Coordinates on Events<a href=#gis-coordinates-on-events class=anchor aria-hidden=true>#</a></h3><p>If you&rsquo;re wanting to track the movement of an Asset, or record an audit trail of <em>where</em> a particular Event happens, you can add <code>arc_gis_lat</code> and <code>arc_gis_lng</code> attributes to the <code>event_attributes</code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;asset_identity&#34;</span><span class=p>:</span> <span class=s2>&#34;assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;behaviour&#34;</span><span class=p>:</span> <span class=s2>&#34;RecordEvidence&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;operation&#34;</span><span class=p>:</span> <span class=s2>&#34;Record&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;event_attributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_display_type&#34;</span><span class=p>:</span> <span class=s2>&#34;Sighting Report&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_description&#34;</span><span class=p>:</span> <span class=s2>&#34;Observed at Fort Mason, San Francisco&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_gis_lat&#34;</span><span class=p>:</span> <span class=s2>&#34;37.807338&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;arc_gis_lng&#34;</span> <span class=p>:</span> <span class=s2>&#34;-122.429286&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>Once applied the GIS coordinates on Events are immutable.</p><h2 id=compliance-policies>Compliance Policies<a href=#compliance-policies class=anchor aria-hidden=true>#</a></h2><p>Trust is subjective. Compliance is a judgement call. No matter what security technology you have in play, every trust decision you make will depend on the circumstances: who is accessing what; where they’re coming from; how sensitive an operation they’re attempting; the consequences of getting it wrong. An Asset that is safe in one context may not be in another.</p><p>By maintaining a complete traceable record of Who Did What When to a Thing, DataTrails makes it possible for any authorized stakeholder to quickly and easily verify that critical processes have been followed and recorded correctly. And if they weren’t, the record makes it easy to discover where things went wrong and what to fix. For instance, missed or late maintenance rounds can be detected simply by spotting gaps in the maintenance record; cyber vulnerable devices can be found by comparing ideal baselines with patching records; out-of-order process execution and handling violations are visible to all; and back-dating is automatically detectable.</p><p>All of this is very valuable in audit and RCA situations after an incident, where there is time to collect together Asset records, piece together the important parts, and analyze the meaning.</p><p>But what if the same information could be used for real-time decision-making that might avert an incident? This is where DataTrails’ “compliance posture” APIs come in. These take the thinking and processing burden off the client by providing a single, simple API call to answer the complex question: “given all you know about this asset, should I trust it right now?”. Additionally, and crucially for sensitive use cases, the yes or no answer comes with a detailed defensible reason why which can be inspected by relevant stakeholders during or after the event.</p><p>When put all together, this enables high quality decision making based on the best available data, even giving confidence to automated or AI systems to play a full part in operations. Assets can be checked as part of access control logic, prior to accepting data or commands from them, accepting a shipment, or anything else that is important to your business. Crucially, each stakeholder is able to define their own view on Compliance, meaning they can each apply their own unique lens and business concerns to the same evidence base.</p><h3 id=compliance-policy-configuration>Compliance Policy Configuration<a href=#compliance-policy-configuration class=anchor aria-hidden=true>#</a></h3><p>In order to make these trust decisions, DataTrails can be configured with Compliance Policies to check Assets against. These policies specify things like tolerance for vulnerability windows, maintenance SLAs, or detecting unusual values for attributes. For example:</p><ul><li>“Assets must be patched within 40 days of vulnerability notification”</li><li>“Maintenance calls must be answered within 72 hours”</li><li>&ldquo;rad level must be less than 7&rdquo;</li></ul><p>Policies can also declare relative tolerances, such as:</p><ul><li>&ldquo;No shipping transfer should be more than 10% longer than the average time&rdquo;</li><li>&ldquo;The reported weight of this container should be within 1 standard deviation of the historic mean&rdquo;</li></ul><p>Individual assets either pass or fail, and organizations can calculate their overall security/compliance posture based on what proportion of their assets are breaching their policy set. Compliance signals can also be used to identify where risk lies in an organization and help to prioritize remedial activities.</p><h4 id=types-of-compliance-policy>Types of Compliance Policy<a href=#types-of-compliance-policy class=anchor aria-hidden=true>#</a></h4><p>As with Assets and Events, Compliance Policies are very flexible and can be configured to answer a wide range of business problems. The following categories of policy are supported:</p><ul><li><strong>COMPLIANCE RICHNESS</strong>: This Compliance Policy checks whether a specific attribute of an Asset is within acceptable bounds.<br>For example, &ldquo;Weight attribute must be less than 1000 kg&rdquo;</li><li><strong>COMPLIANCE SINCE</strong>: This Compliance Policy checks if the time since the last occurrence of a specific Event Type has elapsed a specified threshold.<br>For example, &ldquo;Time since last Maintenance must be less than 72 hours&rdquo;</li><li><strong>COMPLIANCE CURRENT OUTSTANDING</strong>: This Compliance Policy will only pass if there is an associated closing event addressing a specified outstanding event.<br>For example, checking there are no outstanding &ldquo;Maintenance Request&rdquo; Events that are not addressed by an associated &ldquo;Maintenance Performed&rdquo; Event.</li><li><strong>COMPLIANCE_PERIOD_OUTSTANDING</strong>: This Compliance Policy will only pass if the time between a pair of correlated events did not exceed the defined threshold.<br>For example, a policy checking that the time between &ldquo;Maintenance Request&rdquo; and &ldquo;Maintenance Performed&rdquo; Events does not exceed the maximum 72 hours.</li><li><strong>COMPLIANCE_DYNAMIC_TOLERANCE</strong>: This Compliance Policy will only pass if the time between a pair of correlated events or the value of an attribute does not exceed the a variability from the usually observed values.<br>For example, a policy checking that maintenance times are not considerably longer than normal, or the weight of a container is not much less than the typical average.</li></ul><blockquote class="note callout"><div><strong></strong> <strong>Note:</strong> To correlate Events, define the attribute <code>arc_correlation_value</code> in the Event attributes and set it to the same value on each pair of Events that are to be associated.</div></blockquote><h2 id=perspectives>Perspectives<a href=#perspectives class=anchor aria-hidden=true>#</a></h2><p>In the Asset example above there is an <code>at_time</code> property, which reflects a date and time at which these attributes and values were contemporary. Usually this will just be the current system time, but with DataTrails it is possible to go back in time and ask the question &ldquo;what would that asset have looked like to me had I looked at it last week/last year/before the incident?&rdquo;. Using its high integrity record of Asset lineage, DataTrails can give clear and faithful answers to those questions with no fear of backdating, forgery, or repudiation getting in the way.</p><p>To do this, simply add <code>at_time=TIMESTAMP</code> to your query. For example, to check the state an Asset was in at 15:30 UTC on 23rd June:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -H <span class=s2>&#34;Authorization: Bearer </span><span class=k>$(</span>cat .auth_token<span class=k>)</span><span class=s2>&#34;</span> -H <span class=s2>&#34;Content-Type: application/json&#34;</span> https://app.datatrails.ai/archivist/v2/assets/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx?at_time<span class=o>=</span>2021-06-23T15:30:00Z <span class=p>|</span> jq 
</span></span></code></pre></div><p>Compliance calls can be similarly modified to answer questions like &ldquo;had I asked this question at the time, what would the answer have been?&rdquo; or &ldquo;had the AI asked this question, would it have made a better decision?&rdquo;. This can be done by adding a <code>compliant_at</code> timestamp to the compliance request.</p><h2 id=thats-it>That&rsquo;s it<a href=#thats-it class=anchor aria-hidden=true>#</a></h2><p>These are all the basics of DataTrails. With this knowledge you can now
<a href=https://docs.datatrails.ai/developers/api-reference/>jump straight into the API</a> or try other topic on the
<a href=https://docs.datatrails.ai/platform/>DataTrails Platform</a>.</p><p class=edit-page></p><div class="docs-navigation d-flex justify-content-between"><a href=https://docs.datatrails.ai/platform/overview/core-concepts/><div class="card my-1"><div class="card-body py-2">&larr; Core Concepts</div></div></a><a class=ms-auto href=https://docs.datatrails.ai/platform/overview/creating-an-asset/><div class="card my-1"><div class="card-body py-2">Creating an Asset &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div><div class="col-lg-8 order-first text-lg-end"><ul class=list-inline><li>Can't find what you're looking for? Search our <a href=https://support.datatrails.ai>Support Knowledgebase</a></li></ul></div></div></div></footer><script src=https://docs.datatrails.ai/js/bootstrap.min.f87f6907bc1fe1e41a62d44b3e9c0c73823346c08cf2dcfdb588665f137149e82ca4587edcf626069619180443e4ae086775e0295e673e2cd5fd8032e5048a36.js integrity="sha512-+H9pB7wf4eQaYtRLPpwMc4IzRsCM8tz9tYhmXxNxSegspFh+3PYmBpYZGARD5K4IZ3XgKV5nPizV/YAy5QSKNg==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/js/highlight.min.ae9cd1a5816ccdd5f921c0bcdb608f5badcb1627b456cb7f4307ad07bbb2ff2252d6a1a205aa9b4729b947ecf4744388ad90e4442ab44469e4856af97c96596b.js integrity="sha512-rpzRpYFszdX5IcC822CPW63LFie0Vst/QwetB7uy/yJS1qGiBaqbRym5R+z0dEOIrZDkRCq0RGnkhWr5fJZZaw==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/main.min.ead334df12b3467b782892526f752b1794044d93239c4e9868a9f67b4137b970b836351eb5ed46fe97f8baf5216dc7eb58b016e40bfbb559ab039a03fc079e7b.js integrity="sha512-6tM03xKzRnt4KJJSb3UrF5QETZMjnE6YaKn2e0E3uXC4NjUete1G/pf4uvUhbcfrWLAW5Av7tVmrA5oD/Aeeew==" crossorigin=anonymous defer></script><script src=https://docs.datatrails.ai/index.min.d127dc96fc94525d0b9654e0f6e00bc6554b4d6da3159ad8da772fe7dc678f16e361cb4a912c052726378327802a6d280b2f23f63433a26b36abed51b7a12465.js integrity="sha512-0SfclvyUUl0LllTg9uALxlVLTW2jFZrY2ncv59xnjxbjYctKkSwFJyY3gyeAKm0oCy8j9jQzoms2q+1Rt6EkZQ==" crossorigin=anonymous defer></script></body></html>